(self.webpackChunkproductos_oficina=self.webpackChunkproductos_oficina||[]).push([[179],{2011:(yt,Se,V)=>{"use strict";V.d(Se,{Dh:()=>ye,GT:()=>pe,cc:()=>we,hO:()=>He,on:()=>G,pX:()=>se,xv:()=>ve});var I=V(4650),u=V(127),B=V(5813);yt=V.hmd(yt);const ae=["ngOnDestroy"],se=(he,Je,ot,ke={})=>new Proxy(he,{get:(Me,Pe)=>ot.runOutsideAngular(()=>{var Ye;if(he[Pe])return!(null===(Ye=ke?.spy)||void 0===Ye)&&Ye.get&&ke.spy.get(Pe,he[Pe]),he[Pe];if(ae.indexOf(Pe)>-1)return()=>{};const Xe=Je.toPromise().then(q=>{const Ne=q&&q[Pe];return"function"==typeof Ne?Ne.bind(q):Ne&&Ne.then?Ne.then(ee=>ot.run(()=>ee)):ot.run(()=>Ne)});return new Proxy(()=>{},{get:(q,Ne)=>Xe[Ne],apply:(q,Ne,ee)=>Xe.then(ie=>{var fe;const le=ie&&ie(...ee);return!(null===(fe=ke?.spy)||void 0===fe)&&fe.apply&&ke.spy.apply(Pe,ee,le),le})})})}),pe=(he,Je)=>{Je.forEach(ot=>{Object.getOwnPropertyNames(ot.prototype||ot).forEach(ke=>{Object.defineProperty(he.prototype,ke,Object.getOwnPropertyDescriptor(ot.prototype||ot,ke))})})};class De{constructor(Je){return Je}}const ye=new I.InjectionToken("angularfire2.app.options"),ve=new I.InjectionToken("angularfire2.app.name");function G(he,Je,ot){const Me="object"==typeof ot&&ot||{};Me.name=Me.name||"string"==typeof ot&&ot||"[DEFAULT]";const Ye=u.Z.apps.filter(Xe=>Xe&&Xe.name===Me.name)[0]||Je.runOutsideAngular(()=>u.Z.initializeApp(he,Me));try{JSON.stringify(he)!==JSON.stringify(Ye.options)&&z("error",`${Ye.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De(Ye)}const z=(he,...Je)=>{(0,I.isDevMode)()&&typeof console<"u"&&console[he](...Je)},X={provide:De,useFactory:G,deps:[ye,I.NgZone,[new I.Optional,ve]]};let He=(()=>{class he{constructor(ot){u.Z.registerVersion("angularfire",B.q4.full,"core"),u.Z.registerVersion("angularfire",B.q4.full,"app-compat"),u.Z.registerVersion("angular",I.VERSION.full,ot.toString())}static initializeApp(ot,ke){return{ngModule:he,providers:[{provide:ye,useValue:ot},{provide:ve,useValue:ke}]}}}return he.\u0275fac=function(ot){return new(ot||he)(I.\u0275\u0275inject(I.PLATFORM_ID))},he.\u0275mod=I.\u0275\u0275defineNgModule({type:he}),he.\u0275inj=I.\u0275\u0275defineInjector({providers:[X]}),he})();function we(he,Je,ot,ke,Me){const[,Pe,Ye]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===he)||[];if(Pe)return function ce(he,Je){try{return he.toString()===Je.toString()}catch{return he===Je}}(Me,Ye)||(ge("error",`${Je} was already initialized on the ${ot} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Me,was:Ye})),Pe;{const Xe=ke();return globalThis.\u0275AngularfireInstanceCache.push([he,Xe,Me]),Xe}}const Ge=!!yt.hot,ge=(he,...Je)=>{(0,I.isDevMode)()&&typeof console<"u"&&console[he](...Je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(yt,Se,V)=>{"use strict";V.d(Se,{q4:()=>Ti,iC:()=>zs,HU:()=>go,vb:()=>po,JM:()=>sc});var I=V(4650),u=V(5867),B=V(5861),ae=V(9681),se=V(2090),pe=V(4859),De=V(1877),ye=V(8766);const ve="@firebase/installations",G="0.5.16",X=`w:${G}`,He="FIS_v2",Je=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ot(S){return S instanceof se.ZR&&S.code.includes("request-failed")}function ke({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Me(S){return{token:S.token,requestStatus:2,expiresIn:ie(S.expiresIn),creationTime:Date.now()}}function Pe(S,N){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,B.Z)(function*(S,N){const U=(yield N.json()).error;return Je.create("request-failed",{requestName:S,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Xe({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function q(S,{refreshToken:N}){const R=Xe(S);return R.append("Authorization",function fe(S){return`${He} ${S}`}(N)),R}function Ne(S){return ee.apply(this,arguments)}function ee(){return(ee=(0,B.Z)(function*(S){const N=yield S();return N.status>=500&&N.status<600?S():N})).apply(this,arguments)}function ie(S){return Number(S.replace("s","000"))}function le(S,N){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:N},{fid:R}){const U=ke(S),ne=Xe(S),me=N.getImmediate({optional:!0});if(me){const Nt=yield me.getHeartbeatsHeader();Nt&&ne.append("x-firebase-client",Nt)}const $e={method:"POST",headers:ne,body:JSON.stringify({fid:R,authVersion:He,appId:S.appId,sdkVersion:X})},vt=yield Ne(()=>fetch(U,$e));if(vt.ok){const Nt=yield vt.json();return{fid:Nt.fid||R,registrationStatus:2,refreshToken:Nt.refreshToken,authToken:Me(Nt.authToken)}}throw yield Pe("Create Installation",vt)})).apply(this,arguments)}function We(S){return new Promise(N=>{setTimeout(N,S)})}const rn=/^[cdef][\w-]{21}$/;function st(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const R=function bn(S){return function bt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return rn.test(R)?R:""}catch{return""}}function En(S){return`${S.appName}!${S.appId}`}const sn=new Map;function on(S,N){const R=En(S);In(R,N),function ds(S,N){const R=function $r(){return!Kr&&"BroadcastChannel"in self&&(Kr=new BroadcastChannel("[Firebase] FID Change"),Kr.onmessage=S=>{In(S.data.key,S.data.fid)}),Kr}();R&&R.postMessage({key:S,fid:N}),function Zr(){0===sn.size&&Kr&&(Kr.close(),Kr=null)}()}(R,N)}function In(S,N){const R=sn.get(S);if(R)for(const U of R)U(N)}let Kr=null;const Rr="firebase-installations-store";let Qr=null;function Js(){return Qr||(Qr=(0,ye.X3)("firebase-installations-database",1,{upgrade:(S,N)=>{0===N&&S.createObjectStore(Rr)}})),Qr}function at(S,N){return br.apply(this,arguments)}function br(){return(br=(0,B.Z)(function*(S,N){const R=En(S),ne=(yield Js()).transaction(Rr,"readwrite"),me=ne.objectStore(Rr),Y=yield me.get(R);return yield me.put(N,R),yield ne.done,(!Y||Y.fid!==N.fid)&&on(S,N.fid),N})).apply(this,arguments)}function hs(S){return hr.apply(this,arguments)}function hr(){return(hr=(0,B.Z)(function*(S){const N=En(S),U=(yield Js()).transaction(Rr,"readwrite");yield U.objectStore(Rr).delete(N),yield U.done})).apply(this,arguments)}function Yr(S,N){return fs.apply(this,arguments)}function fs(){return(fs=(0,B.Z)(function*(S,N){const R=En(S),ne=(yield Js()).transaction(Rr,"readwrite"),me=ne.objectStore(Rr),Y=yield me.get(R),$e=N(Y);return void 0===$e?yield me.delete(R):yield me.put($e,R),yield ne.done,$e&&(!Y||Y.fid!==$e.fid)&&on(S,$e.fid),$e})).apply(this,arguments)}function Kn(S){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,B.Z)(function*(S){let N;const R=yield Yr(S.appConfig,U=>{const ne=Gt(U),me=Et(S,ne);return N=me.registrationPromise,me.installationEntry});return""===R.fid?{installationEntry:yield N}:{installationEntry:R,registrationPromise:N}})).apply(this,arguments)}function Gt(S){return Vt(S||{fid:st(),registrationStatus:0})}function Et(S,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(Je.create("app-offline"))};const R={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},U=function It(S,N){return Dn.apply(this,arguments)}(S,R);return{installationEntry:R,registrationPromise:U}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:fr(S)}:{installationEntry:N}}function Dn(){return(Dn=(0,B.Z)(function*(S,N){try{const R=yield le(S,N);return at(S.appConfig,R)}catch(R){throw ot(R)&&409===R.customData.serverCode?yield hs(S.appConfig):yield at(S.appConfig,{fid:N.fid,registrationStatus:0}),R}})).apply(this,arguments)}function fr(S){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,B.Z)(function*(S){let N=yield Jr(S.appConfig);for(;1===N.registrationStatus;)yield We(100),N=yield Jr(S.appConfig);if(0===N.registrationStatus){const{installationEntry:R,registrationPromise:U}=yield Kn(S);return U||R}return N})).apply(this,arguments)}function Jr(S){return Yr(S,N=>{if(!N)throw Je.create("installation-not-found");return Vt(N)})}function Vt(S){return function Ri(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function cn(S,N){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:N},R){const U=_n(S,R),ne=q(S,R),me=N.getImmediate({optional:!0});if(me){const Nt=yield me.getHeartbeatsHeader();Nt&&ne.append("x-firebase-client",Nt)}const $e={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:X,appId:S.appId}})},vt=yield Ne(()=>fetch(U,$e));if(vt.ok)return Me(yield vt.json());throw yield Pe("Generate Auth Token",vt)})).apply(this,arguments)}function _n(S,{fid:N}){return`${ke(S)}/${N}/authTokens:generate`}function pr(S){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,B.Z)(function*(S,N=!1){let R;const U=yield Yr(S.appConfig,me=>{if(!Kt(me))throw Je.create("not-registered");const Y=me.authToken;if(!N&&K(Y))return me;if(1===Y.requestStatus)return R=_t(S,N),me;{if(!navigator.onLine)throw Je.create("app-offline");const $e=te(me);return R=Rt(S,$e),$e}});return R?yield R:U.authToken})).apply(this,arguments)}function _t(S,N){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,B.Z)(function*(S,N){let R=yield mt(S.appConfig);for(;1===R.authToken.requestStatus;)yield We(100),R=yield mt(S.appConfig);const U=R.authToken;return 0===U.requestStatus?pr(S,N):U})).apply(this,arguments)}function mt(S){return Yr(S,N=>{if(!Kt(N))throw Je.create("not-registered");return function Oe(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Rt(S,N){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,B.Z)(function*(S,N){try{const R=yield cn(S,N),U=Object.assign(Object.assign({},N),{authToken:R});return yield at(S.appConfig,U),R}catch(R){if(!ot(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const U=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield at(S.appConfig,U)}else yield hs(S.appConfig);throw R}})).apply(this,arguments)}function Kt(S){return void 0!==S&&2===S.registrationStatus}function K(S){return 2===S.requestStatus&&!function W(S){const N=Date.now();return N<S.creationTime||S.creationTime+S.expiresIn<N+36e5}(S)}function te(S){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:N})}function nt(){return(nt=(0,B.Z)(function*(S){const N=S,{installationEntry:R,registrationPromise:U}=yield Kn(N);return U?U.catch(console.error):pr(N).catch(console.error),R.fid})).apply(this,arguments)}function fn(){return(fn=(0,B.Z)(function*(S,N=!1){const R=S;return yield Sn(R),(yield pr(R,N)).token})).apply(this,arguments)}function Sn(S){return ln.apply(this,arguments)}function ln(){return(ln=(0,B.Z)(function*(S){const{registrationPromise:N}=yield Kn(S);N&&(yield N)})).apply(this,arguments)}function Xr(S){return Je.create("missing-app-config-values",{valueName:S})}const Xs="installations",Zt=S=>{const N=S.getProvider("app").getImmediate(),R=function zt(S){if(!S||!S.options)throw Xr("App Configuration");if(!S.name)throw Xr("App Name");const N=["projectId","apiKey","appId"];for(const R of N)if(!S.options[R])throw Xr(R);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(N);return{app:N,appConfig:R,heartbeatServiceProvider:(0,ae._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},ei=S=>{const N=S.getProvider("app").getImmediate(),R=(0,ae._getProvider)(N,Xs).getImmediate();return{getId:()=>function re(S){return nt.apply(this,arguments)}(R),getToken:ne=>function Ct(S){return fn.apply(this,arguments)}(R,ne)}};(function On(){(0,ae._registerComponent)(new pe.wA(Xs,Zt,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("installations-internal",ei,"PRIVATE"))})(),(0,ae.registerVersion)(ve,G),(0,ae.registerVersion)(ve,G,"esm2017");const di="@firebase/remote-config",$n=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vl{constructor(N,R,U,ne){this.client=N,this.storage=R,this.storageCache=U,this.logger=ne}isCachedDataFresh(N,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-R,ne=U<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${ne}.`),ne}fetch(N){var R=this;return(0,B.Z)(function*(){const[U,ne]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ne&&R.isCachedDataFresh(N.cacheMaxAgeMillis,U))return ne;N.eTag=ne&&ne.eTag;const me=yield R.client.fetch(N),Y=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===me.status&&Y.push(R.storage.setLastSuccessfulFetchResponse(me)),yield Promise.all(Y),me})()}}function Ua(S=navigator){return S.languages&&S.languages[0]||S.language}class Fc{constructor(N,R,U,ne,me,Y){this.firebaseInstallations=N,this.sdkVersion=R,this.namespace=U,this.projectId=ne,this.apiKey=me,this.appId=Y}fetch(N){var R=this;return(0,B.Z)(function*(){var U,ne,me;const[Y,$e]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Nt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Ue={sdk_version:R.sdkVersion,app_instance_id:Y,app_instance_id_token:$e,app_id:R.appId,language_code:Ua()},er={method:"POST",headers:Be,body:JSON.stringify(Ue)},ze=fetch(Nt,er),be=new Promise((ac,ya)=>{N.signal.addEventListener(()=>{const Ku=new Error("The operation was aborted.");Ku.name="AbortError",ya(Ku)})});let Le;try{yield Promise.race([ze,be]),Le=yield ze}catch(ac){let ya="fetch-client-network";throw"AbortError"===(null===(U=ac)||void 0===U?void 0:U.name)&&(ya="fetch-timeout"),$n.create(ya,{originalErrorMessage:null===(ne=ac)||void 0===ne?void 0:ne.message})}let Vn=Le.status;const ma=Le.headers.get("ETag")||void 0;let Bo,_a;if(200===Le.status){let ac;try{ac=yield Le.json()}catch(ya){throw $n.create("fetch-client-parse",{originalErrorMessage:null===(me=ya)||void 0===me?void 0:me.message})}Bo=ac.entries,_a=ac.state}if("INSTANCE_STATE_UNSPECIFIED"===_a?Vn=500:"NO_CHANGE"===_a?Vn=304:("NO_TEMPLATE"===_a||"EMPTY_CONFIG"===_a)&&(Bo={}),304!==Vn&&200!==Vn)throw $n.create("fetch-status",{httpStatus:Vn});return{status:Vn,eTag:ma,config:Bo}})()}}class wr{constructor(N,R){this.client=N,this.storage=R}fetch(N){var R=this;return(0,B.Z)(function*(){const U=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(N,U)})()}attemptFetch(N,{throttleEndTimeMillis:R,backoffCount:U}){var ne=this;return(0,B.Z)(function*(){yield function an(S,N){return new Promise((R,U)=>{const ne=Math.max(N-Date.now(),0),me=setTimeout(R,ne);S.addEventListener(()=>{clearTimeout(me),U($n.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,R);try{const me=yield ne.client.fetch(N);return yield ne.storage.deleteThrottleMetadata(),me}catch(me){if(!function Yo(S){if(!(S instanceof se.ZR&&S.customData))return!1;const N=Number(S.customData.httpStatus);return 429===N||500===N||503===N||504===N}(me))throw me;const Y={throttleEndTimeMillis:Date.now()+(0,se.$s)(U),backoffCount:U+1};return yield ne.storage.setThrottleMetadata(Y),ne.attemptFetch(N,Y)}})()}}class $a{constructor(N,R,U,ne,me){this.app=N,this._client=R,this._storageCache=U,this._storage=ne,this._logger=me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Eo(S,N){var R;const U=S.target.error||void 0;return $n.create(N,{originalErrorMessage:U&&(null===(R=U)||void 0===R?void 0:R.message)})}const ms="app_namespace_store";class Bl{constructor(N,R,U,ne=function Ha(){return new Promise((S,N)=>{var R;try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=ne=>{N(Eo(ne,"storage-open"))},U.onsuccess=ne=>{S(ne.target.result)},U.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(ms,{keyPath:"compositeKey"})}}catch(U){N($n.create("storage-open",{originalErrorMessage:null===(R=U)||void 0===R?void 0:R.message}))}})}()){this.appId=N,this.appName=R,this.namespace=U,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var R=this;return(0,B.Z)(function*(){const U=yield R.openDbPromise;return new Promise((ne,me)=>{var Y;const vt=U.transaction([ms],"readonly").objectStore(ms),Nt=R.createCompositeKey(N);try{const Be=vt.get(Nt);Be.onerror=Ue=>{me(Eo(Ue,"storage-get"))},Be.onsuccess=Ue=>{const er=Ue.target.result;ne(er?er.value:void 0)}}catch(Be){me($n.create("storage-get",{originalErrorMessage:null===(Y=Be)||void 0===Y?void 0:Y.message}))}})})()}set(N,R){var U=this;return(0,B.Z)(function*(){const ne=yield U.openDbPromise;return new Promise((me,Y)=>{var $e;const Nt=ne.transaction([ms],"readwrite").objectStore(ms),Be=U.createCompositeKey(N);try{const Ue=Nt.put({compositeKey:Be,value:R});Ue.onerror=er=>{Y(Eo(er,"storage-set"))},Ue.onsuccess=()=>{me()}}catch(Ue){Y($n.create("storage-set",{originalErrorMessage:null===($e=Ue)||void 0===$e?void 0:$e.message}))}})})()}delete(N){var R=this;return(0,B.Z)(function*(){const U=yield R.openDbPromise;return new Promise((ne,me)=>{var Y;const vt=U.transaction([ms],"readwrite").objectStore(ms),Nt=R.createCompositeKey(N);try{const Be=vt.delete(Nt);Be.onerror=Ue=>{me(Eo(Ue,"storage-delete"))},Be.onsuccess=()=>{ne()}}catch(Be){me($n.create("storage-delete",{originalErrorMessage:null===(Y=Be)||void 0===Y?void 0:Y.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Ga{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,B.Z)(function*(){const R=N.storage.getLastFetchStatus(),U=N.storage.getLastSuccessfulFetchTimestampMillis(),ne=N.storage.getActiveConfig(),me=yield R;me&&(N.lastFetchStatus=me);const Y=yield U;Y&&(N.lastSuccessfulFetchTimestampMillis=Y);const $e=yield ne;$e&&(N.activeConfig=$e)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Wa(){return jl.apply(this,arguments)}function jl(){return(jl=(0,B.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function gi(){(0,ae._registerComponent)(new pe.wA("remote-config",function S(N,{instanceIdentifier:R}){const U=N.getProvider("app").getImmediate(),ne=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw $n.create("registration-window");if(!(0,se.hl)())throw $n.create("indexed-db-unavailable");const{projectId:me,apiKey:Y,appId:$e}=U.options;if(!me)throw $n.create("registration-project-id");if(!Y)throw $n.create("registration-api-key");if(!$e)throw $n.create("registration-app-id");const vt=new Bl($e,U.name,R=R||"firebase"),Nt=new Ga(vt),Be=new De.Yd(di);Be.logLevel=De.in.ERROR;const Ue=new Fc(ne,ae.SDK_VERSION,R,me,Y,$e),er=new wr(Ue,vt),ze=new Vl(er,vt,Nt,Be),be=new $a(U,ze,Nt,vt,Be);return function gr(S){const N=(0,se.m9)(S);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(be),be},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(di,"0.3.15"),(0,ae.registerVersion)(di,"0.3.15","esm2017")}();const Fr="/firebase-messaging-sw.js",_i="/firebase-cloud-messaging-push-scope",yi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xo="google.c.a.c_id",ea="google.c.a.c_l",to="google.c.a.ts",Vc="google.c.a.e";var ki=(()=>{return(S=ki||(ki={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",ki;var S})();function ti(S){const N=new Uint8Array(S);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hr(S){const R=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(R),ne=new Uint8Array(U.length);for(let me=0;me<U.length;++me)ne[me]=U.charCodeAt(me);return ne}const ys="fcm_token_details_db",Lr="fcm_token_object_Store";function To(S){return Ul.apply(this,arguments)}function Ul(){return Ul=(0,B.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(me=>me.name).includes(ys))return null;let N=null;return(yield(0,ye.X3)(ys,5,{upgrade:(U=(0,B.Z)(function*(ne,me,Y,$e){var vt;if(me<2||!ne.objectStoreNames.contains(Lr))return;const Nt=$e.objectStore(Lr),Be=yield Nt.index("fcmSenderId").get(S);if(yield Nt.clear(),Be)if(2===me){const Ue=Be;if(!Ue.auth||!Ue.p256dh||!Ue.endpoint)return;N={token:Ue.fcmToken,createTime:null!==(vt=Ue.createTime)&&void 0!==vt?vt:Date.now(),subscriptionOptions:{auth:Ue.auth,p256dh:Ue.p256dh,endpoint:Ue.endpoint,swScope:Ue.swScope,vapidKey:"string"==typeof Ue.vapidKey?Ue.vapidKey:ti(Ue.vapidKey)}}}else if(3===me){const Ue=Be;N={token:Ue.fcmToken,createTime:Ue.createTime,subscriptionOptions:{auth:ti(Ue.auth),p256dh:ti(Ue.p256dh),endpoint:Ue.endpoint,swScope:Ue.swScope,vapidKey:ti(Ue.vapidKey)}}}else if(4===me){const Ue=Be;N={token:Ue.fcmToken,createTime:Ue.createTime,subscriptionOptions:{auth:ti(Ue.auth),p256dh:ti(Ue.p256dh),endpoint:Ue.endpoint,swScope:Ue.swScope,vapidKey:ti(Ue.vapidKey)}}}}),function(me,Y,$e,vt){return U.apply(this,arguments)})})).close(),yield(0,ye.Lj)(ys),yield(0,ye.Lj)("fcm_vapid_details_db"),yield(0,ye.Lj)("undefined"),Nn(N)?N:null;var U}),Ul.apply(this,arguments)}function Nn(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:N}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const Vr="firebase-messaging-store";let Er=null;function So(){return Er||(Er=(0,ye.X3)("firebase-messaging-database",1,{upgrade:(S,N)=>{0===N&&S.createObjectStore(Vr)}})),Er}function ro(S){return vi.apply(this,arguments)}function vi(){return(vi=(0,B.Z)(function*(S){const N=ni(S),U=yield(yield So()).transaction(Vr).objectStore(Vr).get(N);if(U)return U;{const ne=yield To(S.appConfig.senderId);if(ne)return yield en(S,ne),ne}})).apply(this,arguments)}function en(S,N){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,B.Z)(function*(S,N){const R=ni(S),ne=(yield So()).transaction(Vr,"readwrite");return yield ne.objectStore(Vr).put(N,R),yield ne.done,N})).apply(this,arguments)}function vs(S){return io.apply(this,arguments)}function io(){return(io=(0,B.Z)(function*(S){const N=ni(S),U=(yield So()).transaction(Vr,"readwrite");yield U.objectStore(Vr).delete(N),yield U.done})).apply(this,arguments)}function ni({appConfig:S}){return S.appId}const Hn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pt(S,N){return so.apply(this,arguments)}function so(){return(so=(0,B.Z)(function*(S,N){var R;const U=yield No(S),ne=Ae(N),me={method:"POST",headers:U,body:JSON.stringify(ne)};let Y;try{Y=yield(yield fetch(Fi(S.appConfig),me)).json()}catch($e){throw Hn.create("token-subscribe-failed",{errorInfo:null===(R=$e)||void 0===R?void 0:R.toString()})}if(Y.error)throw Hn.create("token-subscribe-failed",{errorInfo:Y.error.message});if(!Y.token)throw Hn.create("token-subscribe-no-token");return Y.token})).apply(this,arguments)}function $l(S,N){return oo.apply(this,arguments)}function oo(){return(oo=(0,B.Z)(function*(S,N){var R;const U=yield No(S),ne=Ae(N.subscriptionOptions),me={method:"PATCH",headers:U,body:JSON.stringify(ne)};let Y;try{Y=yield(yield fetch(`${Fi(S.appConfig)}/${N.token}`,me)).json()}catch($e){throw Hn.create("token-update-failed",{errorInfo:null===(R=$e)||void 0===R?void 0:R.toString()})}if(Y.error)throw Hn.create("token-update-failed",{errorInfo:Y.error.message});if(!Y.token)throw Hn.create("token-update-no-token");return Y.token})).apply(this,arguments)}function na(S,N){return ra.apply(this,arguments)}function ra(){return(ra=(0,B.Z)(function*(S,N){var R;const ne={method:"DELETE",headers:yield No(S)};try{const Y=yield(yield fetch(`${Fi(S.appConfig)}/${N}`,ne)).json();if(Y.error)throw Hn.create("token-unsubscribe-failed",{errorInfo:Y.error.message})}catch(me){throw Hn.create("token-unsubscribe-failed",{errorInfo:null===(R=me)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function Fi({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function No(S){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,B.Z)(function*({appConfig:S,installations:N}){const R=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Ae({p256dh:S,auth:N,endpoint:R,vapidKey:U}){const ne={web:{endpoint:R,auth:N,p256dh:S}};return U!==yi&&(ne.web.applicationPubKey=U),ne}const St=6048e5;function Vs(S){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,B.Z)(function*(S){const N=yield sa(S.swRegistration,S.vapidKey),R={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:N.endpoint,auth:ti(N.getKey("auth")),p256dh:ti(N.getKey("p256dh"))},U=yield ro(S.firebaseDependencies);if(U){if(Qa(U.subscriptionOptions,R))return Date.now()>=U.createTime+St?Bs(S,{token:U.token,createTime:Date.now(),subscriptionOptions:R}):U.token;try{yield na(S.firebaseDependencies,U.token)}catch(ne){console.warn(ne)}return ia(S.firebaseDependencies,R)}return ia(S.firebaseDependencies,R)})).apply(this,arguments)}function qn(S){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,B.Z)(function*(S){const N=yield ro(S.firebaseDependencies);N&&(yield na(S.firebaseDependencies,N.token),yield vs(S.firebaseDependencies));const R=yield S.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Bs(S,N){return bi.apply(this,arguments)}function bi(){return(bi=(0,B.Z)(function*(S,N){try{const R=yield $l(S.firebaseDependencies,N),U=Object.assign(Object.assign({},N),{token:R,createTime:Date.now()});return yield en(S.firebaseDependencies,U),R}catch(R){throw yield qn(S),R}})).apply(this,arguments)}function ia(S,N){return ao.apply(this,arguments)}function ao(){return(ao=(0,B.Z)(function*(S,N){const U={token:yield Pt(S,N),createTime:Date.now(),subscriptionOptions:N};return yield en(S,U),U.token})).apply(this,arguments)}function sa(S,N){return Za.apply(this,arguments)}function Za(){return(Za=(0,B.Z)(function*(S,N){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hr(N)})})).apply(this,arguments)}function Qa(S,N){return N.vapidKey===S.vapidKey&&N.endpoint===S.endpoint&&N.auth===S.auth&&N.p256dh===S.p256dh}function Mo(S){const N={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Zn(S,N){if(!N.notification)return;S.notification={};const R=N.notification.title;R&&(S.notification.title=R);const U=N.notification.body;U&&(S.notification.body=U);const ne=N.notification.image;ne&&(S.notification.image=ne);const me=N.notification.icon;me&&(S.notification.icon=me)}(N,S),function ri(S,N){!N.data||(S.data=N.data)}(N,S),function oa(S,N){var R,U,ne,me,Y;if(!(N.fcmOptions||null!==(R=N.notification)&&void 0!==R&&R.click_action))return;S.fcmOptions={};const $e=null!==(ne=null===(U=N.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==ne?ne:null===(me=N.notification)||void 0===me?void 0:me.click_action;$e&&(S.fcmOptions.link=$e);const vt=null===(Y=N.fcmOptions)||void 0===Y?void 0:Y.analytics_label;vt&&(S.fcmOptions.analyticsLabel=vt)}(N,S),N}function Yi(S){return"object"==typeof S&&!!S&&Xo in S}function Di(S,N){const R=[];for(let U=0;U<S.length;U++)R.push(S.charAt(U)),U<N.length&&R.push(N.charAt(U));return R.join("")}function bs(S){return Hn.create("missing-app-config-values",{valueName:S})}Di("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Di("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ku{constructor(N,R,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function Pu(S){if(!S||!S.options)throw bs("App Configuration Object");if(!S.name)throw bs("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:R}=S;for(const U of N)if(!R[U])throw bs(U);return{appName:S.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:ne,installations:R,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Ya(S){return aa.apply(this,arguments)}function aa(){return(aa=(0,B.Z)(function*(S){var N;try{S.swRegistration=yield navigator.serviceWorker.register(Fr,{scope:_i}),S.swRegistration.update().catch(()=>{})}catch(R){throw Hn.create("failed-service-worker-registration",{browserErrorMessage:null===(N=R)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function js(S,N){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,B.Z)(function*(S,N){if(!N&&!S.swRegistration&&(yield Ya(S)),N||!S.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw Hn.create("invalid-sw-registration");S.swRegistration=N}})).apply(this,arguments)}function ca(S,N){return Us.apply(this,arguments)}function Us(){return(Us=(0,B.Z)(function*(S,N){N?S.vapidKey=N:S.vapidKey||(S.vapidKey=yi)})).apply(this,arguments)}function Xa(){return(Xa=(0,B.Z)(function*(S,N){if(!navigator)throw Hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hn.create("permission-blocked");return yield ca(S,N?.vapidKey),yield js(S,N?.serviceWorkerRegistration),Vs(S)})).apply(this,arguments)}function Ds(S,N,R){return ec.apply(this,arguments)}function ec(){return(ec=(0,B.Z)(function*(S,N,R){const U=xo(N);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:R[Xo],message_name:R[ea],message_time:R[to],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xo(S){switch(S){case ki.NOTIFICATION_CLICKED:return"notification_open";case ki.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function O(){return(O=(0,B.Z)(function*(S,N){const R=N.data;if(!R.isFirebaseMessaging)return;S.onMessageHandler&&R.messageType===ki.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Mo(R)):S.onMessageHandler.next(Mo(R)));const U=R.data;Yi(U)&&"1"===U[Vc]&&(yield Ds(S,R.messageType,U))})).apply(this,arguments)}const T="@firebase/messaging",k="0.10.0",H=S=>{const N=new ku(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function C(S,N){return O.apply(this,arguments)}(N,R)),N},de=S=>{const N=S.getProvider("messaging").getImmediate();return{getToken:U=>function Ja(S,N){return Xa.apply(this,arguments)}(N,U)}};function lt(){return nn.apply(this,arguments)}function nn(){return(nn=(0,B.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ie(){(0,ae._registerComponent)(new pe.wA("messaging",H,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("messaging-internal",de,"PRIVATE")),(0,ae.registerVersion)(T,k),(0,ae.registerVersion)(T,k,"esm2017")}();const Vi="analytics",co="firebase_id",Ji="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jc="https://www.googletagmanager.com/gtag/js",Jn=new De.Yd("@firebase/analytics");function Uc(S){return Promise.all(S.map(N=>N.catch(R=>R)))}function lf(S,N){const R=document.createElement("script");R.src=`${jc}?l=${S}&id=${N}`,R.async=!0,document.head.appendChild(R)}function Fu(S,N,R,U,ne,me){return la.apply(this,arguments)}function la(){return(la=(0,B.Z)(function*(S,N,R,U,ne,me){const Y=U[ne];try{if(Y)yield N[Y];else{const vt=(yield Uc(R)).find(Nt=>Nt.measurementId===ne);vt&&(yield N[vt.appId])}}catch($e){Jn.error($e)}S("config",ne,me)})).apply(this,arguments)}function Oo(S,N,R,U,ne){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,B.Z)(function*(S,N,R,U,ne){try{let me=[];if(ne&&ne.send_to){let Y=ne.send_to;Array.isArray(Y)||(Y=[Y]);const $e=yield Uc(R);for(const vt of Y){const Nt=$e.find(Ue=>Ue.measurementId===vt),Be=Nt&&N[Nt.appId];if(!Be){me=[];break}me.push(Be)}}0===me.length&&(me=Object.values(N)),yield Promise.all(me),S("event",U,ne||{})}catch(me){Jn.error(me)}})).apply(this,arguments)}function Ud(S){const N=window.document.getElementsByTagName("script");for(const R of Object.values(N))if(R.src&&R.src.includes(jc)&&R.src.includes(S))return R;return null}const Tr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ro=new class Sr{constructor(N={},R=1e3){this.throttleMetadata=N,this.intervalMillis=R}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,R){this.throttleMetadata[N]=R}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Vu(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function ua(S){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,B.Z)(function*(S){var N;const{appId:R,apiKey:U}=S,ne={method:"GET",headers:Vu(U)},me=Ji.replace("{app-id}",R),Y=yield fetch(me,ne);if(200!==Y.status&&304!==Y.status){let $e="";try{const vt=yield Y.json();null!==(N=vt.error)&&void 0!==N&&N.message&&($e=vt.error.message)}catch{}throw Tr.create("config-fetch-failed",{httpStatus:Y.status,responseMessage:$e})}return Y.json()})).apply(this,arguments)}function Xn(S){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,B.Z)(function*(S,N=Ro,R){const{appId:U,apiKey:ne,measurementId:me}=S.options;if(!U)throw Tr.create("no-app-id");if(!ne){if(me)return{measurementId:me,appId:U};throw Tr.create("no-api-key")}const Y=N.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new Wl;return setTimeout((0,B.Z)(function*(){$e.abort()}),void 0!==R?R:6e4),Po({appId:U,apiKey:ne,measurementId:me},Y,$e,N)})).apply(this,arguments)}function Po(S,N,R){return da.apply(this,arguments)}function da(){return(da=(0,B.Z)(function*(S,{throttleEndTimeMillis:N,backoffCount:R},U,ne=Ro){var me,Y;const{appId:$e,measurementId:vt}=S;try{yield tc(U,N)}catch(Nt){if(vt)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${null===(me=Nt)||void 0===me?void 0:me.message}]`),{appId:$e,measurementId:vt};throw Nt}try{const Nt=yield ua(S);return ne.deleteThrottleMetadata($e),Nt}catch(Nt){const Be=Nt;if(!Bu(Be)){if(ne.deleteThrottleMetadata($e),vt)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${Be?.message}]`),{appId:$e,measurementId:vt};throw Nt}const Ue=503===Number(null===(Y=Be?.customData)||void 0===Y?void 0:Y.httpStatus)?(0,se.$s)(R,ne.intervalMillis,30):(0,se.$s)(R,ne.intervalMillis),er={throttleEndTimeMillis:Date.now()+Ue,backoffCount:R+1};return ne.setThrottleMetadata($e,er),Jn.debug(`Calling attemptFetch again in ${Ue} millis`),Po(S,er,U,ne)}})).apply(this,arguments)}function tc(S,N){return new Promise((R,U)=>{const ne=Math.max(N-Date.now(),0),me=setTimeout(R,ne);S.addEventListener(()=>{clearTimeout(me),U(Tr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function Bu(S){if(!(S instanceof se.ZR&&S.customData))return!1;const N=Number(S.customData.httpStatus);return 429===N||500===N||503===N||504===N}class Wl{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let ha,rc;function Is(){return(Is=(0,B.Z)(function*(S,N,R,U,ne){if(ne&&ne.global)S("event",R,U);else{const me=yield N;S("event",R,Object.assign(Object.assign({},U),{send_to:me}))}})).apply(this,arguments)}function uo(S){rc=S}function Uu(S){ha=S}function ql(){return ic.apply(this,arguments)}function ic(){return(ic=(0,B.Z)(function*(){var S;if(!(0,se.hl)())return Jn.warn(Tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(N){return Jn.warn(Tr.create("indexeddb-unavailable",{errorInfo:null===(S=N)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function Wc(){return(Wc=(0,B.Z)(function*(S,N,R,U,ne,me,Y){var $e;const vt=Xn(S);vt.then(ze=>{R[ze.measurementId]=ze.appId,S.options.measurementId&&ze.measurementId!==S.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${ze.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ze=>Jn.error(ze)),N.push(vt);const Nt=ql().then(ze=>{if(ze)return U.getId()}),[Be,Ue]=yield Promise.all([vt,Nt]);Ud(me)||lf(me,Be.measurementId),rc&&(ne("consent","default",rc),uo(void 0)),ne("js",new Date);const er=null!==($e=Y?.config)&&void 0!==$e?$e:{};return er.origin="firebase",er.update=!0,null!=Ue&&(er[co]=Ue),ne("config",Be.measurementId,er),ha&&(ne("set",ha),Uu(void 0)),Be.measurementId})).apply(this,arguments)}class zc{constructor(N){this.app=N}_delete(){return delete Ci[this.app.options.appId],Promise.resolve()}}let Ci={},ho=[];const pa={};let Hs,Nr,ji="dataLayer",Fo=!1;function $d(S,N,R){!function qc(){const S=[];if((0,se.ru)()&&S.push("This is a browser extension environment."),(0,se.zI)()||S.push("Cookies are not available."),S.length>0){const N=S.map((U,ne)=>`(${ne+1}) ${U}`).join(" "),R=Tr.create("invalid-analytics-context",{errorInfo:N});Jn.warn(R.message)}}();const U=S.options.appId;if(!U)throw Tr.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Tr.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ci[U])throw Tr.create("already-exists",{id:U});if(!Fo){!function $c(S){let N=[];Array.isArray(window[S])?N=window[S]:window[S]=N}(ji);const{wrappedGtag:me,gtagCore:Y}=function Hl(S,N,R,U,ne){let me=function(...Y){window[U].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(me=window[ne]),window[ne]=function Hc(S,N,R,U){function me(){return(me=(0,B.Z)(function*(Y,$e,vt){try{"event"===Y?yield Oo(S,N,R,$e,vt):"config"===Y?yield Fu(S,N,R,U,$e,vt):"consent"===Y?S("consent","update",vt):S("set",$e)}catch(Nt){Jn.error(Nt)}})).apply(this,arguments)}return function ne(Y,$e,vt){return me.apply(this,arguments)}}(me,S,N,R),{gtagCore:me,wrappedGtag:window[ne]}}(Ci,ho,pa,ji,"gtag");Nr=me,Hs=Y,Fo=!0}return Ci[U]=function fa(S,N,R,U,ne,me,Y){return Wc.apply(this,arguments)}(S,ho,pa,N,Hs,ji,R),new zc(S)}function df(){return $u.apply(this,arguments)}function $u(){return($u=(0,B.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const Gd="@firebase/analytics";!function ii(){(0,ae._registerComponent)(new pe.wA(Vi,(N,{options:R})=>$d(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ae._registerComponent)(new pe.wA("analytics-internal",function S(N){try{const R=N.getProvider(Vi).getImmediate();return{logEvent:(U,ne,me)=>function Kc(S,N,R,U){S=(0,se.m9)(S),function uf(S,N,R,U,ne){return Is.apply(this,arguments)}(Nr,Ci[S.app.options.appId],N,R,U).catch(ne=>Jn.error(ne))}(R,U,ne,me)}}catch(R){throw Tr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ae.registerVersion)(Gd,"0.8.4"),(0,ae.registerVersion)(Gd,"0.8.4","esm2017")}();var si=V(4408),Lo=V(7565);const Qc=new class Es extends Lo.v{}(class Hu extends si.o{constructor(N,R){super(N,R),this.scheduler=N,this.work=R}schedule(N,R=0){return R>0?super.schedule(N,R):(this.delay=R,this.state=N,this.scheduler.flush(this),this)}execute(N,R){return R>0||this.closed?super.execute(N,R):this._execute(N,R)}requestAsyncId(N,R,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(N,R,U):(N.flush(this),0)}});var Wu=V(4986),Yc=V(8505),Gs=V(9468),Jc=V(5363);const Ti=new I.Version("7.4.1"),ga="__angularfire_symbol__analyticsIsSupportedValue",Ws="__angularfire_symbol__analyticsIsSupported",Xc="__angularfire_symbol__remoteConfigIsSupportedValue",Vo="__angularfire_symbol__remoteConfigIsSupported",Kl="__angularfire_symbol__messagingIsSupportedValue",Zl="__angularfire_symbol__messagingIsSupported";function sc(S,N,R){if(N){if(1===N.length)return N[0];const me=N.filter(Y=>Y.app===R);if(1===me.length)return me[0]}return R.container.getProvider(S).getImmediate({optional:!0})}globalThis[Ws]||(globalThis[Ws]=df().then(S=>globalThis[ga]=S).catch(()=>globalThis[ga]=!1)),globalThis[Zl]||(globalThis[Zl]=lt().then(S=>globalThis[Kl]=S).catch(()=>globalThis[Kl]=!1)),globalThis[Vo]||(globalThis[Vo]=Wa().then(S=>globalThis[Xc]=S).catch(()=>globalThis[Xc]=!1));const po=(S,N)=>{const R=N?[N]:(0,u.C6)(),U=[];return R.forEach(ne=>{ne.container.getProvider(S).instances.forEach(Y=>{U.includes(Y)||U.push(Y)})}),U};function Br(){}class Si{constructor(N,R=Qc){this.zone=N,this.delegate=R}now(){return this.delegate.now()}schedule(N,R,U){const ne=this.zone;return this.delegate.schedule(function(Y){ne.runGuarded(()=>{N.apply(this,[Y])})},R,U)}}class Ql{constructor(N){this.zone=N,this.task=null}call(N,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Br,{},Br,Br)),R.pipe((0,Yc.b)({next:U,complete:U,error:U})).subscribe(N).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let go=(()=>{class S{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Si(Zone.current)),this.insideAngular=R.run(()=>new Si(Zone.current,Wu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(R){return new(R||S)(I.\u0275\u0275inject(I.NgZone))},S.\u0275prov=I.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function mo(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function zs(S){return mo(),function zd(S){return function(R){return(R=R.lift(new Ql(S.ngZone))).pipe((0,Gs.R)(S.outsideAngular),(0,Jc.Q)(S.insideAngular))}}(mo())(S)}},2090:(yt,Se,V)=>{"use strict";V.d(Se,{$s:()=>mt,BH:()=>Qt,G6:()=>Pe,L:()=>ye,LL:()=>sn,Pz:()=>rn,Sg:()=>st,UG:()=>ce,US:()=>pe,ZB:()=>z,ZR:()=>En,aH:()=>bt,b$:()=>he,eu:()=>Xe,hl:()=>Ye,jU:()=>Ge,m9:()=>Kt,ne:()=>Wn,pd:()=>fs,r3:()=>ui,ru:()=>ge,tV:()=>ve,uI:()=>we,vZ:()=>at,w1:()=>ot,xO:()=>hr,xb:()=>Qr,z$:()=>He,zI:()=>q,zd:()=>Yr});const ae=function(K){const W=[];let te=0;for(let Oe=0;Oe<K.length;Oe++){let re=K.charCodeAt(Oe);re<128?W[te++]=re:re<2048?(W[te++]=re>>6|192,W[te++]=63&re|128):55296==(64512&re)&&Oe+1<K.length&&56320==(64512&K.charCodeAt(Oe+1))?(re=65536+((1023&re)<<10)+(1023&K.charCodeAt(++Oe)),W[te++]=re>>18|240,W[te++]=re>>12&63|128,W[te++]=re>>6&63|128,W[te++]=63&re|128):(W[te++]=re>>12|224,W[te++]=re>>6&63|128,W[te++]=63&re|128)}return W},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,W){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const te=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Oe=[];for(let re=0;re<K.length;re+=3){const nt=K[re],Ct=re+1<K.length,fn=Ct?K[re+1]:0,Sn=re+2<K.length,ln=Sn?K[re+2]:0;let Wt=(15&fn)<<2|ln>>6,pn=63&ln;Sn||(pn=64,Ct||(Wt=64)),Oe.push(te[nt>>2],te[(3&nt)<<4|fn>>4],te[Wt],te[pn])}return Oe.join("")},encodeString(K,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(K):this.encodeByteArray(ae(K),W)},decodeString(K,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(K):function(K){const W=[];let te=0,Oe=0;for(;te<K.length;){const re=K[te++];if(re<128)W[Oe++]=String.fromCharCode(re);else if(re>191&&re<224){const nt=K[te++];W[Oe++]=String.fromCharCode((31&re)<<6|63&nt)}else if(re>239&&re<365){const Sn=((7&re)<<18|(63&K[te++])<<12|(63&K[te++])<<6|63&K[te++])-65536;W[Oe++]=String.fromCharCode(55296+(Sn>>10)),W[Oe++]=String.fromCharCode(56320+(1023&Sn))}else{const nt=K[te++],Ct=K[te++];W[Oe++]=String.fromCharCode((15&re)<<12|(63&nt)<<6|63&Ct)}}return W.join("")}(this.decodeStringToByteArray(K,W))},decodeStringToByteArray(K,W){this.init_();const te=W?this.charToByteMapWebSafe_:this.charToByteMap_,Oe=[];for(let re=0;re<K.length;){const nt=te[K.charAt(re++)],fn=re<K.length?te[K.charAt(re)]:0;++re;const ln=re<K.length?te[K.charAt(re)]:64;++re;const qe=re<K.length?te[K.charAt(re)]:64;if(++re,null==nt||null==fn||null==ln||null==qe)throw Error();Oe.push(nt<<2|fn>>4),64!==ln&&(Oe.push(fn<<4&240|ln>>2),64!==qe&&Oe.push(ln<<6&192|qe))}return Oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},ye=function(K){return function(K){const W=ae(K);return pe.encodeByteArray(W,!0)}(K).replace(/\./g,"")},ve=function(K){try{return pe.decodeString(K,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function z(K,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return W}for(const te in W)!W.hasOwnProperty(te)||!X(te)||(K[te]=z(K[te],W[te]));return K}function X(K){return"__proto__"!==K}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ge(){return"object"==typeof self&&self.self===self}function ge(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function he(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ot(){const K=He();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Pe(){return!ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ye(){return"object"==typeof indexedDB}function Xe(){return new Promise((K,W)=>{try{let te=!0;const Oe="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(Oe);re.onsuccess=()=>{re.result.close(),te||self.indexedDB.deleteDatabase(Oe),K(!0)},re.onupgradeneeded=()=>{te=!1},re.onerror=()=>{var nt;W((null===(nt=re.error)||void 0===nt?void 0:nt.message)||"")}}catch(te){W(te)}})}function q(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const le=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=K&&ve(K[1]);return W&&JSON.parse(W)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},bt=()=>{var K;return null===(K=le())||void 0===K?void 0:K.config},rn=K=>{var W;return null===(W=le())||void 0===W?void 0:W[`_${K}`]};class Qt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,te)=>{this.resolve=W,this.reject=te})}wrapCallback(W){return(te,Oe)=>{te?this.reject(te):this.resolve(Oe),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(te):W(te,Oe))}}}function st(K,W){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Oe=W||"demo-project",re=K.iat||0,nt=K.sub||K.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${Oe}`,aud:Oe,iat:re,exp:re+3600,auth_time:re,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},K);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Ct)),""].join(".")}class En extends Error{constructor(W,te,Oe){super(te),this.code=W,this.customData=Oe,this.name="FirebaseError",Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}}class sn{constructor(W,te,Oe){this.service=W,this.serviceName=te,this.errors=Oe}create(W,...te){const Oe=te[0]||{},re=`${this.service}/${W}`,nt=this.errors[W],Ct=nt?function on(K,W){return K.replace(vr,(te,Oe)=>{const re=W[Oe];return null!=re?String(re):`<${Oe}?>`})}(nt,Oe):"Error";return new En(re,`${this.serviceName}: ${Ct} (${re}).`,Oe)}}const vr=/\{\$([^}]+)}/g;function ui(K,W){return Object.prototype.hasOwnProperty.call(K,W)}function Qr(K){for(const W in K)if(Object.prototype.hasOwnProperty.call(K,W))return!1;return!0}function at(K,W){if(K===W)return!0;const te=Object.keys(K),Oe=Object.keys(W);for(const re of te){if(!Oe.includes(re))return!1;const nt=K[re],Ct=W[re];if(br(nt)&&br(Ct)){if(!at(nt,Ct))return!1}else if(nt!==Ct)return!1}for(const re of Oe)if(!te.includes(re))return!1;return!0}function br(K){return null!==K&&"object"==typeof K}function hr(K){const W=[];for(const[te,Oe]of Object.entries(K))Array.isArray(Oe)?Oe.forEach(re=>{W.push(encodeURIComponent(te)+"="+encodeURIComponent(re))}):W.push(encodeURIComponent(te)+"="+encodeURIComponent(Oe));return W.length?"&"+W.join("&"):""}function Yr(K){const W={};return K.replace(/^\?/,"").split("&").forEach(Oe=>{if(Oe){const[re,nt]=Oe.split("=");W[decodeURIComponent(re)]=decodeURIComponent(nt)}}),W}function fs(K){const W=K.indexOf("?");if(!W)return"";const te=K.indexOf("#",W);return K.substring(W,te>0?te:void 0)}function Wn(K,W){const te=new Gt(K,W);return te.subscribe.bind(te)}class Gt{constructor(W,te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=te,this.task.then(()=>{W(this)}).catch(Oe=>{this.error(Oe)})}next(W){this.forEachObserver(te=>{te.next(W)})}error(W){this.forEachObserver(te=>{te.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,te,Oe){let re;if(void 0===W&&void 0===te&&void 0===Oe)throw new Error("Missing Observer.");re=function It(K,W){if("object"!=typeof K||null===K)return!1;for(const te of W)if(te in K&&"function"==typeof K[te])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:te,complete:Oe},void 0===re.next&&(re.next=Dn),void 0===re.error&&(re.error=Dn),void 0===re.complete&&(re.complete=Dn);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),nt}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let te=0;te<this.observers.length;te++)this.sendOne(te,W)}sendOne(W,te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{te(this.observers[W])}catch(Oe){typeof console<"u"&&console.error&&console.error(Oe)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}function mt(K,W=1e3,te=2){const Oe=W*Math.pow(te,K),re=Math.round(.5*Oe*(Math.random()-.5)*2);return Math.min(144e5,Oe+re)}function Kt(K){return K&&K._delegate?K._delegate:K}},9803:(yt,Se,V)=>{"use strict";var I=V(6895),u=V(4650);class B extends I.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends B{static makeCurrent(){(0,I.\u0275setRootDomAdapter)(new ae)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function pe(){return se=se||document.querySelector("base"),se?se.getAttribute("href"):null}();return null==t?null:function ye(n){De=De||document.createElement("a"),De.setAttribute("href",n);const e=De.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){se=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,I.\u0275parseCookieValue)(document.cookie,e)}}let De,se=null;const ve=new u.InjectionToken("TRANSITION_ID"),z=[{provide:u.APP_INITIALIZER,useFactory:function G(n,e,t){return()=>{t.get(u.ApplicationInitStatus).donePromise.then(()=>{const r=(0,I.\u0275getDOM)(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<i.length;c++)r.remove(i[c])})}},deps:[ve,I.DOCUMENT,u.Injector],multi:!0}];let He=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const we=new u.InjectionToken("EventManagerPlugins");let ce=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let c=0;c<i.length;c++){const d=i[c];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(we),u.\u0275\u0275inject(u.NgZone))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Ge{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=(0,I.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ge=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),he=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(c=>{const d=this._doc.createElement("style");d.textContent=c,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Je),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Je))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function Je(n){(0,I.\u0275getDOM)().remove(n)}const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ke=/%COMP%/g;function ee(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ee(n,i,t):(i=i.replace(ke,n),t.push(i))}return t}function ie(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let le=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Fe(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ViewEncapsulation.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Qt(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ViewEncapsulation.ShadowDom:return new st(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ee(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(ce),u.\u0275\u0275inject(he),u.\u0275\u0275inject(u.APP_ID))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Fe{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ot[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(rn(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(rn(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const c=ot[i];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ot[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.RendererStyleFlags2.DashCase|u.RendererStyleFlags2.Important)?e.style.setProperty(t,r,i&u.RendererStyleFlags2.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ie(r)):this.eventManager.addEventListener(e,t,ie(r))}}function rn(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Qt extends Fe{constructor(e,t,r,i){super(e),this.component=r;const c=ee(i+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr=function q(n){return"_ngcontent-%COMP%".replace(ke,n)}(i+"-"+r.id),this.hostAttr=function Ne(n){return"_nghost-%COMP%".replace(ke,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class st extends Fe{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=ee(i.id,i.styles,[]);for(let d=0;d<c.length;d++){const m=document.createElement("style");m.textContent=c[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let bn=(()=>{class n extends Ge{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const En=["alt","control","meta","shift"],sn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},on={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let vr=(()=>{class n extends Ge{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.\u0275getDOM)().onAndCancel(t,c.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const c=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),En.forEach(w=>{const A=r.indexOf(w);A>-1&&(r.splice(A,1),d+=w+".")}),d+=c,0!=r.length||0===c.length)return null;const y={};return y.domEventName=i,y.fullKey=d,y}static matchEventFullKeyCode(t,r){let i=sn[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(i=t.code,c="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),En.forEach(d=>{d!==i&&(0,on[d])(t)&&(c+=d+".")}),c+=i,c===r)}static eventCallback(t,r,i){return c=>{n.matchEventFullKeyCode(c,t)&&i.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Qr=(0,u.createPlatformFactory)(u.platformCore,"browser",[{provide:u.PLATFORM_ID,useValue:I.\u0275PLATFORM_BROWSER_ID},{provide:u.PLATFORM_INITIALIZER,useValue:function Zr(){ae.makeCurrent()},multi:!0},{provide:I.DOCUMENT,useFactory:function ui(){return(0,u.\u0275setDocument)(document),document},deps:[]}]),Js=new u.InjectionToken(""),at=[{provide:u.\u0275TESTABILITY_GETTER,useClass:class X{addToWindow(e){u.\u0275global.getAngularTestability=(r,i=!0)=>{const c=e.findTestabilityInTree(r,i);if(null==c)throw new Error("Could not find testability for element.");return c},u.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),u.\u0275global.frameworkStabilizers||(u.\u0275global.frameworkStabilizers=[]),u.\u0275global.frameworkStabilizers.push(r=>{const i=u.\u0275global.getAllAngularTestabilities();let c=i.length,d=!1;const m=function(y){d=d||y,c--,0==c&&r(d)};i.forEach(function(y){y.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?(0,I.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.\u0275TESTABILITY,useClass:u.Testability,deps:[u.NgZone,u.TestabilityRegistry,u.\u0275TESTABILITY_GETTER]},{provide:u.Testability,useClass:u.Testability,deps:[u.NgZone,u.TestabilityRegistry,u.\u0275TESTABILITY_GETTER]}],br=[{provide:u.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:u.ErrorHandler,useFactory:function Fs(){return new u.ErrorHandler},deps:[]},{provide:we,useClass:bn,multi:!0,deps:[I.DOCUMENT,u.NgZone,u.PLATFORM_ID]},{provide:we,useClass:vr,multi:!0,deps:[I.DOCUMENT]},{provide:le,useClass:le,deps:[ce,he,u.APP_ID]},{provide:u.RendererFactory2,useExisting:le},{provide:ge,useExisting:he},{provide:he,useClass:he,deps:[I.DOCUMENT]},{provide:ce,useClass:ce,deps:[we,u.NgZone]},{provide:I.XhrFactory,useClass:He,deps:[]},[]];let hs=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.APP_ID,useValue:t.appId},{provide:ve,useExisting:u.APP_ID},z]}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Js,12))},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[...br,...at],imports:[I.CommonModule,u.ApplicationModule]}),n})(),Wn=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(t){let r=null;return r=t?new t:function Kn(){return new Wn((0,u.\u0275\u0275inject)(I.DOCUMENT))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const Ze_firestore={apiKey:"AIzaSyC1tigBt7AQtkCAFTK7NQbWDmKXU_iCq8I",authDomain:"productos-oficina.firebaseapp.com",projectId:"productos-oficina",storageBucket:"productos-oficina.appspot.com",messagingSenderId:"61135413778",appId:"1:61135413778:web:4a89c3a99de1ee525b6ecb",measurementId:"G-HNR4VFX4XF"};var qe=V(2011),Wt=V(4986),pn=V(9751),Xt=V(8996),xn=V(3269);function ht(...n){const e=(0,xn.yG)(n);return(0,Xt.D)(n,e)}var zt=V(5813),Xr=V(8189);function Bt(...n){return function Xs(){return(0,Xr.J)(1)}()((0,Xt.D)(n,(0,xn.yG)(n)))}var Zt=V(4482);function ei(...n){const e=(0,xn.yG)(n);return(0,Zt.e)((t,r)=>{(e?Bt(n,t,e):Bt(n,t)).subscribe(r)})}var On=V(5403);function di(){return(0,Zt.e)((n,e)=>{let t,r=!1;n.subscribe((0,On.x)(e,i=>{const c=t;t=i,r&&e.next([c,i]),r=!0}))})}var tt=V(4004);function ps(n,e,t,r,i){return(c,d)=>{let m=t,y=e,w=0;c.subscribe((0,On.x)(d,A=>{const P=w++;y=m?n(y,A,P):(m=!0,A),r&&d.next(y)},i&&(()=>{m&&d.next(y),d.complete()})))}}function hi(n,e){return(0,Zt.e)(ps(n,e,arguments.length>=2,!0))}var zn=V(4671);function ja(n,e){return n===e}function jt(n,e){return(0,Zt.e)((t,r)=>{let i=0;t.subscribe((0,On.x)(r,c=>n.call(e,c,i++)&&r.next(c)))})}V(1277);var rt,kc=V(3942),Te=V(5861),fi=V(9681),Pi=V(4859),kr=V(1877),Ht=V(2090),gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pi={},Dr=Dr||{},Mt=gr||self;function gs(){}function eo(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rr(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Qo="closure_uid_"+(1e9*Math.random()>>>0),Vl=0;function Ua(n,e,t){return n.call.apply(n.bind,arguments)}function Fc(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function an(n,e,t){return(an=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ua:Fc).apply(null,arguments)}function Yo(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function wr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,c){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[i].apply(r,d)}}function Ir(){this.s=this.s,this.o=this.o}Ir.prototype.s=!1,Ir.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ll(n){Object.prototype.hasOwnProperty.call(n,Qo)&&n[Qo]||(n[Qo]=++Vl)}(this)},Ir.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $a=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Eo(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ms(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(eo(r)){const i=n.length||0,c=r.length||0;n.length=i+c;for(let d=0;d<c;d++)n[i+d]=r[d]}else n.push(r)}}function Cr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Cr.prototype.h=function(){this.defaultPrevented=!0};var Lc=function(){if(!Mt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Mt.addEventListener("test",gs,e),Mt.removeEventListener("test",gs,e)}catch{}return n}();function Ha(n){return/^[\s\xa0]*$/.test(n)}var Bl=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ga(n,e){return n<e?-1:n>e?1:0}function gi(){var n=Mt.navigator;return n&&(n=n.userAgent)?n:""}function mi(n){return-1!=gi().indexOf(n)}function Jo(n){return Jo[" "](n),n}Jo[" "]=gs;var to,n,jl=mi("Opera"),Fr=mi("Trident")||mi("MSIE"),_i=mi("Edge"),yi=_i||Fr,_s=mi("Gecko")&&!(-1!=gi().toLowerCase().indexOf("webkit")&&!mi("Edge"))&&!(mi("Trident")||mi("MSIE"))&&!mi("Edge"),Xo=-1!=gi().toLowerCase().indexOf("webkit")&&!mi("Edge");function ea(){var n=Mt.document;return n?n.documentMode:void 0}e:{var Vc="",no=(n=gi(),_s?/rv:([^\);]+)(\)|;)/.exec(n):_i?/Edge\/([\d\.]+)/.exec(n):Fr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Xo?/WebKit\/(\S+)/.exec(n):jl?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(no&&(Vc=no?no[1]:""),Fr){var ki=ea();if(null!=ki&&ki>parseFloat(Vc)){to=String(ki);break e}}to=Vc}var ti={};var Lr=Mt.document&&Fr&&(ea()||parseInt(to,10))||void 0;function To(n,e){if(Cr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_s){e:{try{Jo(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ul[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&To.X.h.call(this)}}wr(To,Cr);var Ul={2:"touch",3:"pen",4:"mouse"};To.prototype.h=function(){To.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nn="closure_listenable_"+(1e6*Math.random()|0),qa=0;function Ru(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++qa,this.ba=this.ea=!1}function Vr(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Er(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function So(n){const e={};for(const t in n)e[t]=n[t];return e}const ro="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vi(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let c=0;c<ro.length;c++)t=ro[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function en(n){this.src=n,this.g={},this.h=0}function Qi(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],i=$a(r,e);(c=0<=i)&&Array.prototype.splice.call(r,i,1),c&&(Vr(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function vs(n,e,t,r){for(var i=0;i<n.length;++i){var c=n[i];if(!c.ba&&c.listener==e&&c.capture==!!t&&c.ha==r)return i}return-1}en.prototype.add=function(n,e,t,r,i){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var d=vs(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new Ru(e,this.src,c,!!r,i)).ea=t,n.push(e)),e};var io="closure_lm_"+(1e6*Math.random()|0),ni={};function ta(n,e,t,r,i){if(r&&r.once)return so(n,e,t,r,i);if(Array.isArray(e)){for(var c=0;c<e.length;c++)ta(n,e[c],t,r,i);return null}return t=Ls(t),n&&n[Nn]?n.N(e,t,rr(r)?!!r.capture:!!r,i):Hn(n,e,t,!1,r,i)}function Hn(n,e,t,r,i,c){if(!e)throw Error("Invalid event type");var d=rr(i)?!!i.capture:!!i,m=Fi(n);if(m||(n[io]=m=new en(n)),(t=m.add(e,t,r,d,c)).proxy)return t;if(r=function Pt(){const e=ra;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Lc||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(na(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function so(n,e,t,r,i){if(Array.isArray(e)){for(var c=0;c<e.length;c++)so(n,e[c],t,r,i);return null}return t=Ls(t),n&&n[Nn]?n.O(e,t,rr(r)?!!r.capture:!!r,i):Hn(n,e,t,!0,r,i)}function $l(n,e,t,r,i){if(Array.isArray(e))for(var c=0;c<e.length;c++)$l(n,e[c],t,r,i);else r=rr(r)?!!r.capture:!!r,t=Ls(t),n&&n[Nn]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=vs(c=n.g[e],t,r,i))&&(Vr(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Fi(n))&&(e=n.g[e.toString()],n=-1,e&&(n=vs(e,t,r,i)),(t=-1<n?e[n]:null)&&oo(t))}function oo(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Nn])Qi(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(na(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Fi(e))?(Qi(t,n),0==t.h&&(t.src=null,e[io]=null)):Vr(n)}}}function na(n){return n in ni?ni[n]:ni[n]="on"+n}function ra(n,e){if(n.ba)n=!0;else{e=new To(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&oo(n),n=t.call(r,e)}return n}function Fi(n){return(n=n[io])instanceof en?n:null}var No="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ls(n){return"function"==typeof n?n:(n[No]||(n[No]=function(e){return n.handleEvent(e)}),n[No])}function Ae(){Ir.call(this),this.i=new en(this),this.P=this,this.I=null}function St(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Cr(e,n);else if(e instanceof Cr)e.target=e.target||n;else{var i=e;vi(e=new Cr(r,n),i)}if(i=!0,t)for(var c=t.length-1;0<=c;c--){var d=e.g=t[c];i=Vs(d,r,!0,e)&&i}if(i=Vs(d=e.g=n,r,!0,e)&&i,i=Vs(d,r,!1,e)&&i,t)for(c=0;c<t.length;c++)i=Vs(d=e.g=t[c],r,!1,e)&&i}function Vs(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.ba&&d.capture==t){var m=d.listener,y=d.ha||d.src;d.ea&&Qi(n.i,d),i=!1!==m.call(y,r)&&i}}return i&&!r.defaultPrevented}wr(Ae,Ir),Ae.prototype[Nn]=!0,Ae.prototype.removeEventListener=function(n,e,t,r){$l(this,n,e,t,r)},Ae.prototype.M=function(){if(Ae.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Vr(t[r]);delete n.g[e],n.h--}}this.I=null},Ae.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ae.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ao=Mt.JSON.stringify;function qn(){var n=Mo;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var sa,Bs=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new bi,n=>n.reset());class bi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ia(n){Mt.setTimeout(()=>{throw n},0)}function ao(n,e){sa||function Za(){var n=Mt.Promise.resolve(void 0);sa=function(){n.then(Zn)}}(),Qa||(sa(),Qa=!0),Mo.add(n,e)}var Qa=!1,Mo=new class Ka{constructor(){this.h=this.g=null}add(e,t){const r=Bs.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Zn(){for(var n;n=qn();){try{n.h.call(n.g)}catch(t){ia(t)}var e=Bs;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Qa=!1}function ri(n,e){Ae.call(this),this.h=n||1,this.g=e||Mt,this.j=an(this.lb,this),this.l=Date.now()}function oa(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Yi(n,e,t){if("function"==typeof n)t&&(n=an(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=an(n.handleEvent,n)}return 2147483647<Number(e)?-1:Mt.setTimeout(n,e||0)}function Di(n){n.g=Yi(()=>{n.g=null,n.i&&(n.i=!1,Di(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}wr(ri,Ae),(rt=ri.prototype).ca=!1,rt.R=null,rt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),St(this,"tick"),this.ca&&(oa(this),this.start()))}},rt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){ri.X.M.call(this),oa(this),delete this.g};class Pu extends Ir{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Di(this)}M(){super.M(),this.g&&(Mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(n){Ir.call(this),this.h=n,this.g={}}wr(bs,Ir);var ku=[];function Ya(n,e,t,r){Array.isArray(t)||(t&&(ku[0]=t.toString()),t=ku);for(var i=0;i<t.length;i++){var c=ta(e,t[i],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function aa(n){Er(n.g,function(e,t){this.g.hasOwnProperty(t)&&oo(e)},n),n.g={}}function js(){this.g=!0}function Us(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Xa(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var c=i[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<i.length;d++)i[d]=""}}}return Ao(t)}catch{return e}}(n,t)+(r?" "+r:"")})}bs.prototype.M=function(){bs.X.M.call(this),aa(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},js.prototype.Aa=function(){this.g=!1},js.prototype.info=function(){};var Ds={},ec=null;function xo(){return ec=ec||new Ae}function C(n){Cr.call(this,Ds.Pa,n)}function O(n){const e=xo();St(e,new C(e))}function T(n,e){Cr.call(this,Ds.STAT_EVENT,n),this.stat=e}function k(n){const e=xo();St(e,new T(e,n))}function H(n,e){Cr.call(this,Ds.Qa,n),this.size=e}function de(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Mt.setTimeout(function(){n()},e)}Ds.Pa="serverreachability",wr(C,Cr),Ds.STAT_EVENT="statevent",wr(T,Cr),Ds.Qa="timingevent",wr(H,Cr);var Ie={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},lt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function nn(){}function dn(){}nn.prototype.h=null;var Ln,Yt={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ir(){Cr.call(this,"d")}function yn(){Cr.call(this,"c")}function Li(){}function Gr(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new bs(this),this.O=co,this.T=new ri(n=yi?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}wr(ir,Cr),wr(yn,Cr),wr(Li,nn),Li.prototype.g=function(){return new XMLHttpRequest},Li.prototype.i=function(){return{}},Ln=new Li;var co=45e3,wi={},Ii={};function Ji(n,e,t){n.K=1,n.v=Xn(Sr(e)),n.s=t,n.P=!0,jc(n,null)}function jc(n,e){n.F=Date.now(),$c(n),n.A=Sr(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),zl(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Vi,n.g=Wd(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Pu(an(n.La,n,n.g),n.N)),Ya(n.S,n.g,"readystatechange",n.ib),e=n.H?So(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),O(),function Bc(n,e,t,r,i,c){n.info(function(){if(n.g)if(c)for(var d="",m=c.split("&"),y=0;y<m.length;y++){var w=m[y].split("=");if(1<w.length){var A=w[0];w=w[1];var P=A.split("_");d=2<=P.length&&"type"==P[1]?d+(A+"=")+w+"&":d+(A+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Jn(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Uc(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=lf(n,t),i==Ii){4==e&&(n.o=4,k(14),r=!1),Us(n.j,n.m,null,"[Incomplete Response]");break}if(i==wi){n.o=4,k(15),Us(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Us(n.j,n.m,i,null),Hc(n,i)}Jn(n)&&i!=Ii&&i!=wi&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,k(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ws(e),e.K=!0,k(11))):(Us(n.j,n.m,t,"[Invalid Chunked Response]"),Bi(n),Oo(n))}function lf(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ii:(t=Number(e.substring(t,r)),isNaN(t)?wi:(r+=1)+t>e.length?Ii:(e=e.substr(r,t),n.C=r+t,e))}function $c(n){n.V=Date.now()+n.O,Fu(n,n.O)}function Fu(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=de(an(n.gb,n),e)}function la(n){n.B&&(Mt.clearTimeout(n.B),n.B=null)}function Oo(n){0==n.l.G||n.I||Kl(n.l,n)}function Bi(n){la(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,oa(n.T),aa(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Hc(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ql(t.h,n)))if(!n.J&&ql(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Vo(t),Es(t)}ga(t),k(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=de(an(t.cb,t),6e3));if(1>=Uu(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ts(t,11)}else if((n.J||t.g==n)&&Vo(t),!Ha(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const A=w[3];null!=A&&(t.ma=A,t.j.info("VER="+t.ma));const P=w[4];null!=P&&(t.Ca=P,t.j.info("SVER="+t.Ca));const $=w[5];null!=$&&"number"==typeof $&&0<$&&(t.J=r=1.5*$,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Z=n.g;if(Z){const ue=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var c=r.h;c.g||-1==ue.indexOf("spdy")&&-1==ue.indexOf("quic")&&-1==ue.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(ic(c,c.h),c.h=null))}if(r.D){const Ee=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;Ee&&(r.za=Ee,Rn(r.F,r.D,Ee))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=zu(r,r.H?r.ka:null,r.V),d.J){fa(r.h,d);var m=d,y=r.J;y&&m.setTimeout(y),m.B&&(la(m),$c(m)),r.g=d}else Ti(r);0<t.i.length&&Gu(t)}else"stop"!=w[0]&&"close"!=w[0]||Ts(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Ts(t,7):Lo(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}O()}catch{}}function Lu(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(eo(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ud(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(eo(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Hl(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(eo(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,c=0;c<i;c++)e.call(void 0,r[c],t&&t[c],n)}(rt=Gr.prototype).setTimeout=function(n){this.O=n},rt.ib=function(n){n=n.target;const e=this.L;e&&3==Ei(n)?e.l():this.La(n)},rt.La=function(n){try{if(n==this.g)e:{const A=Ei(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>A)&&(3!=A||yi||this.g&&(this.h.h||this.g.fa()||Gd(this.g)))){this.I||4!=A||7==e||O(),la(this);var t=this.g.aa();this.Y=t;t:if(Jn(this)){var r=Gd(this.g);n="";var i=r.length,c=4==Ei(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Bi(this),Oo(this);var d="";break t}this.h.i=new Mt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function ca(n,e,t,r,i,c,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+c+" "+d})}(this.j,this.u,this.A,this.m,this.U,A,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,y=this.g;if((m=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ha(m)){var w=m;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,k(12),Bi(this),Oo(this);break e}Us(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hc(this,t)}this.P?(Uc(this,A,d),yi&&this.i&&3==A&&(Ya(this.S,this.T,"tick",this.hb),this.T.start())):(Us(this.j,this.m,d,null),Hc(this,d)),4==A&&Bi(this),this.i&&!this.I&&(4==A?Kl(this.l,this):(this.i=!1,$c(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,k(12)):(this.o=0,k(13)),Bi(this),Oo(this)}}}catch{}},rt.hb=function(){if(this.g){var n=Ei(this.g),e=this.g.fa();this.C<e.length&&(la(this),Uc(this,n,e),this.i&&4!=n&&$c(this))}},rt.cancel=function(){this.I=!0,Bi(this)},rt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Ja(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(O(),k(17)),Bi(this),this.o=2,Oo(this)):Fu(this,this.V-n)};var Tr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ws(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ws){this.h=void 0!==e?e:n.h,Ro(this,n.j),this.s=n.s,this.g=n.g,Vu(this,n.m),this.l=n.l,e=n.i;var t=new Is;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ua(this,t),this.o=n.o}else n&&(t=String(n).match(Tr))?(this.h=!!e,Ro(this,t[1]||"",!0),this.s=Wr(t[2]||""),this.g=Wr(t[3]||"",!0),Vu(this,t[4]),this.l=Wr(t[5]||"",!0),ua(this,t[6]||"",!0),this.o=Wr(t[7]||"")):(this.h=!!e,this.i=new Is(null,this.h))}function Sr(n){return new ws(n)}function Ro(n,e,t){n.j=t?Wr(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Vu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ua(n,e,t){e instanceof Is?(n.i=e,function ko(n,e){e&&!n.j&&($s(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(lo(this,r),zl(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Po(e,ha)),n.i=new Is(e,n.h))}function Rn(n,e,t){n.i.set(e,t)}function Xn(n){return Rn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wr(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Po(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,da),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function da(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ws.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Po(e,tc,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Po(e,tc,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Po(t,"/"==t.charAt(0)?Wl:Bu,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Po(t,uf)),n.join("")};var tc=/[#\/\?@]/g,Bu=/[#\?:]/g,Wl=/[#\?]/g,ha=/[#\?@]/g,uf=/#/g;function Is(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function $s(n){n.g||(n.g=new Map,n.h=0,n.i&&function Gl(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var c=n[t].substring(0,r);i=n[t].substring(r+1)}else c=n[t];e(c,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function lo(n,e){$s(n),e=Cs(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function nc(n,e){return $s(n),e=Cs(n,e),n.g.has(e)}function zl(n,e,t){lo(n,e),0<t.length&&(n.i=null,n.g.set(Cs(n,e),Eo(t)),n.h+=t.length)}function Cs(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Gc(n){this.l=n||rc,n=Mt.PerformanceNavigationTiming?0<(n=Mt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Mt.g&&Mt.g.Ga&&Mt.g.Ga()&&Mt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=Is.prototype).add=function(n,e){$s(this),this.i=null,n=Cs(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){$s(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},rt.oa=function(){$s(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let c=0;c<i.length;c++)t.push(e[r])}return t},rt.W=function(n){$s(this);let e=[];if("string"==typeof n)nc(this,n)&&(e=e.concat(this.g.get(Cs(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},rt.set=function(n,e){return $s(this),this.i=null,nc(this,n=Cs(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=c;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var rc=10;function uo(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Uu(n){return n.h?1:n.g?n.g.size:0}function ql(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ic(n,e){n.g?n.g.add(e):n.h=e}function fa(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Wc(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Eo(n.i)}function zc(){}function Ci(){this.g=new zc}function ho(n,e,t){const r=t||"";try{Lu(n,function(i,c){let d=i;rr(i)&&(d=Ao(i)),e.push(r+c+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ji(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function fo(n){this.l=n.ac||null,this.j=n.jb||!1}function Hs(n,e){Ae.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Nr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gc.prototype.cancel=function(){if(this.i=Wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},zc.prototype.stringify=function(n){return Mt.JSON.stringify(n,void 0)},zc.prototype.parse=function(n){return Mt.JSON.parse(n,void 0)},wr(fo,nn),fo.prototype.g=function(){return new Hs(this.l,this.j)},fo.prototype.i=function(n){return function(){return n}}({}),wr(Hs,Ae);var Nr=0;function Fo(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Cn(n){n.readyState=4,n.l=null,n.j=null,n.A=null,qc(n)}function qc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=Hs.prototype).open=function(n,e){if(this.readyState!=Nr)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,qc(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Mt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cn(this)),this.readyState=Nr},rt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,qc(this)),this.g&&(this.readyState=3,qc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Mt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fo(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},rt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Cn(this):qc(this),3==this.readyState&&Fo(this)}},rt.Va=function(n){this.g&&(this.response=this.responseText=n,Cn(this))},rt.Ua=function(n){this.g&&(this.response=n,Cn(this))},rt.ga=function(){this.g&&Cn(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $d=Mt.JSON.parse;function Pn(n){Ae.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hd,this.K=this.L=!1}wr(Pn,Ae);var Hd="",df=/^https?$/i,$u=["POST","PUT"];function mr(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,hf(n),sr(n)}function hf(n){n.D||(n.D=!0,St(n,"complete"),St(n,"error"))}function bg(n){if(n.h&&typeof Dr<"u"&&(!n.C[1]||4!=Ei(n)||2!=n.aa()))if(n.v&&4==Ei(n))Yi(n.Ha,0,n);else if(St(n,"readystatechange"),4==Ei(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(Tr)[1]||null;if(!i&&Mt.self&&Mt.self.location){var c=Mt.self.location.protocol;i=c.substr(0,c.length-1)}r=!df.test(i?i.toLowerCase():"")}t=r}if(t)St(n,"complete"),St(n,"success");else{n.m=6;try{var d=2<Ei(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",hf(n)}}finally{sr(n)}}}function sr(n,e){if(n.g){Kc(n);const t=n.g,r=n.C[0]?gs:null;n.g=null,n.C=null,e||St(n,"ready");try{t.onreadystatechange=r}catch{}}}function Kc(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Mt.clearTimeout(n.A),n.A=null)}function Ei(n){return n.g?n.g.readyState:0}function Gd(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Hd:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Zc(n){let e="";return Er(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ii(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Zc(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Rn(n,e,t))}function si(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Hu(n){this.Ca=0,this.i=[],this.j=new js,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=si("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=si("baseRetryDelayMs",5e3,n),this.bb=si("retryDelaySeedMs",1e4,n),this.$a=si("forwardChannelMaxRetries",2,n),this.ta=si("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Gc(n&&n.concurrentRequestLimit),this.Fa=new Ci,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Lo(n){if(Qc(n),3==n.G){var e=n.U++,t=Sr(n.F);Rn(t,"SID",n.I),Rn(t,"RID",e),Rn(t,"TYPE","terminate"),Gs(n,t),(e=new Gr(n,n.j,e,void 0)).K=2,e.v=Xn(Sr(t)),t=!1,Mt.navigator&&Mt.navigator.sendBeacon&&(t=Mt.navigator.sendBeacon(e.v.toString(),"")),!t&&Mt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Wd(e.l,null),e.g.da(e.v)),e.F=Date.now(),$c(e)}ff(n)}function Es(n){n.g&&(Ws(n),n.g.cancel(),n.g=null)}function Qc(n){Es(n),n.u&&(Mt.clearTimeout(n.u),n.u=null),Vo(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Mt.clearTimeout(n.m),n.m=null)}function Gu(n){uo(n.h)||n.m||(n.m=!0,ao(n.Ja,n),n.C=0)}function Yc(n,e){var t;t=e?e.m:n.U++;const r=Sr(n.F);Rn(r,"SID",n.I),Rn(r,"RID",t),Rn(r,"AID",n.T),Gs(n,r),n.o&&n.s&&ii(r,n.o,n.s),t=new Gr(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Jc(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),ic(n.h,t),Ji(t,r,e)}function Gs(n,e){n.ia&&Er(n.ia,function(t,r){Rn(e,r,t)}),n.l&&Lu({},function(t,r){Rn(e,r,t)})}function Jc(n,e,t){t=Math.min(n.i.length,t);var r=n.l?an(n.l.Ra,n.l,n):null;e:{var i=n.i;let c=-1;for(;;){const d=["count="+t];-1==c?0<t?(c=i[0].h,d.push("ofs="+c)):c=0:d.push("ofs="+c);let m=!0;for(let y=0;y<t;y++){let w=i[y].h;const A=i[y].g;if(w-=c,0>w)c=Math.max(0,i[y].h-100),m=!1;else try{ho(A,d,"req"+w+"_")}catch{r&&r(A)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Ti(n){n.g||n.u||(n.Z=1,ao(n.Ia,n),n.A=0)}function ga(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=de(an(n.Ia,n),Zl(n,n.A)),n.A++,0))}function Ws(n){null!=n.B&&(Mt.clearTimeout(n.B),n.B=null)}function Xc(n){n.g=new Gr(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Sr(n.sa);Rn(e,"RID","rpc"),Rn(e,"SID",n.I),Rn(e,"CI",n.L?"0":"1"),Rn(e,"AID",n.T),Rn(e,"TYPE","xmlhttp"),Gs(n,e),n.o&&n.s&&ii(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Xn(Sr(e)),t.s=null,t.P=!0,jc(t,n)}function Vo(n){null!=n.v&&(Mt.clearTimeout(n.v),n.v=null)}function Kl(n,e){var t=null;if(n.g==e){Vo(n),Ws(n),n.g=null;var r=2}else{if(!ql(n.h,e))return;t=e.D,fa(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;St(r=xo(),new H(r,t)),Gu(n)}else Ti(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Wu(n,e){return!(Uu(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=de(an(n.Ja,n,e),Zl(n,n.C)),n.C++,0)))}(n,e)||2==r&&ga(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Ts(n,5);break;case 4:Ts(n,10);break;case 3:Ts(n,6);break;default:Ts(n,2)}}function Zl(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Ts(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=an(n.kb,n);t||(t=new ws("//www.google.com/images/cleardot.gif"),Mt.location&&"http"==Mt.location.protocol||Ro(t,"https"),Xn(t)),function pa(n,e){const t=new js;if(Mt.Image){const r=new Image;r.onload=Yo(ji,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Yo(ji,t,r,"TestLoadImage: error",!1,e),r.onabort=Yo(ji,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yo(ji,t,r,"TestLoadImage: timeout",!1,e),Mt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else k(2);n.G=0,n.l&&n.l.va(e),ff(n),Qc(n)}function ff(n){if(n.G=0,n.la=[],n.l){const e=Wc(n.h);(0!=e.length||0!=n.i.length)&&(ms(n.la,e),ms(n.la,n.i),n.h.i.length=0,Eo(n.i),n.i.length=0),n.l.ua()}}function zu(n,e,t){var r=t instanceof ws?Sr(t):new ws(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Vu(r,r.m);else{var i=Mt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var c=new ws(null,void 0);r&&Ro(c,r),e&&(c.g=e),i&&Vu(c,i),t&&(c.l=t),r=c}return e=n.za,(t=n.D)&&e&&Rn(r,t,e),Rn(r,"VER",n.ma),Gs(n,r),r}function Wd(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pn(t&&n.Da&&!n.ra?new fo({jb:!0}):n.ra)).Ka(n.H),e}function sc(){}function po(){if(Fr&&!(10<=Number(Lr)))throw Error("Environmental error: no available transport.")}function Br(n,e){Ae.call(this),this.g=new Hu(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Ha(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ha(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new go(this)}function Si(n){ir.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Ql(){yn.call(this),this.status=1}function go(n){this.g=n}(rt=Pn.prototype).Ka=function(n){this.L=n},rt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ln.g(),this.C=function un(n){return n.h||(n.h=n.i())}(this.u?this.u:Ln),this.g.onreadystatechange=an(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void mr(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),i=Mt.FormData&&n instanceof Mt.FormData,!(0<=$a($u,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,d]of t)this.g.setRequestHeader(c,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Kc(this),0<this.B&&((this.K=function vg(n){return Fr&&function Hr(){return function Wa(n){var e=ti;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Bl(String(to)).split("."),t=Bl("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",c=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==i[0].length&&0==c[0].length)break;n=Ga(0==i[1].length?0:parseInt(i[1],10),0==c[1].length?0:parseInt(c[1],10))||Ga(0==i[2].length,0==c[2].length)||Ga(i[2],c[2]),i=i[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.qa,this)):this.A=Yi(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){mr(this,c)}},rt.qa=function(){typeof Dr<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,St(this,"complete"),St(this,"abort"),sr(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sr(this,!0)),Pn.X.M.call(this)},rt.Ha=function(){this.s||(this.F||this.v||this.l?bg(this):this.fb())},rt.fb=function(){bg(this)},rt.aa=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}},rt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},rt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),$d(e)}},rt.Ea=function(){return this.m},rt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=Hu.prototype).ma=8,rt.G=1,rt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Gr(this,this.j,n,void 0);let c=this.s;if(this.S&&(c?(c=So(c),vi(c,this.S)):c=this.S),null!==this.o||this.N||(i.H=c,c=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Jc(this,i,e),Rn(t=Sr(this.F),"RID",n),Rn(t,"CVER",22),this.D&&Rn(t,"X-HTTP-Session-Id",this.D),Gs(this,t),c&&(this.N?e="headers="+encodeURIComponent(String(Zc(c)))+"&"+e:this.o&&ii(t,this.o,c)),ic(this.h,i),this.Ya&&Rn(t,"TYPE","init"),this.O?(Rn(t,"$req",e),Rn(t,"SID","null"),i.Z=!0,Ji(i,t,null)):Ji(i,t,e),this.G=2}}else 3==this.G&&(n?Yc(this,n):0==this.i.length||uo(this.h)||Yc(this))},rt.Ia=function(){if(this.u=null,Xc(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=de(an(this.eb,this),n)}},rt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,k(10),Es(this),Xc(this))},rt.cb=function(){null!=this.v&&(this.v=null,Es(this),ga(this),k(19))},rt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),k(2)):(this.j.info("Failed to ping google.com"),k(1))},(rt=sc.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Ra=function(){},po.prototype.g=function(n,e){return new Br(n,e)},wr(Br,Ae),Br.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;k(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=zu(n,null,n.V),Gu(n)},Br.prototype.close=function(){Lo(this.g)},Br.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ao(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Gu(e)},Br.prototype.M=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,Br.X.M.call(this)},wr(Si,ir),wr(Ql,yn),wr(go,sc),go.prototype.xa=function(){St(this.g,"a")},go.prototype.wa=function(n){St(this.g,new Si(n))},go.prototype.va=function(n){St(this.g,new Ql)},go.prototype.ua=function(){St(this.g,"b")},po.prototype.createWebChannel=po.prototype.g,Br.prototype.send=Br.prototype.u,Br.prototype.open=Br.prototype.m,Br.prototype.close=Br.prototype.close,Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,lt.COMPLETE="complete",dn.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",Ae.prototype.listen=Ae.prototype.N,Pn.prototype.listenOnce=Pn.prototype.O,Pn.prototype.getLastError=Pn.prototype.Oa,Pn.prototype.getLastErrorCode=Pn.prototype.Ea,Pn.prototype.getStatus=Pn.prototype.aa,Pn.prototype.getResponseJson=Pn.prototype.Sa,Pn.prototype.getResponseText=Pn.prototype.fa,Pn.prototype.send=Pn.prototype.da,Pn.prototype.setWithCredentials=Pn.prototype.Ka;var mo=pi.createWebChannelTransport=function(){return new po},qu=pi.getStatEventTarget=function(){return xo()},Ss=pi.ErrorCode=Ie,pf=pi.EventType=lt,oc=pi.Event=Ds,zs=pi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},zd=pi.FetchXmlHttpFactory=fo,Qn=pi.WebChannel=dn,qd=pi.XhrIo=Pn;const S="@firebase/firestore";class N{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}N.UNAUTHENTICATED=new N(null),N.GOOGLE_CREDENTIALS=new N("google-credentials-uid"),N.FIRST_PARTY=new N("first-party-uid"),N.MOCK_USER=new N("mock-user");let R="9.13.0";const U=new kr.Yd("@firebase/firestore");function ne(){return U.logLevel}function Y(n,...e){if(U.logLevel<=kr.in.DEBUG){const t=e.map(Nt);U.debug(`Firestore (${R}): ${n}`,...t)}}function $e(n,...e){if(U.logLevel<=kr.in.ERROR){const t=e.map(Nt);U.error(`Firestore (${R}): ${n}`,...t)}}function vt(n,...e){if(U.logLevel<=kr.in.WARN){const t=e.map(Nt);U.warn(`Firestore (${R}): ${n}`,...t)}}function Nt(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Be(n="Unexpected state"){const e=`FIRESTORE (${R}) INTERNAL ASSERTION FAILED: `+n;throw $e(e),new Error(e)}function Ue(n,e){n||Be()}function ze(n,e){return n}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Ht.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ma{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(N.UNAUTHENTICATED))}shutdown(){}}class _a{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ac{constructor(e){this.t=e,this.currentUser=N.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const c=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Vn,e.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const w=d;e.enqueueRetryable((0,Te.Z)(function*(){yield w.promise,yield c(r.currentUser)}))},y=w=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Vn)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue("string"==typeof r.accessToken),new ma(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(null===e||"string"==typeof e),new N(e)}}class ya{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=N.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ue(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ku{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new ya(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(N.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q_{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=c=>{null!=c.error&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.A;return this.A=c.token,Y("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const i=c=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>i(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?i(c):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ue("string"==typeof t.token),this.A=t.token,new gf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Dg(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Zu{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Dg(40);for(let c=0;c<i.length;++c)r.length<20&&i[c]<t&&(r+=e.charAt(i[c]%e.length))}return r}}function Ut(n,e){return n<e?-1:n>e?1:0}function Yl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Kd(n){return n+"\0"}class or{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return or.fromMillis(Date.now())}static fromDate(e){return or.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new or(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new or(0,0))}static max(){return new kt(new or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qu{constructor(e,t,r){void 0===t?t=0:t>e.length&&Be(),void 0===r?r=e.length-t:r>e.length-t&&Be(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Qu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qu?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const c=e.get(i),d=t.get(i);if(c<d)return-1;if(c>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hn extends Qu{construct(e,t,r){return new hn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new hn(t)}static emptyPath(){return new hn([])}}const Y_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends Qu{construct(e,t,r){return new ar(e,t,r)}static isValidIdentifier(e){return Y_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ar(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const c=()=>{if(0===r.length)throw new Le(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Le(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Le(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===m?(d=!d,i++):"."!==m||d?(r+=m,i++):(c(),i++)}if(c(),d)throw new Le(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(t)}static emptyPath(){return new ar([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(hn.fromString(e))}static fromName(e){return new et(hn.fromString(e).popFirst(5))}static empty(){return new et(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new hn(e.slice()))}}class Jl{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function cc(n){return n.fields.find(e=>2===e.kind)}function el(n){return n.fields.filter(e=>2!==e.kind)}Jl.UNKNOWN_ID=-1;class mf{constructor(e,t){this.fieldPath=e,this.kind=t}}class tl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tl(0,Xi.min())}}function _f(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=kt.fromTimestamp(1e9===r?new or(t+1,0):new or(t,r));return new Xi(i,et.empty(),e)}function yf(n){return new Xi(n.readTime,n.key,-1)}class Xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xi(kt.min(),et.empty(),-1)}static max(){return new Xi(kt.max(),et.empty(),-1)}}function _o(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Ut(n.largestBatchId,e.largestBatchId))}const wg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function lc(n){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,Te.Z)(function*(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==wg)throw n;Y("LocalStore","Unexpectedly lost primary lease")}),Qd.apply(this,arguments)}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _e((r,i)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,i)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _e?t:_e.resolve(t)}catch(t){return _e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.reject(t)}static resolve(e){return new _e((t,r)=>{t(e)})}static reject(e){return new _e((t,r)=>{r(e)})}static waitFor(e){return new _e((t,r)=>{let i=0,c=0,d=!1;e.forEach(m=>{++i,m.next(()=>{++c,d&&c===i&&t()},y=>r(y))}),d=!0,c===i&&t()})}static or(e){let t=_e.resolve(!1);for(const r of e)t=t.next(i=>i?_e.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,c)=>{r.push(t.call(this,i,c))}),this.waitFor(r)}static mapArray(e,t){return new _e((r,i)=>{const c=e.length,d=new Array(c);let m=0;for(let y=0;y<c;y++){const w=y;t(e[w]).next(A=>{d[w]=A,++m,m===c&&r(d)},A=>i(A))}})}static doWhile(e,t){return new _e((r,i)=>{const c=()=>{!0===e()?t().next(()=>{c()},i):r()};c()})}}class es{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Vn,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Xl(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Yd(r.target.error);this.P.reject(new Xl(e,i))}}static open(e,t,r,i){try{return new es(t,e.transaction(i,r))}catch(c){throw new Xl(t,c)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Y("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new X_(t)}}class Ni{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Ni.D((0,Ht.z$)())&&$e("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Y("SimpleDb","Removing database:",e),nl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Ht.hl)())return!1;if(Ni.N())return!0;const e=(0,Ht.z$)(),t=Ni.D(e),r=0<t&&t<10,i=Ni.k(e),c=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Te.Z)(function*(){return t.db||(Y("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=d=>{r(d.target.result)},c.onblocked=()=>{i(new Xl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=d=>{const m=d.target.error;i("VersionError"===m.name?new Le(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Le(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Xl(e,m))},c.onupgradeneeded=d=>{Y("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,c.transaction,d.oldVersion,t.version).next(()=>{Y("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var c=this;return(0,Te.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{c.db=yield c.F(e);const y=es.open(c.db,e,d?"readonly":"readwrite",r),w=i(y).next(A=>(y.V(),A)).catch(A=>(y.abort(A),_e.reject(A))).toPromise();return w.catch(()=>{}),yield y.v,w}catch(y){const w=y,A="FirebaseError"!==w.name&&m<3;if(Y("SimpleDb","Transaction failed with error:",w.message,"Retrying:",A),c.close(),!A)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class vf{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return nl(this.U.delete())}}class Xl extends Le{constructor(e,t){super(be.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function uc(n){return"IndexedDbTransactionError"===n.name}class X_{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Y("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Y("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nl(r)}add(e){return Y("SimpleDb","ADD",this.store.name,e,e),nl(this.store.add(e))}get(e){return nl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Y("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Y("SimpleDb","DELETE",this.store.name,e),nl(this.store.delete(e))}count(){return Y("SimpleDb","COUNT",this.store.name),nl(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),c=[];return this.H(i,(d,m)=>{c.push(m)}).next(()=>c)}{const i=this.store.getAll(r.range);return new _e((c,d)=>{i.onerror=m=>{d(m.target.error)},i.onsuccess=m=>{c(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new _e((i,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){Y("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(c,d,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new _e((r,i)=>{t.onerror=c=>{const d=Yd(c.target.error);i(d)},t.onsuccess=c=>{const d=c.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}H(e,t){const r=[];return new _e((i,c)=>{e.onerror=d=>{c(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void i();const y=new vf(m),w=t(m.primaryKey,m.value,y);if(w instanceof _e){const A=w.catch(P=>(y.done(),_e.reject(P)));r.push(A)}y.isDone?i():null===y.G?m.continue():m.continue(y.G)}}).next(()=>_e.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nl(n){return new _e((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Yd(r.target.error);t(i)}})}let Ig=!1;function Yd(n){const e=Ni.D((0,Ht.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ig||(Ig=!0,setTimeout(()=>{throw r},0)),r}}return n}class Cg{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Y("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Te.Z)(function*(){t.task=null;try{Y("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){uc(r)?Y("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield lc(r)}yield t.nt(6e4)}))}}class ey{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,c=!0;return _e.doWhile(()=>!0===c&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Y("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(m=>{i-=m,r.add(d)});c=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(c=>{const d=c.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,c)).next(m=>(Y("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,c)=>{const d=yf(c);_o(d,r)>0&&(r=d)}),new Xi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ns{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function dc(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function jo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Uo(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ns.at=-1;class Bn{constructor(e,t){this.comparator=e,this.root=t||Ar.EMPTY}insert(e,t){return new Bn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(e){return new Bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&i&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ar{constructor(e,t,r,i,c){this.key=e,this.value=t,this.color=r??Ar.RED,this.left=i??Ar.EMPTY,this.right=c??Ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,c){return new Ar(e??this.key,t??this.value,r??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const c=r(e,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===c?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Be();const e=this.left.check();if(e!==this.right.check())throw Be();return e+(this.isRed()?0:1)}}Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1,Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Be()}get value(){throw Be()}get color(){throw Be()}get left(){throw Be()}get right(){throw Be()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ar(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(e){this.comparator=e,this.data=new Bn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ty(this.data.getIterator())}getIteratorFrom(e){return new ty(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(i,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kn(this.comparator);return t.data=e,t}}class ty{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rl(n){return n.hasNext()?n.getNext():void 0}class qs{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new qs([])}unionWith(e){let t=new kn(ar.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new qs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new cr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let c=0;c<r.length;++c)i+=String.fromCharCode(r[c]);return i}(e);return new cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const Pb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(n){if(Ue(!!n),"string"==typeof n){let e=0;const t=Pb.exec(n);if(Ue(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lr(n.seconds),nanos:lr(n.nanos)}}function lr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sl(n){return"string"==typeof n?cr.fromBase64String(n):cr.fromUint8Array(n)}function Df(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function wf(n){const e=n.mapValue.fields.__previous_value__;return Df(e)?wf(e):e}function ol(n){const e=il(n.mapValue.fields.__local_write_time__.timestampValue);return new or(e.seconds,e.nanos)}class Eg{constructor(e,t,r,i,c,d,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=y}}class yo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}function hc(n){return null==n}function va(n){return 0===n&&1/n==-1/0}function Tg(n){return"number"==typeof n&&Number.isInteger(n)&&!va(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const jn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fc={nullValue:"NULL_VALUE"};function pc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Df(n)?4:Ef(n)?9007199254740991:10:Be()}function Ks(n,e){if(n===e)return!0;const t=pc(n);if(t!==pc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ol(n).isEqual(ol(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const c=il(r.timestampValue),d=il(i.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,sl(n.bytesValue).isEqual(sl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return lr(r.geoPointValue.latitude)===lr(i.geoPointValue.latitude)&&lr(r.geoPointValue.longitude)===lr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lr(r.integerValue)===lr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const c=lr(r.doubleValue),d=lr(i.doubleValue);return c===d?va(c)===va(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Yl(n.arrayValue.values||[],e.arrayValue.values||[],Ks);case 10:return function(r,i){const c=r.mapValue.fields||{},d=i.mapValue.fields||{};if(dc(c)!==dc(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(void 0===d[m]||!Ks(c[m],d[m])))return!1;return!0}(n,e);default:return Be()}var i}function al(n,e){return void 0!==(n.values||[]).find(t=>Ks(t,e))}function $o(n,e){if(n===e)return 0;const t=pc(n),r=pc(e);if(t!==r)return Ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,e.booleanValue);case 2:return function(i,c){const d=lr(i.integerValue||i.doubleValue),m=lr(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return If(n.timestampValue,e.timestampValue);case 4:return If(ol(n),ol(e));case 5:return Ut(n.stringValue,e.stringValue);case 6:return function(i,c){const d=sl(i),m=sl(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,c){const d=i.split("/"),m=c.split("/");for(let y=0;y<d.length&&y<m.length;y++){const w=Ut(d[y],m[y]);if(0!==w)return w}return Ut(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,c){const d=Ut(lr(i.latitude),lr(c.latitude));return 0!==d?d:Ut(lr(i.longitude),lr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,c){const d=i.values||[],m=c.values||[];for(let y=0;y<d.length&&y<m.length;++y){const w=$o(d[y],m[y]);if(w)return w}return Ut(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,c){if(i===jn.mapValue&&c===jn.mapValue)return 0;if(i===jn.mapValue)return 1;if(c===jn.mapValue)return-1;const d=i.fields||{},m=Object.keys(d),y=c.fields||{},w=Object.keys(y);m.sort(),w.sort();for(let A=0;A<m.length&&A<w.length;++A){const P=Ut(m[A],w[A]);if(0!==P)return P;const $=$o(d[m[A]],y[w[A]]);if(0!==$)return $}return Ut(m.length,w.length)}(n.mapValue,e.mapValue);default:throw Be()}}function If(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ut(n,e);const t=il(n),r=il(e),i=Ut(t.seconds,r.seconds);return 0!==i?i:Ut(t.nanos,r.nanos)}function cl(n){return Cf(n)}function Cf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=il(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sl(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",c=!0;for(const d of r.values||[])c?c=!1:i+=",",i+=Cf(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const m of i)d?d=!1:c+=",",c+=`${m}:${Cf(r.fields[m])}`;return c+"}"}(n.mapValue):Be();var e}function gc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function eu(n){return!!n&&"integerValue"in n}function Jd(n){return!!n&&"arrayValue"in n}function ll(n){return!!n&&"nullValue"in n}function Xd(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tu(n){return!!n&&"mapValue"in n}function nu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return jo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ef(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Tf(n){return"nullValue"in n?fc:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?gc(yo.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Be()}function eh(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?gc(yo.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?jn:Be()}function Xu(n,e){const t=$o(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ed(n,e){const t=$o(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ai{constructor(e){this.value=e}static empty(){return new Ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(t)}setAll(e){let t=ar.emptyPath(),r={},i=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=m.popLast()}d?r[m.lastSegment()]=nu(d):i.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,i)}delete(e){const t=this.field(e.popLast());tu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ks(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){jo(t,(i,c)=>e[i]=c);for(const i of r)delete e[i]}clone(){return new Ai(nu(this.value))}}function th(n){const e=[];return jo(n.fields,(t,r)=>{const i=new ar([t]);if(tu(r)){const c=th(r.mapValue).fields;if(0===c.length)e.push(i);else for(const d of c)e.push(i.child(d))}else e.push(i)}),new qs(e)}class Un{constructor(e,t,r,i,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Un(e,0,kt.min(),kt.min(),Ai.empty(),0)}static newFoundDocument(e,t,r){return new Un(e,1,t,kt.min(),r,0)}static newNoDocument(e,t){return new Un(e,2,t,kt.min(),Ai.empty(),0)}static newUnknownDocument(e,t){return new Un(e,3,t,kt.min(),Ai.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ts{constructor(e,t=null,r=[],i=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=c,this.startAt=d,this.endAt=m,this.ht=null}}function ul(n,e=null,t=[],r=[],i=null,c=null,d=null){return new ts(n,e,t,r,i,c,d)}function ns(n){const e=ze(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+cl(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),hc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cl(r)).join(",")),e.ht=t}return e.ht}function ba(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!dl(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Ks(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ru(n.startAt,e.startAt)&&ru(n.endAt,e.endAt)}function Da(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function nh(n,e){return n.filters.filter(t=>t instanceof An&&t.field.isEqual(e))}function td(n,e,t){let r=fc,i=!0;for(const c of nh(n,e)){let d=fc,m=!0;switch(c.op){case"<":case"<=":d=Tf(c.value);break;case"==":case"in":case">=":d=c.value;break;case">":d=c.value,m=!1;break;case"!=":case"not-in":d=fc}Xu({value:r,inclusive:i},{value:d,inclusive:m})<0&&(r=d,i=m)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];Xu({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function nd(n,e,t){let r=jn,i=!0;for(const c of nh(n,e)){let d=jn,m=!0;switch(c.op){case">=":case">":d=eh(c.value),m=!1;break;case"==":case"in":case"<=":d=c.value;break;case"<":d=c.value,m=!1;break;case"!=":case"not-in":d=jn}ed({value:r,inclusive:i},{value:d,inclusive:m})>0&&(r=d,i=m)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];ed({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class An extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Sf(e,t,r):"array-contains"===t?new Af(e,r):"in"===t?new jr(e,r):"not-in"===t?new Mf(e,r):"array-contains-any"===t?new xf(e,r):new An(e,t,r)}static lt(e,t,r){return"in"===t?new Nf(e,r):new ry(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft($o(t,this.value)):null!==t&&pc(this.value)===pc(t)&&this.ft($o(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Be()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Sf extends An{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.ft(t)}}class Nf extends An{constructor(e,t){super(e,"in",t),this.keys=Sg(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ry extends An{constructor(e,t){super(e,"not-in",t),this.keys=Sg(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Sg(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class Af extends An{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jd(t)&&al(t.arrayValue,this.value)}}class jr extends An{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&al(this.value.arrayValue,t)}}class Mf extends An{constructor(e,t){super(e,"not-in",t)}matches(e){if(al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!al(this.value.arrayValue,t)}}class xf extends An{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>al(this.value.arrayValue,r))}}class mc{constructor(e,t){this.position=e,this.inclusive=t}}class rs{constructor(e,t="asc"){this.field=e,this.dir=t}}function dl(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function rh(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const c=e[i],d=n.position[i];if(r=c.field.isKeyField()?et.comparator(et.fromName(d.referenceValue),t.key):$o(d,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function ru(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ks(n.position[t],e.position[t]))return!1;return!0}class wa{constructor(e,t=null,r=[],i=[],c=null,d="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=y,this._t=null,this.wt=null}}function rd(n,e,t,r,i,c,d,m){return new wa(n,e,t,r,i,c,d,m)}function id(n){return new wa(n)}function Ng(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function hl(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Of(n){for(const e of n.filters)if(e.dt())return e.field;return null}function _(n){return null!==n.collectionGroup}function f(n){const e=ze(n);if(null===e._t){e._t=[];const t=Of(e),r=hl(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new rs(t)),e._t.push(new rs(ar.keyField(),"asc"));else{let i=!1;for(const c of e.explicitOrderBy)e._t.push(c),c.field.isKeyField()&&(i=!0);if(!i){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new rs(ar.keyField(),c))}}}return e._t}function g(n){const e=ze(n);if(!e.wt)if("F"===e.limitType)e.wt=ul(e.path,e.collectionGroup,f(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of f(e))t.push(new rs(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new mc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new mc(e.startAt.position,e.startAt.inclusive):null;e.wt=ul(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function b(n,e,t){return new wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function x(n,e){return ba(g(n),g(e))&&n.limitType===e.limitType}function L(n){return`${ns(g(n))}|lt:${n.limitType}`}function J(n){return`Query(target=${function ny(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${cl(r.value)}`;var r}).join(", ")}]`),hc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>cl(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>cl(t)).join(",")),`Target(${e})`}(g(n))}; limitType=${n.limitType})`}function Ce(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):et.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,c,d){const m=rh(i,c,d);return i.inclusive?m<=0:m<0}(t.startAt,f(t),r)||t.endAt&&!function(i,c,d){const m=rh(i,c,d);return i.inclusive?m>=0:m>0}(t.endAt,f(t),r)));var t,r}function Qe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pt(n){return(e,t)=>{let r=!1;for(const i of f(n)){const c=At(i,e,t);if(0!==c)return c;r=r||i.field.isKeyField()}return 0}}function At(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(i,c,d){const m=c.data.field(i),y=d.data.field(i);return null!==m&&null!==y?$o(m,y):Be()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Be()}}function Tt(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:va(e)?"-0":e}}function _r(n){return{integerValue:""+n}}function is(n,e){return Tg(e)?_r(e):Tt(n,e)}class fl{constructor(){this._=void 0}}function Ag(n,e,t){return n instanceof pl?function(r,i){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(c.fields.__previous_value__=i),{mapValue:c}}(t,e):n instanceof _c?Mg(n,e):n instanceof gl?ih(n,e):function(r,i){const c=Rf(r,i),d=sh(c)+sh(r.yt);return eu(c)&&eu(r.yt)?_r(d):Tt(r.It,d)}(n,e)}function sd(n,e,t){return n instanceof _c?Mg(n,e):n instanceof gl?ih(n,e):t}function Rf(n,e){return n instanceof yc?eu(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class pl extends fl{}class _c extends fl{constructor(e){super(),this.elements=e}}function Mg(n,e){const t=od(e);for(const r of n.elements)t.some(i=>Ks(i,r))||t.push(r);return{arrayValue:{values:t}}}class gl extends fl{constructor(e){super(),this.elements=e}}function ih(n,e){let t=od(e);for(const r of n.elements)t=t.filter(i=>!Ks(i,r));return{arrayValue:{values:t}}}class yc extends fl{constructor(e,t){super(),this.It=e,this.yt=t}}function sh(n){return lr(n.integerValue||n.doubleValue)}function od(n){return Jd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class iu{constructor(e,t){this.field=e,this.transform=t}}class iy{constructor(e,t){this.version=e,this.transformResults=t}}class ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class su{}function Fb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ch(n.key,ur.none()):new ah(n.key,n.data,ur.none());{const t=n.data,r=Ai.empty();let i=new kn(ar.comparator);for(let c of e.fields)if(!i.has(c)){let d=t.field(c);null===d&&c.length>1&&(c=c.popLast(),d=t.field(c)),null===d?r.delete(c):r.set(c,d),i=i.add(c)}return new ml(n.key,r,new qs(i.toArray()),ur.none())}}function jC(n,e,t){n instanceof ah?function(r,i,c){const d=r.value.clone(),m=xg(r.fieldTransforms,i,c.transformResults);d.setAll(m),i.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ml?function(r,i,c){if(!oh(r.precondition,i))return void i.convertToUnknownDocument(c.version);const d=xg(r.fieldTransforms,i,c.transformResults),m=i.data;m.setAll(Bb(r)),m.setAll(d),i.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Pf(n,e,t,r){return n instanceof ah?function(i,c,d,m){if(!oh(i.precondition,c))return d;const y=i.value.clone(),w=jb(i.fieldTransforms,m,c);return y.setAll(w),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof ml?function(i,c,d,m){if(!oh(i.precondition,c))return d;const y=jb(i.fieldTransforms,m,c),w=c.data;return w.setAll(Bb(i)),w.setAll(y),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(A=>A.field))}(n,e,t,r):(d=t,oh(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d);var c,d}function Lb(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),c=Rf(r.transform,i||null);null!=c&&(null===t&&(t=Ai.empty()),t.set(r.field,c))}return t||null}function Vb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Yl(t,r,(i,c)=>function kb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof _c&&r instanceof _c||t instanceof gl&&r instanceof gl?Yl(t.elements,r.elements,Ks):t instanceof yc&&r instanceof yc?Ks(t.yt,r.yt):t instanceof pl&&r instanceof pl);var t,r}(i,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ah extends su{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ml extends su{constructor(e,t,r,i,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Bb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function xg(n,e,t){const r=new Map;Ue(n.length===t.length);for(let i=0;i<t.length;i++){const c=n[i],d=c.transform,m=e.data.field(c.field);r.set(c.field,sd(d,m,t[i]))}return r}function jb(n,e,t){const r=new Map;for(const i of n){const c=i.transform,d=t.data.field(i.field);r.set(i.field,Ag(c,d,e))}return r}class ch extends su{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sy extends su{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ub{constructor(e){this.count=e}}var zr,wn;function Ui(n){switch(n){default:return Be();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}function Og(n){if(void 0===n)return $e("GRPC error has no .code"),be.UNKNOWN;switch(n){case zr.OK:return be.OK;case zr.CANCELLED:return be.CANCELLED;case zr.UNKNOWN:return be.UNKNOWN;case zr.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case zr.INTERNAL:return be.INTERNAL;case zr.UNAVAILABLE:return be.UNAVAILABLE;case zr.UNAUTHENTICATED:return be.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case zr.NOT_FOUND:return be.NOT_FOUND;case zr.ALREADY_EXISTS:return be.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return be.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case zr.ABORTED:return be.ABORTED;case zr.OUT_OF_RANGE:return be.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return be.UNIMPLEMENTED;case zr.DATA_LOSS:return be.DATA_LOSS;default:return Be()}}(wn=zr||(zr={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";class _l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,c]of r)if(this.equalsFn(i,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return void(i[c]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(t,r)=>{for(const[i,c]of r)e(i,c)})}isEmpty(){return Uo(this.inner)}size(){return this.innerSize}}const oy=new Bn(et.comparator);function Gn(){return oy}const lh=new Bn(et.comparator);function uh(...n){let e=lh;for(const t of n)e=e.insert(t.key,t);return e}function $b(n){let e=lh;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vc(){return kf()}function ay(){return kf()}function kf(){return new _l(n=>n.toString(),(n,e)=>n.isEqual(e))}const Hb=new Bn(et.comparator),UC=new kn(et.comparator);function tn(...n){let e=UC;for(const t of n)e=e.add(t);return e}const $C=new kn(Ut);function Rg(){return $C}class dh{constructor(e,t,r,i,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,hh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new dh(kt.min(),i,Rg(),Gn(),tn())}}class hh{constructor(e,t,r,i,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new hh(r,t,tn(),tn(),tn())}}class Ff{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class ad{constructor(e,t){this.targetId=e,this.At=t}}class bc{constructor(e,t,r=cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Gb{constructor(){this.Rt=0,this.bt=WC(),this.Pt=cr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=tn(),t=tn(),r=tn();return this.bt.forEach((i,c)=>{switch(c){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Be()}}),new hh(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=WC()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class HC{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Gn(),this.qt=GC(),this.Kt=new kn(Ut)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const c=i.target;if(Da(c))if(0===r){const d=new et(c.path);this.jt(t,d,Un.newNoDocument(d,kt.min()))}else Ue(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((c,d)=>{const m=this.Xt(d);if(m){if(c.current&&Da(m.target)){const y=new et(m.target.path);null!==this.Ut.get(y)||this.ee(d,y)||this.jt(d,y,Un.newNoDocument(y,e))}c.Dt&&(t.set(d,c.xt()),c.Nt())}});let r=tn();this.qt.forEach((c,d)=>{let m=!0;d.forEachWhile(y=>{const w=this.Xt(y);return!w||2===w.purpose||(m=!1,!1)}),m&&(r=r.add(c))}),this.Ut.forEach((c,d)=>d.setReadTime(e));const i=new dh(e,t,this.Kt,this.Ut,r);return this.Ut=Gn(),this.qt=GC(),this.Kt=new kn(Ut),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Gb,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new kn(Ut),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Y("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Gb),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function GC(){return new Bn(et.comparator)}function WC(){return new Bn(et.comparator)}const Wb={asc:"ASCENDING",desc:"DESCENDING"},pS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Dc{constructor(e,t){this.databaseId=e,this.gt=t}}function cd(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pg(n,e){return n.gt?e.toBase64():e.toUint8Array()}function zC(n,e){return cd(n,e.toTimestamp())}function oi(n){return Ue(!!n),kt.fromTimestamp(function(e){const t=il(e);return new or(t.seconds,t.nanos)}(n))}function cy(n,e){return(t=n,new hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function fh(n){const e=hn.fromString(n);return Ue(au(e)),e}function Lf(n,e){return cy(n.databaseId,e.path)}function wc(n,e){const t=fh(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(qC(t))}function Vf(n,e){return cy(n.databaseId,e)}function kg(n){const e=fh(n);return 4===e.length?hn.emptyPath():qC(e)}function ph(n){return new hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qC(n){return Ue(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ld(n,e,t){return{name:Lf(n,e),fields:t.value.mapValue.fields}}function Fg(n,e,t){const r=wc(n,e.name),i=oi(e.updateTime),c=new Ai({mapValue:{fields:e.fields}}),d=Un.newFoundDocument(r,i,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function ud(n,e){let t;if(e instanceof ah)t={update:ld(n,e.key,e.value)};else if(e instanceof ch)t={delete:Lf(n,e.key)};else if(e instanceof ml)t={update:ld(n,e.key,e.data),updateMask:Yb(e.fieldMask)};else{if(!(e instanceof sy))return Be();t={verify:Lf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,c){const d=c.transform;if(d instanceof pl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof _c)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof gl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof yc)return{fieldPath:c.field.canonicalString(),increment:d.yt};throw Be()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:zC(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Be()),t;var i}function ly(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?ur.updateTime(oi(i.updateTime)):void 0!==i.exists?ur.exists(i.exists):ur.none():ur.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(c,d){let m=null;"setToServerValue"in d?(Ue("REQUEST_TIME"===d.setToServerValue),m=new pl):"appendMissingElements"in d?m=new _c(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new gl(d.removeAllFromArray.values||[]):"increment"in d?m=new yc(c,d.increment):Be();const y=ar.fromServerFormat(d.fieldPath);return new iu(y,m)}(n,i)):[];var i;if(e.update){const i=wc(n,e.update.name),c=new Ai({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new qs((e.updateMask.fieldPaths||[]).map(w=>ar.fromServerFormat(w)));return new ml(i,c,d,t,r)}return new ah(i,c,t,r)}if(e.delete){const i=wc(n,e.delete);return new ch(i,t)}if(e.verify){const i=wc(n,e.verify);return new sy(i,t)}return Be()}function qb(n,e){return{documents:[Vf(n,e.path)]}}function uy(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Vf(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Vf(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const w=y.map(A=>function(P){if("=="===P.op){if(Xd(P.value))return{unaryFilter:{field:ou(P.field),op:"IS_NAN"}};if(ll(P.value))return{unaryFilter:{field:ou(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(Xd(P.value))return{unaryFilter:{field:ou(P.field),op:"IS_NOT_NAN"}};if(ll(P.value))return{unaryFilter:{field:ou(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ou(P.field),op:Zb(P.op),value:P.value}}}(A));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const c=function(y){if(0!==y.length)return y.map(w=>{return{field:ou((A=w).field),direction:hy(A.dir)};var A})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=(w=e.limit,n.gt||hc(w)?w:{value:w});var w,m,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function Kb(n){let e=kg(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ue(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let c=[];t.where&&(c=dy(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(A=>{return new rs(gh((P=A).field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let m=null;t.limit&&(m=function(A){let P;return P="object"==typeof A?A.value:A,hc(P)?null:P}(t.limit));let y=null;var A;t.startAt&&(y=new mc((A=t.startAt).values||[],!!A.before));let w=null;return t.endAt&&(w=function(A){return new mc(A.values||[],!A.before)}(t.endAt)),rd(e,i,d,c,m,"F",y,w)}function dy(n){return n?void 0!==n.unaryFilter?[Qb(n)]:void 0!==n.fieldFilter?[YC(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>dy(e)).reduce((e,t)=>e.concat(t)):Be():[]}function hy(n){return Wb[n]}function Zb(n){return pS[n]}function ou(n){return{fieldPath:n.canonicalString()}}function gh(n){return ar.fromServerFormat(n.fieldPath)}function YC(n){return An.create(gh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Be()}}(n.fieldFilter.op),n.fieldFilter.value)}function Qb(n){switch(n.unaryFilter.op){case"IS_NAN":const e=gh(n.unaryFilter.field);return An.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=gh(n.unaryFilter.field);return An.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=gh(n.unaryFilter.field);return An.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=gh(n.unaryFilter.field);return An.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Be()}}function Yb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function au(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ss(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Xb(e)),e=Jb(n.get(t),e);return Xb(e)}function Jb(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const c=n.charAt(i);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function Xb(n){return n+"\x01\x01"}function yl(n){const e=n.length;if(Ue(e>=2),2===e)return Ue("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),hn.emptyPath();const t=e-2,r=[];let i="";for(let c=0;c<e;){const d=n.indexOf("\x01",c);switch((d<0||d>t)&&Be(),n.charAt(d+1)){case"\x01":const m=n.substring(c,d);let y;0===i.length?y=m:(i+=m,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(c,d),i+="\0";break;case"\x11":i+=n.substring(c,d+1);break;default:Be()}c=d+2}return new hn(r)}const Bf=["userId","batchId"];function Lg(n,e){return[n,ss(e)]}function fy(n,e,t){return[n,ss(e),t]}const eD={},tD=["prefixPath","collectionGroup","readTime","documentId"],py=["prefixPath","collectionGroup","documentId"],nD=["collectionGroup","readTime","prefixPath","documentId"],Vg=["canonicalId","targetId"],Bg=["targetId","path"],rD=["path","targetId"],gy=["collectionId","parent"],iD=["indexId","uid"],my=["uid","sequenceNumber"],jf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],JC=["indexId","uid","orderedDocumentKey"],sD=["userId","collectionPath","documentId"],XC=["userId","collectionPath","largestBatchId"],e1=["userId","collectionGroup","largestBatchId"],_y=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yy=[..._y,"documentOverlays"],vy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],t1=vy,oD=[...t1,"indexConfiguration","indexState","indexEntries"];class by extends Zd{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function ai(n,e){const t=ze(n);return Ni.M(t.ie,e)}class Dy{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(e.key)&&jC(c,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Pf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ay();return this.mutations.forEach(i=>{const c=e.get(i.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=t.has(i.key)?null:m;const y=Fb(d,m);null!==y&&r.set(i.key,y),d.isValidDocument()||d.convertToNoDocument(kt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tn())}isEqual(e){return this.batchId===e.batchId&&Yl(this.mutations,e.mutations,(t,r)=>Vb(t,r))&&Yl(this.baseMutations,e.baseMutations,(t,r)=>Vb(t,r))}}class wy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ue(e.mutations.length===r.length);let i=Hb;const c=e.mutations;for(let d=0;d<c.length;d++)i=i.insert(c[d].key,r[d].version);return new wy(e,t,r,i)}}class vo{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cu{constructor(e,t,r,i,c=kt.min(),d=kt.min(),m=cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Iy{constructor(e){this.re=e}}function aD(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Lf(i=n.re,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:cd(i,c.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:dd(e.version)};else{if(!e.isUnknownDocument())return Be();r.unknownDocument={path:t.path.toArray(),version:dd(e.version)}}var i,c;return r}function jg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function dd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function lu(n){const e=new or(n.seconds,n.nanoseconds);return kt.fromTimestamp(e)}function hd(n,e){const t=(e.baseMutations||[]).map(c=>ly(n.re,c));for(let c=0;c<e.mutations.length-1;++c){const d=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(d.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>ly(n.re,c)),i=or.fromMillis(e.localWriteTimeMs);return new Dy(e.batchId,i,t,r)}function Uf(n){const e=lu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?lu(n.lastLimboFreeSnapshotVersion):kt.min();let r;var i;return void 0!==n.query.documents?(Ue(1===(i=n.query).documents.length),r=g(id(kg(i.documents[0])))):r=g(Kb(n.query)),new cu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,cr.fromBase64String(n.resumeToken))}function cD(n,e){const t=dd(e.snapshotVersion),r=dd(e.lastLimboFreeSnapshotVersion);let i;i=Da(e.target)?qb(n.re,e.target):uy(n.re,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ns(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function qt(n){const e=Kb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?b(e,e.limit,"L"):e}function Ug(n,e){return new vo(e.largestBatchId,ly(n.re,e.overlayMutation))}function Cy(n,e){const t=e.path.lastSegment();return[n,ss(e.path.popLast()),t]}function Ey(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:dd(r.readTime),documentKey:ss(r.documentKey.path),largestBatchId:r.largestBatchId}}class r1{getBundleMetadata(e,t){return lD(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:lu(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return lD(e).put({bundleId:(r=t).id,createTime:dd(oi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Ty(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:qt(i.bundledQuery),readTime:lu(i.readTime)};var i})}saveNamedQuery(e,t){return Ty(e).put({name:(r=t).name,readTime:dd(oi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function lD(n){return ai(n,"bundles")}function Ty(n){return ai(n,"namedQueries")}class $g{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new $g(e,t.uid||"")}getOverlay(e,t){return mh(e).get(Cy(this.userId,t)).next(r=>r?Ug(this.It,r):null)}getOverlays(e,t){const r=vc();return _e.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((c,d)=>{const m=new vo(t,d);i.push(this.ue(e,m))}),_e.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(ss(d.getCollectionPath())));const c=[];return i.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);c.push(mh(e).Y("collectionPathOverlayIndex",m))}),_e.waitFor(c)}getOverlaysForCollection(e,t,r){const i=vc(),c=ss(t),d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return mh(e).W("collectionPathOverlayIndex",d).next(m=>{for(const y of m){const w=Ug(this.It,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const c=vc();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mh(e).Z({index:"collectionGroupOverlayIndex",range:m},(y,w,A)=>{const P=Ug(this.It,w);c.size()<i||P.largestBatchId===d?(c.set(P.getKey(),P),d=P.largestBatchId):A.done()}).next(()=>c)}ue(e,t){return mh(e).put(function(r,i,c){const[d,m,y]=Cy(i,c.mutation.key);return{userId:i,collectionPath:m,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:ud(r.re,c.mutation)}}(this.It,this.userId,t))}}function mh(n){return ai(n,"documentOverlays")}class fd{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(lr(e.integerValue));else if("doubleValue"in e){const r=lr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),va(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(sl(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Ef(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Be()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),et.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function i1(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function uD(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const c=i1(255&t[i]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}fd.Te=new fd;class Sy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=uD(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=uD(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,i,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class dD{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class uu{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class $f{constructor(){this.Be=new Sy,this.Le=new dD(this.Be),this.Ue=new uu(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class vl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new vl(this.indexId,this.documentKey,this.arrayValue,r)}}function bl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=hD(n.arrayValue,e.arrayValue),0!==t?t:(t=hD(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function hD(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class s1{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=cc(e);if(void 0!==t&&!this.ze(t))return!1;const r=el(e);let i=0,c=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[c++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(c>=this.Ge.length||!this.Je(this.Ge[c++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class o1{constructor(){this.Ye=new Ny}addToCollectionParentIndex(e,t){return this.Ye.add(t),_e.resolve()}getCollectionParents(e,t){return _e.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return _e.resolve()}deleteFieldIndex(e,t){return _e.resolve()}getDocumentsMatchingTarget(e,t){return _e.resolve(null)}getIndexType(e,t){return _e.resolve(0)}getFieldIndexes(e,t){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,t){return _e.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return _e.resolve(Xi.min())}updateCollectionGroup(e,t,r){return _e.resolve()}updateIndexEntries(e,t){return _e.resolve()}}class Ny{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new kn(hn.comparator),c=!i.has(r);return this.index[t]=i.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kn(hn.comparator)).toArray()}}const Hg=new Uint8Array(0);class fD{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Ny,this.Ze=new _l(r=>ns(r),(r,i)=>ba(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const c={collectionId:r,parent:ss(i)};return pD(e).put(c)}return _e.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Kd(t),""],!1,!0);return pD(e).W(i).next(c=>{for(const d of c){if(d.collectionId!==t)break;r.push(yl(d.parent))}return r})}addFieldIndex(e,t){const r=Ho(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete i.indexId;const c=r.add(i);if(t.indexState){const d=Gf(e);return c.next(m=>{d.put(Ey(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=Ho(e),i=Gf(e),c=Hf(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Hf(e);let i=!0;const c=new Map;return _e.forEach(this.tn(t),d=>this.en(e,d).next(m=>{i&&(i=!!m),c.set(d,m)})).next(()=>{if(i){let d=tn();const m=[];return _e.forEach(c,(y,w)=>{var A;Y("IndexedDbIndexManager",`Using index ${A=y,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(wt=>`${wt.fieldPath}:${wt.kind}`).join(",")}`} to execute ${ns(t)}`);const P=function(wt,dt){const ct=cc(dt);if(void 0===ct)return null;for(const gt of nh(wt,ct.fieldPath))switch(gt.op){case"array-contains-any":return gt.value.arrayValue.values||[];case"array-contains":return[gt.value]}return null}(w,y),$=function(wt,dt){const ct=new Map;for(const gt of el(dt))for(const Jt of nh(wt,gt.fieldPath))switch(Jt.op){case"==":case"in":ct.set(gt.fieldPath.canonicalString(),Jt.value);break;case"not-in":case"!=":return ct.set(gt.fieldPath.canonicalString(),Jt.value),Array.from(ct.values())}return null}(w,y),Z=function(wt,dt){const ct=[];let gt=!0;for(const Jt of el(dt)){const Mn=0===Jt.kind?td(wt,Jt.fieldPath,wt.startAt):nd(wt,Jt.fieldPath,wt.startAt);ct.push(Mn.value),gt&&(gt=Mn.inclusive)}return new mc(ct,gt)}(w,y),ue=function(wt,dt){const ct=[];let gt=!0;for(const Jt of el(dt)){const Mn=0===Jt.kind?nd(wt,Jt.fieldPath,wt.endAt):td(wt,Jt.fieldPath,wt.endAt);ct.push(Mn.value),gt&&(gt=Mn.inclusive)}return new mc(ct,gt)}(w,y),Ee=this.nn(y,w,Z),xe=this.nn(y,w,ue),ut=this.sn(y,w,$),ft=this.rn(y.indexId,P,Ee,Z.inclusive,xe,ue.inclusive,ut);return _e.forEach(ft,wt=>r.J(wt,t.limit).next(dt=>{dt.forEach(ct=>{const gt=et.fromSegments(ct.documentKey);d.has(gt)||(d=d.add(gt),m.push(gt))})}))}).next(()=>m)}return _e.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,c,d,m){const y=(null!=t?t.length:1)*Math.max(r.length,c.length),w=y/(null!=t?t.length:1),A=[];for(let P=0;P<y;++P){const $=t?this.on(t[P/w]):Hg,Z=this.un(e,$,r[P%w],i),ue=this.cn(e,$,c[P%w],d),Ee=m.map(xe=>this.un(e,$,xe,!0));A.push(...this.createRange(Z,ue,Ee))}return A}un(e,t,r,i){const c=new vl(e,et.empty(),t,r);return i?c:c.Ke()}cn(e,t,r,i){const c=new vl(e,et.empty(),t,r);return i?c.Ke():c}en(e,t){const r=new s1(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(c=>{let d=null;for(const m of c)r.We(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;return _e.forEach(this.tn(t),i=>this.en(e,i).next(c=>{c?0!==r&&c.fields.length<function(d){let m=new kn(ar.comparator),y=!1;for(const w of d.filters){const A=w;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?y=!0:m=m.add(A.field))}for(const w of d.orderBy)w.field.isKeyField()||(m=m.add(w.field));return m.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new $f;for(const i of el(e)){const c=t.data.field(i.fieldPath);if(null==c)return null;const d=r.qe(i.kind);fd.Te.ce(c,d)}return r.$e()}on(e){const t=new $f;return fd.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new $f;return fd.Te.ce(gc(this.databaseId,t),r.qe(function(i){const c=el(i);return 0===c.length?0:c[c.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new $f);let c=0;for(const d of el(e)){const m=r[c++];for(const y of i)if(this.ln(t,d.fieldPath)&&Jd(m))i=this.fn(i,d,m);else{const w=y.qe(d.kind);fd.Te.ce(m,w)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],c=[];for(const d of r.arrayValue.values||[])for(const m of i){const y=new $f;y.seed(m.$e()),fd.Te.ce(d,y.qe(t.kind)),c.push(y)}return c}ln(e,t){return!!e.filters.find(r=>r instanceof An&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ho(e),i=Gf(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(c=>{const d=[];return _e.forEach(c,m=>i.get([m.indexId,this.uid]).next(y=>{d.push(function(w,A){const P=A?new tl(A.sequenceNumber,new Xi(lu(A.readTime),new et(yl(A.documentKey)),A.largestBatchId)):tl.empty(),$=w.fields.map(([Z,ue])=>new mf(ar.fromServerFormat(Z),ue));return new Jl(w.indexId,w.collectionGroup,$,P)}(m,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const c=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==c?c:Ut(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Ho(e),c=Gf(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>_e.forEach(m,y=>c.put(Ey(y.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return _e.forEach(t,(i,c)=>{const d=r.get(i.collectionGroup);return(d?_e.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),_e.forEach(m,y=>this.wn(e,i,y).next(w=>{const A=this.mn(c,y);return w.isEqual(A)?_e.resolve():this.gn(e,c,y,w,A)}))))})}yn(e,t,r,i){return Hf(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return Hf(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=Hf(e);let c=new kn(bl);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,m)=>{c=c.add(new vl(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>c)}mn(e,t){let r=new kn(bl);const i=this.an(t,e);if(null==i)return r;const c=cc(t);if(null!=c){const d=e.data.field(c.fieldPath);if(Jd(d))for(const m of d.arrayValue.values||[])r=r.add(new vl(t.indexId,e.key,this.on(m),i))}else r=r.add(new vl(t.indexId,e.key,Hg,i));return r}gn(e,t,r,i,c){Y("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,y,w,A,P){const $=m.getIterator(),Z=y.getIterator();let ue=rl($),Ee=rl(Z);for(;ue||Ee;){let xe=!1,ut=!1;if(ue&&Ee){const ft=w(ue,Ee);ft<0?ut=!0:ft>0&&(xe=!0)}else null!=ue?ut=!0:xe=!0;xe?(A(Ee),Ee=rl(Z)):ut?(P(ue),ue=rl($)):(ue=rl($),Ee=rl(Z))}}(i,c,bl,m=>{d.push(this.yn(e,t,r,m))},m=>{d.push(this.pn(e,t,r,m))}),_e.waitFor(d)}_n(e){let t=1;return Gf(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,c)=>{c.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>bl(d,m)).filter((d,m,y)=>!m||0!==bl(d,y[m-1]));const i=[];i.push(e);for(const d of r){const m=bl(d,e),y=bl(d,t);if(0===m)i[0]=e.Ke();else if(m>0&&y<0)i.push(d),i.push(d.Ke());else if(y>0)break}i.push(t);const c=[];for(let d=0;d<i.length;d+=2)c.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,Hg,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,Hg,[]]));return c}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ay)}getMinOffset(e,t){return _e.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Be())).next(Ay)}}function pD(n){return ai(n,"collectionParents")}function Hf(n){return ai(n,"indexEntries")}function Ho(n){return ai(n,"indexConfiguration")}function Gf(n){return ai(n,"indexState")}function Ay(n){Ue(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;_o(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Xi(e.readTime,e.documentKey,t)}const Wf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zs(e,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function My(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),c=[],d=IDBKeyRange.only(t.batchId);let m=0;const y=r.Z({range:d},(A,P,$)=>(m++,$.delete()));c.push(y.next(()=>{Ue(1===m)}));const w=[];for(const A of t.mutations){const P=fy(e,A.key.path,t.batchId);c.push(i.delete(P)),w.push(A.key)}return _e.waitFor(c).next(()=>w)}function zf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Be();e=n.noDocument}return JSON.stringify(e).length}Zs.DEFAULT_COLLECTION_PERCENTILE=10,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zs.DEFAULT=new Zs(41943040,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zs.DISABLED=new Zs(-1,0,0);class Gg{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Ue(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Gg(c,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return du(e).Z({index:"userMutationsIndex",range:r},(i,c,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const c=_h(e),d=du(e);return d.add({}).next(m=>{Ue("number"==typeof m);const y=new Dy(m,t,r,i),w=function($,Z,ue){const Ee=ue.baseMutations.map(ut=>ud($.re,ut)),xe=ue.mutations.map(ut=>ud($.re,ut));return{userId:Z,batchId:ue.batchId,localWriteTimeMs:ue.localWriteTime.toMillis(),baseMutations:Ee,mutations:xe}}(this.It,this.userId,y),A=[];let P=new kn(($,Z)=>Ut($.canonicalString(),Z.canonicalString()));for(const $ of i){const Z=fy(this.userId,$.key.path,m);P=P.add($.key.path.popLast()),A.push(d.put(w)),A.push(c.put(Z,eD))}return P.forEach($=>{A.push(this.indexManager.addToCollectionParentIndex(e,$))}),e.addOnCommittedListener(()=>{this.In[m]=y.keys()}),_e.waitFor(A).next(()=>y)})}lookupMutationBatch(e,t){return du(e).get(t).next(r=>r?(Ue(r.userId===this.userId),hd(this.It,r)):null)}Tn(e,t){return this.In[t]?_e.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return du(e).Z({index:"userMutationsIndex",range:i},(d,m,y)=>{m.userId===this.userId&&(Ue(m.batchId>=r),c=hd(this.It,m)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return du(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,c,d)=>{r=c.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return du(e).W("userMutationsIndex",t).next(r=>r.map(i=>hd(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Lg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),c=[];return _h(e).Z({range:i},(d,m,y)=>{const[w,A,P]=d,$=yl(A);if(w===this.userId&&t.path.isEqual($))return du(e).get(P).next(Z=>{if(!Z)throw Be();Ue(Z.userId===this.userId),c.push(hd(this.It,Z))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kn(Ut);const i=[];return t.forEach(c=>{const d=Lg(this.userId,c.path),m=IDBKeyRange.lowerBound(d),y=_h(e).Z({range:m},(w,A,P)=>{const[$,Z,ue]=w,Ee=yl(Z);$===this.userId&&c.path.isEqual(Ee)?r=r.add(ue):P.done()});i.push(y)}),_e.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,c=Lg(this.userId,r),d=IDBKeyRange.lowerBound(c);let m=new kn(Ut);return _h(e).Z({range:d},(y,w,A)=>{const[P,$,Z]=y,ue=yl($);P===this.userId&&r.isPrefixOf(ue)?ue.length===i&&(m=m.add(Z)):A.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],i=[];return t.forEach(c=>{i.push(du(e).get(c).next(d=>{if(null===d)throw Be();Ue(d.userId===this.userId),r.push(hd(this.It,d))}))}),_e.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return My(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),_e.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return _e.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return _h(e).Z({range:r},(c,d,m)=>{if(c[0]===this.userId){const y=yl(c[1]);i.push(y)}else m.done()}).next(()=>{Ue(0===i.length)})})}containsKey(e,t){return gD(e,this.userId,t)}Rn(e){return xy(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function gD(n,e,t){const r=Lg(e,t.path),i=r[1],c=IDBKeyRange.lowerBound(r);let d=!1;return _h(n).Z({range:c,X:!0},(m,y,w)=>{const[A,P,$]=m;A===e&&P===i&&(d=!0),w.done()}).next(()=>d)}function du(n){return ai(n,"mutations")}function _h(n){return ai(n,"documentMutations")}function xy(n){return ai(n,"mutationQueues")}class pd{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new pd(0)}static vn(){return new pd(-1)}}class mD{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new pd(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>kt.fromTimestamp(new or(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gd(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Ue(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const c=[];return gd(e).Z((d,m)=>{const y=Uf(m);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,c.push(this.removeTargetData(e,y)))}).next(()=>_e.waitFor(c)).next(()=>i)}forEachTarget(e,t){return gd(e).Z((r,i)=>{const c=Uf(i);t(c)})}Vn(e){return Wg(e).get("targetGlobalKey").next(t=>(Ue(null!==t),t))}Sn(e,t){return Wg(e).put("targetGlobalKey",t)}Dn(e,t){return gd(e).put(cD(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ns(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return gd(e).Z({range:i,index:"queryTargetsIndex"},(d,m,y)=>{const w=Uf(m);ba(t,w.target)&&(c=w,y.done())}).next(()=>c)}addMatchingKeys(e,t,r){const i=[],c=Go(e);return t.forEach(d=>{const m=ss(d.path);i.push(c.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,d))}),_e.waitFor(i)}removeMatchingKeys(e,t,r){const i=Go(e);return _e.forEach(t,c=>{const d=ss(c.path);return _e.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=Go(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Go(e);let c=tn();return i.Z({range:r,X:!0},(d,m,y)=>{const w=yl(d[1]),A=new et(w);c=c.add(A)}).next(()=>c)}containsKey(e,t){const r=ss(t.path),i=IDBKeyRange.bound([r],[Kd(r)],!1,!0);let c=0;return Go(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,m],y,w)=>{0!==d&&(c++,w.done())}).next(()=>c>0)}se(e,t){return gd(e).get(t).next(r=>r?Uf(r):null)}}function gd(n){return ai(n,"targets")}function Wg(n){return ai(n,"targetGlobal")}function Go(n){return ai(n,"targetDocuments")}function md([n,e],[t,r]){const i=Ut(n,t);return 0===i?Ut(e,r):i}class a1{constructor(e){this.xn=e,this.buffer=new kn(md),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();md(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class c1{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Y("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Te.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){uc(r)?Y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield lc(r)}yield t.Fn(3e5)}))}}class yh{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return _e.resolve(Ns.at);const r=new a1(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(Wf)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wf):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,c,d,m,y,w;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),i=this.params.maximumSequenceNumbersToCollect):i=P,d=Date.now(),this.nthSequenceNumber(e,i))).next(P=>(r=P,m=Date.now(),this.removeTargets(e,r,t))).next(P=>(c=P,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(P=>(w=Date.now(),ne()<=kr.in.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-A}ms\n\tDetermined least recently used ${i} in `+(m-d)+`ms\n\tRemoved ${c} targets in `+(y-m)+`ms\n\tRemoved ${P} documents in `+(w-y)+`ms\nTotal Duration: ${w-A}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:c,documentsRemoved:P})))}}class _D{constructor(e,t){this.db=e,this.garbageCollector=new yh(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return qf(e,r)}removeReference(e,t,r){return qf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return qf(e,t)}Gn(e,t){return function(r,i){let c=!1;return xy(r).tt(d=>gD(r,d,i).next(m=>(m&&(c=!0),_e.resolve(!m)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let c=0;return this.Kn(e,(d,m)=>{if(m<=t){const y=this.Gn(e,d).next(w=>{if(!w)return c++,r.getEntry(e,d).next(()=>(r.removeEntry(d,kt.min()),Go(e).delete([0,ss(d.path)])))});i.push(y)}}).next(()=>_e.waitFor(i)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return qf(e,t)}Kn(e,t){const r=Go(e);let i,c=Ns.at;return r.Z({index:"documentTargetsIndex"},([d,m],{path:y,sequenceNumber:w})=>{0===d?(c!==Ns.at&&t(new et(yl(i)),c),c=w,i=y):c=Ns.at}).next(()=>{c!==Ns.at&&t(new et(yl(i)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qf(n,e){return Go(n).put((r=n.currentSequenceNumber,{targetId:0,path:ss(e.path),sequenceNumber:r}));var r}class Kf{constructor(){this.changes=new _l(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?_e.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ia{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return As(e).put(r)}removeEntry(e,t,r){return As(e).delete(function(i,c){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],jg(c),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Un.newInvalidDocument(t);return As(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_d(t))},(i,c)=>{r=this.jn(t,c)}).next(()=>r)}Wn(e,t){let r={size:0,document:Un.newInvalidDocument(t)};return As(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_d(t))},(i,c)=>{r={document:this.jn(t,c),size:zf(c)}}).next(()=>r)}getEntries(e,t){let r=Gn();return this.zn(e,t,(i,c)=>{const d=this.jn(i,c);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=Gn(),i=new Bn(et.comparator);return this.zn(e,t,(c,d)=>{const m=this.jn(c,d);r=r.insert(c,m),i=i.insert(c,zf(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return _e.resolve();let i=new kn(qg);t.forEach(y=>i=i.add(y));const c=IDBKeyRange.bound(_d(i.first()),_d(i.last())),d=i.getIterator();let m=d.getNext();return As(e).Z({index:"documentKeyIndex",range:c},(y,w,A)=>{const P=et.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;m&&qg(m,P)<0;)r(m,null),m=d.getNext();m&&m.isEqual(P)&&(r(m,w),m=d.hasNext()?d.getNext():null),m?A.j(_d(m)):A.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),jg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return As(e).W(IDBKeyRange.bound(i,c,!0)).next(d=>{let m=Gn();for(const y of d){const w=this.jn(et.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);m=m.insert(w.key,w)}return m})}getAllFromCollectionGroup(e,t,r,i){let c=Gn();const d=Ry(t,r),m=Ry(t,Xi.max());return As(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(y,w,A)=>{const P=this.jn(et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);c=c.insert(P.key,P),c.size===i&&A.done()}).next(()=>c)}newChangeBuffer(e){return new l1(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return zg(e).get("remoteDocumentGlobalKey").next(t=>(Ue(!!t),t))}Qn(e,t){return zg(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function n1(n,e){let t;if(e.document)t=Fg(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=et.fromSegments(e.noDocument.path),i=lu(e.noDocument.readTime);t=Un.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Be();{const r=et.fromSegments(e.unknownDocument.path),i=lu(e.unknownDocument.version);t=Un.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new or(r[0],r[1]);return kt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(kt.min()))return r}return Un.newInvalidDocument(e)}}function Oy(n){return new Ia(n)}class l1 extends Kf{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new _l(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new kn((c,d)=>Ut(c.canonicalString(),d.canonicalString()));return this.changes.forEach((c,d)=>{const m=this.Xn.get(c);if(t.push(this.Yn.removeEntry(e,c,m.readTime)),d.isValidDocument()){const y=aD(this.Yn.It,d);i=i.add(c.path.popLast()),r+=zf(y)-m.size,t.push(this.Yn.addEntry(e,c,y))}else if(r-=m.size,this.trackRemovals){const y=aD(this.Yn.It,d.convertToNoDocument(kt.min()));t.push(this.Yn.addEntry(e,c,y))}}),i.forEach(c=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.Yn.updateMetadata(e,r)),_e.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((c,d)=>{this.Xn.set(c,{size:d,readTime:r.get(c).readTime})}),r))}}function zg(n){return ai(n,"remoteDocumentGlobal")}function As(n){return ai(n,"remoteDocumentsV14")}function _d(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ry(n,e){const t=e.documentKey.path.toArray();return[n,jg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function qg(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(i=Ut(t[c],r[c]),i)return i;return i=Ut(t.length,r.length),i||(i=Ut(t[t.length-2],r[r.length-2]),i||Ut(t[t.length-1],r[r.length-1]))}class gS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Py{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Pf(r.mutation,i,qs.empty(),or.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tn()){const i=vc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(c=>{let d=uh();return c.forEach((m,y)=>{d=d.insert(m,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=vc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tn()))}populateOverlays(e,t,r){const i=[];return r.forEach(c=>{t.has(c)||i.push(c)}),this.documentOverlayCache.getOverlays(e,i).next(c=>{c.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,i){let c=Gn();const d=kf(),m=kf();return t.forEach((y,w)=>{const A=r.get(w.key);i.has(w.key)&&(void 0===A||A.mutation instanceof ml)?c=c.insert(w.key,w):void 0!==A&&(d.set(w.key,A.mutation.getFieldMask()),Pf(A.mutation,w,A.mutation.getFieldMask(),or.now()))}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((w,A)=>d.set(w,A)),t.forEach((w,A)=>{var P;return m.set(w,new gS(A,null!==(P=d.get(w))&&void 0!==P?P:null))}),m))}recalculateAndSaveOverlays(e,t){const r=kf();let i=new Bn((d,m)=>d-m),c=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let A=r.get(y)||qs.empty();A=m.applyToLocalView(w,A),r.set(y,A);const P=(i.get(m.batchId)||tn()).add(y);i=i.insert(m.batchId,P)})}).next(()=>{const d=[],m=i.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),w=y.key,A=y.value,P=ay();A.forEach($=>{if(!c.has($)){const Z=Fb(t.get($),r.get($));null!==Z&&P.set($,Z),c=c.add($)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,P))}return _e.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(c=>{const d=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-c.size):_e.resolve(vc());let m=-1,y=c;return d.next(w=>_e.forEach(w,(A,P)=>(m<P.largestBatchId&&(m=P.largestBatchId),c.get(A)?_e.resolve():this.getBaseDocument(e,A,P).next($=>{y=y.insert(A,$)}))).next(()=>this.populateOverlays(e,w,c)).next(()=>this.computeViews(e,y,w,tn())).next(A=>({batchId:m,changes:$b(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let i=uh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let c=uh();return this.indexManager.getCollectionParents(e,i).next(d=>_e.forEach(d,m=>{const y=(w=t,A=m.child(i),new wa(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,A;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((A,P)=>{c=c.insert(A,P)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(c=>(i=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(c=>{c.forEach((m,y)=>{const w=y.getKey();null===i.get(w)&&(i=i.insert(w,Un.newInvalidDocument(w)))});let d=uh();return i.forEach((m,y)=>{const w=c.get(m);void 0!==w&&Pf(w.mutation,y,qs.empty(),or.now()),Ce(t,y)&&(d=d.insert(m,y))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):_e.resolve(Un.newInvalidDocument(t))}}class mS{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return _e.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:oi(r.createTime)}),_e.resolve()}getNamedQuery(e,t){return _e.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:qt(r.bundledQuery),readTime:oi(r.readTime)}),_e.resolve();var r}}class Kg{constructor(){this.overlays=new Bn(et.comparator),this.es=new Map}getOverlay(e,t){return _e.resolve(this.overlays.get(t))}getOverlays(e,t){const r=vc();return _e.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,c)=>{this.ue(e,t,c)}),_e.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(c=>this.overlays=this.overlays.remove(c)),this.es.delete(r)),_e.resolve()}getOverlaysForCollection(e,t,r){const i=vc(),c=t.length+1,d=new et(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const y=m.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===c&&y.largestBatchId>r&&i.set(y.getKey(),y)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let c=new Bn((w,A)=>w-A);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let A=c.get(w.largestBatchId);null===A&&(A=vc(),c=c.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const m=vc(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,A)=>m.set(w,A)),!(m.size()>=i)););return _e.resolve(m)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new vo(t,r));let c=this.es.get(t);void 0===c&&(c=tn(),this.es.set(t,c)),this.es.set(t,c.add(r.key))}}class vh{constructor(){this.ns=new kn(qr.ss),this.rs=new kn(qr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new qr(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new qr(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new et(new hn([])),r=new qr(t,e),i=new qr(t,e+1),c=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),c.push(d.key)}),c}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new et(new hn([])),r=new qr(t,e),i=new qr(t,e+1);let c=tn();return this.rs.forEachInRange([r,i],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new qr(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class qr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return et.comparator(e.key,t.key)||Ut(e._s,t._s)}static os(e,t){return Ut(e._s,t._s)||et.comparator(e.key,t.key)}}class ky{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new kn(qr.ss)}checkEmpty(e){return _e.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const c=this.ws;this.ws++;const d=new Dy(c,t,r,i);this.mutationQueue.push(d);for(const m of i)this.gs=this.gs.add(new qr(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return _e.resolve(d)}lookupMutationBatch(e,t){return _e.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),c=i<0?0:i;return _e.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new qr(t,0),i=new qr(t,Number.POSITIVE_INFINITY),c=[];return this.gs.forEachInRange([r,i],d=>{const m=this.ys(d._s);c.push(m)}),_e.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kn(Ut);return t.forEach(i=>{const c=new qr(i,0),d=new qr(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([c,d],m=>{r=r.add(m._s)})}),_e.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let c=r;et.isDocumentKey(c)||(c=c.child(""));const d=new qr(new et(c),0);let m=new kn(Ut);return this.gs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(m=m.add(y._s)),!0)},d),_e.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ue(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return _e.forEach(t.mutations,i=>{const c=new qr(i.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new qr(t,0),i=this.gs.firstAfterOrEqual(r);return _e.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return _e.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Fy{constructor(e){this.Es=e,this.docs=new Bn(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),c=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return _e.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let r=Gn();return t.forEach(i=>{const c=this.docs.get(i);r=r.insert(i,c?c.document.mutableCopy():Un.newInvalidDocument(i))}),_e.resolve(r)}getAllFromCollection(e,t,r){let i=Gn();const c=new et(t.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||_o(yf(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return _e.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Be()}As(e,t){return _e.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _S(this)}getSize(e){return _e.resolve(this.size)}}class _S extends Kf{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),_e.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class u1{constructor(e){this.persistence=e,this.Rs=new _l(t=>ns(t),ba),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new vh,this.targetCount=0,this.vs=pd.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),_e.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new pd(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,_e.resolve()}updateTargetData(e,t){return this.Dn(t),_e.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,t,r){let i=0;const c=[];return this.Rs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),_e.waitFor(c).next(()=>i)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return _e.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),_e.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,c=[];return i&&t.forEach(d=>{c.push(i.markPotentiallyOrphaned(e,d))}),_e.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),_e.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return _e.resolve(r)}containsKey(e,t){return _e.resolve(this.Ps.containsKey(t))}}class yD{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ns(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new u1(this),this.indexManager=new o1,this.remoteDocumentCache=new Fy(r=>this.referenceDelegate.xs(r)),this.It=new Iy(t),this.Ns=new mS(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Kg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new ky(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Y("MemoryPersistence","Starting transaction:",e);const i=new d1(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(c=>this.referenceDelegate.Os(i).next(()=>c)).toPromise().then(c=>(i.raiseOnCommittedEvent(),c))}Ms(e,t){return _e.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class d1 extends Zd{constructor(e){super(),this.currentSequenceNumber=e}}class Zg{constructor(e){this.persistence=e,this.Fs=new vh,this.$s=null}static Bs(e){return new Zg(e)}get Ls(){if(this.$s)return this.$s;throw Be()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),_e.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),_e.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(c=>this.Ls.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.Ls,r=>{const i=et.fromPath(r);return this.Us(e,i).next(c=>{c||t.removeEntry(i,kt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return _e.or([()=>_e.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class vD{constructor(e){this.It=e}$(e,t,r,i){const c=new es("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bf,{unique:!0}),m.createObjectStore("documentMutations"),h1(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=_e.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),h1(e)),d=d.next(()=>function(m){const y=m.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(c))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(m,y){return y.store("mutations").W().next(w=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bf,{unique:!0});const A=y.store("mutations"),P=w.map($=>A.put($));return _e.waitFor(P)})}(e,c))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(c))),r<6&&i>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(c)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(c))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,c))),r<9&&i>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(c))),r<11&&i>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(m){const y=m.createObjectStore("documentOverlays",{keyPath:sD});y.createIndex("collectionPathOverlayIndex",XC,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",e1,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(m){const y=m.createObjectStore("remoteDocumentsV14",{keyPath:tD});y.createIndex("documentKeyIndex",py),y.createIndex("collectionGroupIndex",nD)}(e)).next(()=>this.Ws(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,c))),r<15&&i>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:iD}).createIndex("sequenceNumberIndex",my,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:jf}).createIndex("documentKeyIndex",JC,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=zf(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>_e.forEach(i,c=>{const d=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(m=>_e.forEach(m,y=>{Ue(y.userId===c.userId);const w=hd(this.It,y);return My(e,c.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const c=[];return r.Z((d,m)=>{const y=new hn(d),w=[0,ss(y)];c.push(t.get(w).next(A=>A?_e.resolve():t.put({targetId:0,path:ss(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>_e.waitFor(c))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:gy});const r=t.store("collectionParents"),i=new Ny,c=d=>{if(i.add(d)){const m=d.lastSegment(),y=d.popLast();return r.put({collectionId:m,parent:ss(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,m)=>{const y=new hn(d);return c(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,m,y],w)=>{const A=yl(m);return c(A.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const c=Uf(i),d=cD(this.It,c);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((c,d)=>{const m=t.store("remoteDocumentsV14"),y=(w=d,w.document?new et(hn.fromString(w.document.name).popFirst(5)):w.noDocument?et.fromSegments(w.noDocument.path):w.unknownDocument?et.fromSegments(w.unknownDocument.path):Be()).path.toArray();var w;const A={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(m.put(A))}).next(()=>_e.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=Oy(this.It),c=new yD(Zg.Bs,this.It.re);return r.W().next(d=>{const m=new Map;return d.forEach(y=>{var w;let A=null!==(w=m.get(y.userId))&&void 0!==w?w:tn();hd(this.It,y).keys().forEach(P=>A=A.add(P)),m.set(y.userId,A)}),_e.forEach(m,(y,w)=>{const A=new N(w),P=$g.oe(this.It,A),$=c.getIndexManager(A),Z=Gg.oe(A,this.It,$,c.referenceDelegate);return new Py(i,Z,P,$).recalculateAndSaveOverlaysForDocumentKeys(new by(t,Ns.at),y).next()})})}}function h1(n){n.createObjectStore("targetDocuments",{keyPath:Bg}).createIndex("documentTargetsIndex",rD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Vg,{unique:!0}),n.createObjectStore("targetGlobal")}const Ly="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bD{constructor(e,t,r,i,c,d,m,y,w,A,P=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=c,this.window=d,this.document=m,this.Js=w,this.Ys=A,this.Xs=P,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=$=>Promise.resolve(),!bD.C())throw new Le(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _D(this,i),this.ii=t+"main",this.It=new Iy(y),this.ri=new Ni(this.ii,this.Xs,new vD(this.It)),this.Cs=new mD(this.referenceDelegate,this.It),this.remoteDocumentCache=Oy(this.It),this.Ns=new r1,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===A&&$e("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(be.FAILED_PRECONDITION,Ly);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ns(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Te.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Te.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Te.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Zf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(uc(e))return Y("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Y("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return bh(e).get("owner").next(t=>_e.resolve(this.mi(t)))}gi(e){return Zf(e).delete(this.clientId)}yi(){var e=this;return(0,Te.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ai(r,"clientMetadata");return i.W().next(c=>{const d=e.Ii(c,18e5),m=c.filter(y=>-1===d.indexOf(y));return _e.forEach(m,y=>i.delete(y.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?_e.resolve(!0):bh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Le(be.FAILED_PRECONDITION,Ly);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zf(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Y("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Te.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new by(t,Ns.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Zf(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Gg.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fD(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return $g.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Y("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",c=15===(d=this.Xs)?oD:14===d?t1:13===d?vy:12===d?yy:11===d?_y:void Be();var d;let m;return this.ri.runTransaction(e,i,c,y=>(m=new by(y,this.Ss?this.Ss.next():Ns.at),"readwrite-primary"===t?this.fi(m).next(w=>!!w||this.di(m)).next(w=>{if(!w)throw $e(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Le(be.FAILED_PRECONDITION,wg);return r(m)}).next(w=>this.wi(m).next(()=>w)):this.Vi(m).next(()=>r(m)))).then(y=>(m.raiseOnCommittedEvent(),y))}Vi(e){return bh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(be.FAILED_PRECONDITION,Ly)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bh(e).put("owner",t)}static C(){return Ni.C()}_i(e){const t=bh(e);return t.get("owner").next(r=>this.mi(r)?(Y("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):_e.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&($e(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Ht.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Y("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $e("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){$e("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bh(n){return ai(n,"owner")}function Zf(n){return ai(n,"clientMetadata")}function Vy(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Qf{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=tn(),i=tn();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new Qf(e,t.fromCache,r,i)}}class f1{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(c=>c||this.Oi(e,t,i,r)).next(c=>c||this.Mi(e,t))}ki(e,t){if(Ng(t))return _e.resolve(null);let r=g(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=b(t,null,"F"),r=g(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=tn(...c);return this.Ni.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.Fi(t,m);return this.$i(t,w,d,y.readTime)?this.ki(e,b(t,null,"F")):this.Bi(e,w,t,y)}))})))}Oi(e,t,r,i){return Ng(t)||i.isEqual(kt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(c=>{const d=this.Fi(t,c);return this.$i(t,d,r,i)?this.Mi(e,t):(ne()<=kr.in.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),J(t)),this.Bi(e,d,t,_f(i,-1)))})}Fi(e,t){let r=new kn(pt(e));return t.forEach((i,c)=>{Ce(e,c)&&(r=r.add(c))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Mi(e,t){return ne()<=kr.in.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",J(t)),this.Ni.getDocumentsMatchingQuery(e,t,Xi.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}class yS{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Bn(Ut),this.qi=new _l(c=>ns(c),ba),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Py(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function p1(n,e,t,r){return new yS(n,e,t,r)}function g1(n,e){return DD.apply(this,arguments)}function DD(){return DD=(0,Te.Z)(function*(n,e){const t=ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(c=>(i=c,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],m=[];let y=tn();for(const w of i){d.push(w.batchId);for(const A of w.mutations)y=y.add(A.key)}for(const w of c){m.push(w.batchId);for(const A of w.mutations)y=y.add(A.key)}return t.localDocuments.getDocuments(r,y).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:m}))})})}),DD.apply(this,arguments)}function vS(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),c=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,m,y,w){const A=y.batch,P=A.keys();let $=_e.resolve();return P.forEach(Z=>{$=$.next(()=>w.getEntry(m,Z)).next(ue=>{const Ee=y.docVersions.get(Z);Ue(null!==Ee),ue.version.compareTo(Ee)<0&&(A.applyToRemoteDocument(ue,y),ue.isValidDocument()&&(ue.setReadTime(y.commitVersion),w.addEntry(ue)))})}),$.next(()=>d.mutationQueue.removeMutationBatch(m,A))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=tn();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(m=m.add(d.batch.mutations[y].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function m1(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function bS(n,e){const t=ze(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const m=[];e.targetChanges.forEach((A,P)=>{const $=i.get(P);if(!$)return;m.push(t.Cs.removeMatchingKeys(c,A.removedDocuments,P).next(()=>t.Cs.addMatchingKeys(c,A.addedDocuments,P)));let Z=$.withSequenceNumber(c.currentSequenceNumber);var ue,Ee,xe;e.targetMismatches.has(P)?Z=Z.withResumeToken(cr.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):A.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(A.resumeToken,r)),i=i.insert(P,Z),Ee=Z,xe=A,(0===(ue=$).resumeToken.approximateByteSize()||Ee.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(c,Z))});let y=Gn(),w=tn();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,A))}),m.push(_1(c,d,e.documentUpdates).next(A=>{y=A.Wi,w=A.zi})),!r.isEqual(kt.min())){const A=t.Cs.getLastRemoteSnapshotVersion(c).next(P=>t.Cs.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(A)}return _e.waitFor(m).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,y,w)).next(()=>y)}).then(c=>(t.Ui=i,c))}function _1(n,e,t){let r=tn(),i=tn();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let d=Gn();return t.forEach((m,y)=>{const w=c.get(m);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(m)),y.isNoDocument()&&y.version.isEqual(kt.min())?(e.removeEntry(m,y.readTime),d=d.insert(m,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),d=d.insert(m,y)):Y("LocalStore","Ignoring outdated watch update for ",m,". Current version:",w.version," Watch version:",y.version)}),{Wi:d,zi:i}})}function DS(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bo(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(c=>c?(i=c,_e.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new cu(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function hu(n,e,t){return By.apply(this,arguments)}function By(){return By=(0,Te.Z)(function*(n,e,t){const r=ze(n),i=r.Ui.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!uc(d))throw d;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),By.apply(this,arguments)}function Yf(n,e,t){const r=ze(n);let i=kt.min(),c=tn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,y,w){const A=ze(m),P=A.qi.get(w);return void 0!==P?_e.resolve(A.Ui.get(P)):A.Cs.getTargetData(y,w)}(r,d,g(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,m.targetId).next(y=>{c=y})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:kt.min(),t?c:tn())).next(m=>(Yg(r,Qe(e),m),{documents:m,Hi:c})))}function Qg(n,e){const t=ze(n),r=ze(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",c=>r.se(c,e).next(d=>d?d.target:null))}function jy(n,e){const t=ze(n),r=t.Ki.get(e)||kt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,_f(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Yg(t,e,i),i))}function Yg(n,e,t){let r=n.Ki.get(e)||kt.min();t.forEach((i,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Ki.set(e,r)}function Ic(){return Ic=(0,Te.Z)(function*(n,e,t,r){const i=ze(n);let c=tn(),d=Gn();for(const w of t){const A=e.Ji(w.metadata.name);w.document&&(c=c.add(A));const P=e.Yi(w);P.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(A,P)}const m=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield bo(i,(w=r,g(id(hn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>_1(w,m,d).next(A=>(m.apply(w),A)).next(A=>i.Cs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Cs.addMatchingKeys(w,c,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,A.Wi,A.zi)).next(()=>A.Wi)))}),Ic.apply(this,arguments)}function wD(n,e){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,Te.Z)(function*(n,e,t=tn()){const r=yield bo(n,g(qt(e.bundledQuery))),i=ze(n);return i.persistence.runTransaction("Save named query","readwrite",c=>{const d=oi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(c,e);const m=r.withResumeToken(cr.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(m.targetId,m),i.Cs.updateTargetData(c,m).next(()=>i.Cs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>i.Cs.addMatchingKeys(c,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(c,e))})}),Uy.apply(this,arguments)}function ID(n,e){return`firestore_clients_${n}_${e}`}function $y(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Hy(n,e){return`firestore_targets_${n}_${e}`}class Jg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let c,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(c=new Le(i.error.code,i.error.message))),d?new Jg(e,t,i.state,c):($e("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fu{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(i=new Le(r.error.code,r.error.message))),c?new fu(e,r.state,i):($e("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dl{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,c=Rg();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Tg(r.activeTargetIds[d]),c=c.add(r.activeTargetIds[d]);return i?new Dl(e,c):($e("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Jf{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Jf(t.clientId,t.onlineState):($e("SharedClientState",`Failed to parse online state: ${e}`),null)}}class pu{constructor(){this.activeTargetIds=Rg()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xf{constructor(e,t,r,i,c){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Bn(Ut),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ar=ID(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new pu),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Te.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const c=e.getItem(ID(e.persistenceKey,i));if(c){const d=Dl.Zi(i,c);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Hy(this.persistenceKey,e));if(r){const i=fu.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Hy(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Y("SharedClientState","READ",e,t),t}setItem(e,t){Y("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Y("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Y("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void $e("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Te.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(c){let d=Ns.at;if(null!=c)try{const m=JSON.parse(c);Ue("number"==typeof m),d=m}catch(m){$e("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);i!==Ns.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(c=>t.syncEngine.Mr(c)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new Jg(this.currentUser,e,t,r),c=$y(this.persistenceKey,this.currentUser,e);this.setItem(c,i.tr())}Er(e){const t=$y(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=Hy(this.persistenceKey,e),c=new fu(e,t,r);this.setItem(i,c.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Dl.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return Jg.Zi(new N(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return fu.Zi(i,t)}yr(e){return Jf.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Y("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),c=this.Ir(r),d=[],m=[];return c.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{c.has(y)||m.push(y)}),this.syncEngine.Br(d,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Rg();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class ep{constructor(){this.Lr=new pu,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new pu,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CD{qr(e){}shutdown(){}}class Gy{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Wy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zy{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ED extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,c){const d=this.ho(e,t);Y("RestConnection","Sending: ",d,r);const m={};return this.lo(m,i,c),this.fo(e,d,m,r).then(y=>(Y("RestConnection","Received: ",y),y),y=>{throw vt("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}_o(e,t,r,i,c,d){return this.ao(e,t,r,i,c)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+R,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,c)=>e[c]=i),r&&r.headers.forEach((i,c)=>e[c]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Wy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((c,d)=>{const m=new qd;m.setWithCredentials(!0),m.listenOnce(pf.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ss.NO_ERROR:const w=m.getResponseJson();Y("Connection","XHR received:",JSON.stringify(w)),c(w);break;case Ss.TIMEOUT:Y("Connection",'RPC "'+e+'" timed out'),d(new Le(be.DEADLINE_EXCEEDED,"Request time out"));break;case Ss.HTTP_ERROR:const A=m.getStatus();if(Y("Connection",'RPC "'+e+'" failed with status:',A,"response text:",m.getResponseText()),A>0){const P=m.getResponseJson().error;if(P&&P.status&&P.message){const $=function(Z){const ue=Z.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(ue)>=0?ue:be.UNKNOWN}(P.status);d(new Le($,P.message))}else d(new Le(be.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Le(be.UNAVAILABLE,"Connection failed."));break;default:Be()}}finally{Y("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);m.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=mo(),d=qu(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new zd({})),this.lo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const y=i.join("");Y("Connection","Creating WebChannel: "+y,m);const w=c.createWebChannel(y,m);let A=!1,P=!1;const $=new zy({Hr:ue=>{P?Y("Connection","Not sending because WebChannel is closed:",ue):(A||(Y("Connection","Opening WebChannel transport."),w.open(),A=!0),Y("Connection","WebChannel sending:",ue),w.send(ue))},Jr:()=>w.close()}),Z=(ue,Ee,xe)=>{ue.listen(Ee,ut=>{try{xe(ut)}catch(ft){setTimeout(()=>{throw ft},0)}})};return Z(w,Qn.EventType.OPEN,()=>{P||Y("Connection","WebChannel transport opened.")}),Z(w,Qn.EventType.CLOSE,()=>{P||(P=!0,Y("Connection","WebChannel transport closed"),$.io())}),Z(w,Qn.EventType.ERROR,ue=>{P||(P=!0,vt("Connection","WebChannel transport errored:",ue),$.io(new Le(be.UNAVAILABLE,"The operation could not be completed")))}),Z(w,Qn.EventType.MESSAGE,ue=>{var Ee;if(!P){const xe=ue.data[0];Ue(!!xe);const ut=xe,ft=ut.error||(null===(Ee=ut[0])||void 0===Ee?void 0:Ee.error);if(ft){Y("Connection","WebChannel received error:",ft);const wt=ft.status;let dt=function(gt){const Jt=zr[gt];if(void 0!==Jt)return Og(Jt)}(wt),ct=ft.message;void 0===dt&&(dt=be.INTERNAL,ct="Unknown error status: "+wt+" with message "+ft.message),P=!0,$.io(new Le(dt,ct)),w.close()}else Y("Connection","WebChannel received:",xe),$.ro(xe)}}),Z(d,oc.STAT_EVENT,ue=>{ue.stat===zs.PROXY?Y("Connection","Detected buffering proxy"):ue.stat===zs.NOPROXY&&Y("Connection","Detected no buffering proxy")}),setTimeout(()=>{$.so()},0),$}}function Xg(){return typeof window<"u"?window:null}function em(){return typeof document<"u"?document:null}function tm(n){return new Dc(n,!0)}class qy{constructor(e,t,r=1e3,i=1.5,c=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Ky{constructor(e,t,r,i,c,d,m,y){this.Hs=e,this.vo=r,this.Vo=i,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new qy(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Te.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Te.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Te.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===be.RESOURCE_EXHAUSTED?($e(t.toString()),$e("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===be.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Le(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Te.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v1 extends Ky{constructor(e,t,r,i,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=c}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function KC(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Be(),i=e.targetChange.targetIds||[],c=function(y,w){return y.gt?(Ue(void 0===w||"string"==typeof w),cr.fromBase64String(w||"")):(Ue(void 0===w||w instanceof Uint8Array),cr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const w=void 0===y.code?be.UNKNOWN:Og(y.code);return new Le(w,y.message||"")}(d);t=new bc(r,i,c,m||null)}else if("documentChange"in e){const r=e.documentChange,i=wc(n,r.document.name),c=oi(r.document.updateTime),d=new Ai({mapValue:{fields:r.document.fields}}),m=Un.newFoundDocument(i,c,d);t=new Ff(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=wc(n,r.document),c=r.readTime?oi(r.readTime):kt.min(),d=Un.newNoDocument(i,c);t=new Ff([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=wc(n,r.document);t=new Ff([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Be();{const r=e.filter,c=new Ub(r.count||0);t=new ad(r.targetId,c)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return kt.min();const c=i.targetChange;return c.targetIds&&c.targetIds.length?kt.min():c.readTime?oi(c.readTime):kt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=ph(this.It),t.addTarget=function(i,c){let d;const m=c.target;return d=Da(m)?{documents:qb(i,m)}:{query:uy(i,m)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?d.resumeToken=Pg(i,c.resumeToken):c.snapshotVersion.compareTo(kt.min())>0&&(d.readTime=cd(i,c.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function QC(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Be()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=ph(this.It),t.removeTarget=e,this.Bo(t)}}class TD extends Ky{constructor(e,t,r,i,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=c,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function ZC(n,e){return n&&n.length>0?(Ue(void 0!==e),n.map(t=>function(r,i){let c=oi(r.updateTime?r.updateTime:i);return c.isEqual(kt.min())&&(c=oi(i)),new iy(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=oi(e.commitTime);return this.listener.Zo(r,t)}return Ue(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ph(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ud(this.It,r))};this.Bo(t)}}class SD extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Le(be.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,c])=>this.connection.ao(e,t,r,i,c)).catch(i=>{throw"FirebaseError"===i.name?(i.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Le(be.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection._o(e,t,r,c,d,i)).catch(c=>{throw"FirebaseError"===c.name?(c.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Le(be.UNKNOWN,c.toString())})}terminate(){this.nu=!0}}class ND{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?($e(t),this.ou=!1):Y("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class D1{constructor(e,t,r,i,c){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=c,this.mu.qr(m=>{r.enqueueAndForget((0,Te.Z)(function*(){var y;wl(d)&&(Y("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Te.Z)(function*(w){const A=ze(w);A._u.add(4),yield gu(A),A.gu.set("Unknown"),A._u.delete(4),yield nm(A)}),function(w){return y.apply(this,arguments)})(d))}))}),this.gu=new ND(r,i)}}function nm(n){return Zy.apply(this,arguments)}function Zy(){return Zy=(0,Te.Z)(function*(n){if(wl(n))for(const e of n.wu)yield e(!0)}),Zy.apply(this,arguments)}function gu(n){return rm.apply(this,arguments)}function rm(){return rm=(0,Te.Z)(function*(n){for(const e of n.wu)yield e(!1)}),rm.apply(this,arguments)}function im(n,e){const t=ze(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),sm(t)?Jy(t):Il(t).ko()&&Qy(t,e))}function tp(n,e){const t=ze(n),r=Il(t);t.du.delete(e),r.ko()&&Yy(t,e),0===t.du.size&&(r.ko()?r.Fo():wl(t)&&t.gu.set("Unknown"))}function Qy(n,e){n.yu.Mt(e.targetId),Il(n).zo(e)}function Yy(n,e){n.yu.Mt(e),Il(n).Ho(e)}function Jy(n){n.yu=new HC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Il(n).start(),n.gu.uu()}function sm(n){return wl(n)&&!Il(n).No()&&n.du.size>0}function wl(n){return 0===ze(n)._u.size}function AD(n){n.yu=void 0}function MD(n){return om.apply(this,arguments)}function om(){return om=(0,Te.Z)(function*(n){n.du.forEach((e,t)=>{Qy(n,e)})}),om.apply(this,arguments)}function w1(n,e){return Wo.apply(this,arguments)}function Wo(){return Wo=(0,Te.Z)(function*(n,e){AD(n),sm(n)?(n.gu.hu(e),Jy(n)):n.gu.set("Unknown")}),Wo.apply(this,arguments)}function Xy(n,e,t){return ev.apply(this,arguments)}function ev(){return ev=(0,Te.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof bc&&2===e.state&&e.cause)try{yield(r=(0,Te.Z)(function*(i,c){const d=c.cause;for(const m of c.targetIds)i.du.has(m)&&(yield i.remoteSyncer.rejectListen(m,d),i.du.delete(m),i.yu.removeTarget(m))}),function(i,c){return r.apply(this,arguments)})(n,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield am(n,r)}else if(e instanceof Ff?n.yu.Gt(e):e instanceof ad?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(kt.min()))try{const r=yield m1(n.localStore);t.compareTo(r)>=0&&(yield function(i,c){const d=i.yu.te(c);return d.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const w=i.du.get(y);w&&i.du.set(y,w.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach(m=>{const y=i.du.get(m);if(!y)return;i.du.set(m,y.withResumeToken(cr.EMPTY_BYTE_STRING,y.snapshotVersion)),Yy(i,m);const w=new cu(y.target,m,1,y.sequenceNumber);Qy(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),yield am(n,r)}var r}),ev.apply(this,arguments)}function am(n,e,t){return xD.apply(this,arguments)}function xD(){return xD=(0,Te.Z)(function*(n,e,t){if(!uc(e))throw e;n._u.add(1),yield gu(n),n.gu.set("Offline"),t||(t=()=>m1(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Y("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield nm(n)}))}),xD.apply(this,arguments)}function tv(n,e){return e().catch(t=>am(n,t,e))}function Dh(n){return nv.apply(this,arguments)}function nv(){return nv=(0,Te.Z)(function*(n){const e=ze(n),t=Ea(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;I1(e);)try{const i=yield DS(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,rv(e,i)}catch(i){yield am(e,i)}OD(e)&&RD(e)}),nv.apply(this,arguments)}function I1(n){return wl(n)&&n.fu.length<10}function rv(n,e){n.fu.push(e);const t=Ea(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function OD(n){return wl(n)&&!Ea(n).No()&&n.fu.length>0}function RD(n){Ea(n).start()}function cm(n){return np.apply(this,arguments)}function np(){return np=(0,Te.Z)(function*(n){Ea(n).eu()}),np.apply(this,arguments)}function lm(n){return PD.apply(this,arguments)}function PD(){return PD=(0,Te.Z)(function*(n){const e=Ea(n);for(const t of n.fu)e.Xo(t.mutations)}),PD.apply(this,arguments)}function iv(n,e,t){return kD.apply(this,arguments)}function kD(){return kD=(0,Te.Z)(function*(n,e,t){const r=n.fu.shift(),i=wy.from(r,e,t);yield tv(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Dh(n)}),kD.apply(this,arguments)}function FD(n,e){return um.apply(this,arguments)}function um(){return um=(0,Te.Z)(function*(n,e){var t;e&&Ea(n).Yo&&(yield(t=(0,Te.Z)(function*(r,i){if(Ui(c=i.code)&&c!==be.ABORTED){const d=r.fu.shift();Ea(r).Mo(),yield tv(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Dh(r)}var c}),function(r,i){return t.apply(this,arguments)})(n,e)),OD(n)&&RD(n)}),um.apply(this,arguments)}function sv(n,e){return dm.apply(this,arguments)}function dm(){return dm=(0,Te.Z)(function*(n,e){const t=ze(n);t.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=wl(t);t._u.add(3),yield gu(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield nm(t)}),dm.apply(this,arguments)}function rp(n,e){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,Te.Z)(function*(n,e){const t=ze(n);e?(t._u.delete(2),yield nm(t)):e||(t._u.add(2),yield gu(t),t.gu.set("Unknown"))}),Ca.apply(this,arguments)}function Il(n){return n.pu||(n.pu=function(e,t,r){const i=ze(e);return i.su(),new v1(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:MD.bind(null,n),Zr:w1.bind(null,n),Wo:Xy.bind(null,n)}),n.wu.push(function(){var e=(0,Te.Z)(function*(t){t?(n.pu.Mo(),sm(n)?Jy(n):n.gu.set("Unknown")):(yield n.pu.stop(),AD(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ea(n){return n.Iu||(n.Iu=function(e,t,r){const i=ze(e);return i.su(),new TD(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:cm.bind(null,n),Zr:FD.bind(null,n),tu:lm.bind(null,n),Zo:iv.bind(null,n)}),n.wu.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Iu.Mo(),yield Dh(n)):(yield n.Iu.stop(),n.fu.length>0&&(Y("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class mu{constructor(e,t,r,i,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=c,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,c){const d=Date.now()+r,m=new mu(e,t,d,i,c);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wh(n,e){if($e("AsyncQueue",`${e}: ${n}`),uc(n))return new Le(be.UNAVAILABLE,`${e}: ${n}`);throw n}class _u{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=uh(),this.sortedSet=new Bn(this.comparator)}static emptySet(e){return new _u(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _u)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new _u;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class ov{constructor(){this.Tu=new Bn(et.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Be():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ih{constructor(e,t,r,i,c,d,m,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,c){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Ih(e,t,_u.emptySet(t),d,r,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&x(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class C1{constructor(){this.Au=void 0,this.listeners=[]}}class Ch{constructor(){this.queries=new _l(e=>L(e),x),this.onlineState="Unknown",this.Ru=new Set}}function av(n,e){return LD.apply(this,arguments)}function LD(){return LD=(0,Te.Z)(function*(n,e){const t=ze(n),r=e.query;let i=!1,c=t.queries.get(r);if(c||(i=!0,c=new C1),i)try{c.Au=yield t.onListen(r)}catch(d){const m=wh(d,`Initialization of query '${J(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,c),c.listeners.push(e),e.bu(t.onlineState),c.Au&&e.Pu(c.Au)&&fm(t)}),LD.apply(this,arguments)}function hm(n,e){return VD.apply(this,arguments)}function VD(){return VD=(0,Te.Z)(function*(n,e){const t=ze(n),r=e.query;let i=!1;const c=t.queries.get(r);if(c){const d=c.listeners.indexOf(e);d>=0&&(c.listeners.splice(d,1),i=0===c.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),VD.apply(this,arguments)}function E1(n,e){const t=ze(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const m of d.listeners)m.Pu(i)&&(r=!0);d.Au=i}}r&&fm(t)}function T1(n,e,t){const r=ze(n),i=r.queries.get(e);if(i)for(const c of i.listeners)c.onError(t);r.queries.delete(e)}function fm(n){n.Ru.forEach(e=>{e.next()})}class pm{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ih(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ih.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class cv{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class BD{constructor(e){this.It=e}Ji(e){return wc(this.It,e)}Yi(e){return e.metadata.exists?Fg(this.It,e.document,!1):Un.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return oi(e)}}class lv{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jD(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=hn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new BD(this.It);for(const i of e)if(i.metadata.queries){const c=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const m=(t.get(d)||tn()).add(c);t.set(d,m)}}return t}complete(){var e=this;return(0,Te.Z)(function*(){const t=yield function y1(n,e,t,r){return Ic.apply(this,arguments)}(e.localStore,new BD(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield wD(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function jD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class UD{constructor(e){this.key=e}}class $D{constructor(e){this.key=e}}class HD{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=tn(),this.mutatedKeys=tn(),this.Gu=pt(e),this.Qu=new _u(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new ov,i=t?t.Qu:this.Qu;let c=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,P)=>{const $=i.get(A),Z=Ce(this.query,P)?P:null,ue=!!$&&this.mutatedKeys.has($.key),Ee=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let xe=!1;$&&Z?$.data.isEqual(Z.data)?ue!==Ee&&(r.track({type:3,doc:Z}),xe=!0):this.Hu($,Z)||(r.track({type:2,doc:Z}),xe=!0,(y&&this.Gu(Z,y)>0||w&&this.Gu(Z,w)<0)&&(m=!0)):!$&&Z?(r.track({type:0,doc:Z}),xe=!0):$&&!Z&&(r.track({type:1,doc:$}),xe=!0,(y||w)&&(m=!0)),xe&&(Z?(d=d.add(Z),c=Ee?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{Qu:d,zu:r,$i:m,mutatedKeys:c}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Eu();c.sort((w,A)=>function(P,$){const Z=ue=>{switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be()}};return Z(P)-Z($)}(w.type,A.type)||this.Gu(w.doc,A.doc)),this.Ju(r);const d=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,y=m!==this.qu;return this.qu=m,0!==c.length||y?{snapshot:new Ih(this.query,e.Qu,i,c,e.mutatedKeys,0===m,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new ov,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=tn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new $D(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new UD(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=tn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ih.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class S1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class GD{constructor(e){this.key=e,this.nc=!1}}class gm{constructor(e,t,r,i,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new _l(m=>L(m),x),this.rc=new Map,this.oc=new Set,this.uc=new Bn(et.comparator),this.cc=new Map,this.ac=new vh,this.hc={},this.lc=new Map,this.fc=pd.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function yd(n,e){return WD.apply(this,arguments)}function WD(){return WD=(0,Te.Z)(function*(n,e){const t=Dm(n);let r,i;const c=t.ic.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),i=c.view.ec();else{const d=yield bo(t.localStore,g(e));t.isPrimaryClient&&im(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield vd(t,e,r,"current"===m,d.resumeToken)}return i}),WD.apply(this,arguments)}function vd(n,e,t,r,i){return uv.apply(this,arguments)}function uv(){return uv=(0,Te.Z)(function*(n,e,t,r,i){n._c=(P,$,Z)=>{return(ue=(0,Te.Z)(function*(Ee,xe,ut,ft){let wt=xe.view.Wu(ut);wt.$i&&(wt=yield Yf(Ee.localStore,xe.query,!1).then(({documents:gt})=>xe.view.Wu(gt,wt)));const dt=ft&&ft.targetChanges.get(xe.targetId),ct=xe.view.applyChanges(wt,Ee.isPrimaryClient,dt);return sp(Ee,xe.targetId,ct.Xu),ct.snapshot}),function(Ee,xe,ut,ft){return ue.apply(this,arguments)})(n,P,$,Z);var ue};const c=yield Yf(n.localStore,e,!0),d=new HD(e,c.Hi),m=d.Wu(c.documents),y=hh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=d.applyChanges(m,n.isPrimaryClient,y);sp(n,t,w.Xu);const A=new S1(e,t,d);return n.ic.set(e,A),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),uv.apply(this,arguments)}function N1(n,e){return ip.apply(this,arguments)}function ip(){return ip=(0,Te.Z)(function*(n,e){const t=ze(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(c=>!x(c,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield hu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),tp(t.remoteStore,r.targetId),Ta(t,r.targetId)}).catch(lc))):(Ta(t,r.targetId),yield hu(t.localStore,r.targetId,!0))}),ip.apply(this,arguments)}function zo(){return zo=(0,Te.Z)(function*(n,e,t){const r=hp(n);try{const i=yield function(c,d){const m=ze(c),y=or.now(),w=d.reduce(($,Z)=>$.add(Z.key),tn());let A,P;return m.persistence.runTransaction("Locally write mutations","readwrite",$=>{let Z=Gn(),ue=tn();return m.Gi.getEntries($,w).next(Ee=>{Z=Ee,Z.forEach((xe,ut)=>{ut.isValidDocument()||(ue=ue.add(xe))})}).next(()=>m.localDocuments.getOverlayedDocuments($,Z)).next(Ee=>{A=Ee;const xe=[];for(const ut of d){const ft=Lb(ut,A.get(ut.key).overlayedDocument);null!=ft&&xe.push(new ml(ut.key,ft,th(ft.value.mapValue),ur.exists(!0)))}return m.mutationQueue.addMutationBatch($,y,xe,d)}).next(Ee=>{P=Ee;const xe=Ee.applyToLocalDocumentSet(A,ue);return m.documentOverlayCache.saveOverlays($,Ee.batchId,xe)})}).then(()=>({batchId:P.batchId,changes:$b(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,d,m){let y=c.hc[c.currentUser.toKey()];y||(y=new Bn(Ut)),y=y.insert(d,m),c.hc[c.currentUser.toKey()]=y}(r,i.batchId,t),yield Sa(r,i.changes),yield Dh(r.remoteStore)}catch(i){const c=wh(i,"Failed to persist write");t.reject(c)}}),zo.apply(this,arguments)}function Eh(n,e){return Mi.apply(this,arguments)}function Mi(){return Mi=(0,Te.Z)(function*(n,e){const t=ze(n);try{const r=yield bS(t.localStore,e);e.targetChanges.forEach((i,c)=>{const d=t.cc.get(c);d&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?Ue(d.nc):i.removedDocuments.size>0&&(Ue(d.nc),d.nc=!1))}),yield Sa(t,r,e)}catch(r){yield lc(r)}}),Mi.apply(this,arguments)}function yu(n,e,t){const r=ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((c,d)=>{const m=d.view.bu(e);m.snapshot&&i.push(m.snapshot)}),function(c,d){const m=ze(c);m.onlineState=d;let y=!1;m.queries.forEach((w,A)=>{for(const P of A.listeners)P.bu(d)&&(y=!0)}),y&&fm(m)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mm(n,e,t){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,Te.Z)(function*(n,e,t){const r=ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),c=i&&i.key;if(c){let d=new Bn(et.comparator);d=d.insert(c,Un.newNoDocument(c,kt.min()));const m=tn().add(c),y=new dh(kt.min(),new Map,new kn(Ut),d,m);yield Eh(r,y),r.uc=r.uc.remove(c),r.cc.delete(e),op(r)}else yield hu(r.localStore,e,!1).then(()=>Ta(r,e,t)).catch(lc)}),Qs.apply(this,arguments)}function dv(n,e){return vu.apply(this,arguments)}function vu(){return vu=(0,Te.Z)(function*(n,e){const t=ze(n),r=e.batch.batchId;try{const i=yield vS(t.localStore,e);Iu(t,r,null),wu(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Sa(t,i)}catch(i){yield lc(i)}}),vu.apply(this,arguments)}function Th(n,e,t){return bu.apply(this,arguments)}function bu(){return bu=(0,Te.Z)(function*(n,e,t){const r=ze(n);try{const i=yield function(c,d){const m=ze(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return m.mutationQueue.lookupMutationBatch(y,d).next(A=>(Ue(null!==A),w=A.keys(),m.mutationQueue.removeMutationBatch(y,A))).next(()=>m.mutationQueue.performConsistencyCheck(y)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>m.localDocuments.getDocuments(y,w))})}(r.localStore,e);Iu(r,e,t),wu(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Sa(r,i)}catch(i){yield lc(i)}}),bu.apply(this,arguments)}function Du(){return Du=(0,Te.Z)(function*(n,e){const t=ze(n);wl(t.remoteStore)||Y("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const d=ze(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=wh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Du.apply(this,arguments)}function wu(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Iu(n,e,t){const r=ze(n);let i=r.hc[r.currentUser.toKey()];if(i){const c=i.get(e);c&&(t?c.reject(t):c.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Ta(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||bd(n,r)})}function bd(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(tp(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),op(n))}function sp(n,e,t){for(const r of t)r instanceof UD?(n.ac.addReference(r.key,e),hv(n,r)):r instanceof $D?(Y("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||bd(n,r.key)):Be()}function hv(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Y("SyncEngine","New document in limbo: "+t),n.oc.add(r),op(n))}function op(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new et(hn.fromString(e)),r=n.fc.next();n.cc.set(r,new GD(t)),n.uc=n.uc.insert(t,r),im(n.remoteStore,new cu(g(id(t.path)),r,2,Ns.at))}}function Sa(n,e,t){return ap.apply(this,arguments)}function ap(){return ap=(0,Te.Z)(function*(n,e,t){const r=ze(n),i=[],c=[],d=[];var m;r.ic.isEmpty()||(r.ic.forEach((m,y)=>{d.push(r._c(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const A=Qf.Ci(y.targetId,w);c.push(A)}}))}),yield Promise.all(d),r.sc.Wo(i),yield(m=(0,Te.Z)(function*(y,w){const A=ze(y);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>_e.forEach(w,$=>_e.forEach($.Si,Z=>A.persistence.referenceDelegate.addReference(P,$.targetId,Z)).next(()=>_e.forEach($.Di,Z=>A.persistence.referenceDelegate.removeReference(P,$.targetId,Z)))))}catch(P){if(!uc(P))throw P;Y("LocalStore","Failed to update sequence numbers: "+P)}for(const P of w){const $=P.targetId;if(!P.fromCache){const Z=A.Ui.get($),Ee=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);A.Ui=A.Ui.insert($,Ee)}}}),function(y,w){return m.apply(this,arguments)})(r.localStore,c))}),ap.apply(this,arguments)}function fv(n,e){return cp.apply(this,arguments)}function cp(){return cp=(0,Te.Z)(function*(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=yield g1(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(m=>{m.reject(new Le(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Sa(t,r.ji)}var i}),cp.apply(this,arguments)}function pv(n,e){const t=ze(n),r=t.cc.get(e);if(r&&r.nc)return tn().add(r.key);{let i=tn();const c=t.rc.get(e);if(!c)return i;for(const d of c){const m=t.ic.get(d);i=i.unionWith(m.view.ju)}return i}}function gv(n,e){return _m.apply(this,arguments)}function _m(){return _m=(0,Te.Z)(function*(n,e){const t=ze(n),r=yield Yf(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&sp(t,e.targetId,i.Xu),i}),_m.apply(this,arguments)}function A1(n,e){return ym.apply(this,arguments)}function ym(){return ym=(0,Te.Z)(function*(n,e){const t=ze(n);return jy(t.localStore,e).then(r=>Sa(t,r))}),ym.apply(this,arguments)}function qD(n,e,t,r){return vm.apply(this,arguments)}function vm(){return vm=(0,Te.Z)(function*(n,e,t,r){const i=ze(n),c=yield function(d,m){const y=ze(d),w=ze(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",A=>w.Tn(A,m).next(P=>P?y.localDocuments.getDocuments(A,P):_e.resolve(null)))}(i.localStore,e);var m;null!==c?("pending"===t?yield Dh(i.remoteStore):"acknowledged"===t||"rejected"===t?(Iu(i,e,r||null),wu(i,e),m=e,ze(ze(i.localStore).mutationQueue).An(m)):Be(),yield Sa(i,c)):Y("SyncEngine","Cannot apply mutation batch with id: "+e)}),vm.apply(this,arguments)}function lp(){return lp=(0,Te.Z)(function*(n,e){const t=ze(n);if(Dm(t),hp(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield KD(t,r.toArray());t.dc=!0,yield rp(t.remoteStore,!0);for(const c of i)im(t.remoteStore,c)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((c,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Ta(t,d),hu(t.localStore,d,!0))),tp(t.remoteStore,d)}),yield i,yield KD(t,r),function(c){const d=ze(c);d.cc.forEach((m,y)=>{tp(d.remoteStore,y)}),d.ac.fs(),d.cc=new Map,d.uc=new Bn(et.comparator)}(t),t.dc=!1,yield rp(t.remoteStore,!1)}}),lp.apply(this,arguments)}function KD(n,e,t){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,Te.Z)(function*(n,e,t){const r=ze(n),i=[],c=[];for(const d of e){let m;const y=r.rc.get(d);if(y&&0!==y.length){m=yield bo(r.localStore,g(y[0]));for(const w of y){const A=r.ic.get(w),P=yield gv(r,A);P.snapshot&&c.push(P.snapshot)}}else{const w=yield Qg(r.localStore,d);m=yield bo(r.localStore,w),yield vd(r,up(w),d,!1,m.resumeToken)}i.push(m)}return r.sc.Wo(c),i}),Nh.apply(this,arguments)}function up(n){return rd(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _v(n){const e=ze(n);return ze(ze(e.localStore).persistence).vi()}function M1(n,e,t,r){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,Te.Z)(function*(n,e,t,r){const i=ze(n);if(i.dc)return void Y("SyncEngine","Ignoring unexpected query state notification.");const c=i.rc.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const d=yield jy(i.localStore,Qe(c[0])),m=dh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,cr.EMPTY_BYTE_STRING);yield Sa(i,d,m);break}case"rejected":yield hu(i.localStore,e,!0),Ta(i,e,r);break;default:Be()}}),Ah.apply(this,arguments)}function bm(n,e,t){return dp.apply(this,arguments)}function dp(){return dp=(0,Te.Z)(function*(n,e,t){const r=Dm(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Y("SyncEngine","Adding an already active target "+i);continue}const c=yield Qg(r.localStore,i),d=yield bo(r.localStore,c);yield vd(r,up(c),d.targetId,!1,d.resumeToken),im(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield hu(r.localStore,i,!1).then(()=>{tp(r.remoteStore,i),Ta(r,i)}).catch(lc))}}),dp.apply(this,arguments)}function Dm(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Eh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mm.bind(null,e),e.sc.Wo=E1.bind(null,e.eventManager),e.sc.wc=T1.bind(null,e.eventManager),e}function hp(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Th.bind(null,e),e}class yv{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Te.Z)(function*(){t.It=tm(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return p1(this.persistence,new f1,e.initialUser,this.It)}yc(e){return new yD(Zg.Bs,this.It)}gc(e){return new ep}terminate(){var e=this;return(0,Te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wm extends yv{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield hp(r.Ac.syncEngine),yield Dh(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return p1(this.persistence,new f1,e.initialUser,this.It)}Tc(e,t){return new c1(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new ey(t,this.persistence);return new Cg(e.asyncQueue,r)}yc(e){const t=Vy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Zs.withCacheSize(this.cacheSizeBytes):Zs.DEFAULT;return new bD(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Xg(),em(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new ep}}class vv extends wm{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof Xf&&(r.sharedClientState.syncEngine={Fr:qD.bind(null,i),$r:M1.bind(null,i),Br:bm.bind(null,i),vi:_v.bind(null,i),Mr:A1.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var c=(0,Te.Z)(function*(d){yield function mv(n,e){return lp.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return c.apply(this,arguments)}}())})()}gc(e){const t=Xg();if(!Xf.C(t))throw new Le(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Vy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xf(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class bv{initialize(e,t){var r=this;return(0,Te.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>yu(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=fv.bind(null,r.syncEngine),yield rp(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ch}createDatastore(e){const t=tm(e.databaseInfo.databaseId),r=new ED(e.databaseInfo);return new SD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,c=m=>yu(this.syncEngine,m,0),d=Gy.C()?new Gy:new CD,new D1(t,r,i,c,d);var t,r,i,c,d}createSyncEngine(e,t){return function(r,i,c,d,m,y,w){const A=new gm(r,i,c,d,m,y);return w&&(A.dc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Te.Z)(function*(t){const r=ze(t);Y("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield gu(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Im(n,e,t){if(!t)throw new Le(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Dv(n,e,t,r){if(!0===e&&!0===r)throw new Le(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wv(n){if(!et.isDocumentKey(n))throw new Le(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Iv(n){if(et.isDocumentKey(n))throw new Le(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Be()}function gn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cm(n);throw new Le(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Cv(n,e){if(e<=0)throw new Le(be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const Em=new Map;class fp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Dv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Bo;switch(t.type){case"gapi":return new Ku(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Le(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Em.get(e);t&&(Y("ComponentProvider","Removing Datastore"),Em.delete(e),t.terminate())}(this),Promise.resolve()}}class Yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class xi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xi(this.firestore,e,this._query)}}class qo extends xi{constructor(e,t,r){super(e,t,id(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new et(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function Sm(n,e,...t){if(n=(0,Ht.m9)(n),Im("collection","path",e),n instanceof Dd){const r=hn.fromString(e,...t);return Iv(r),new qo(n,null,r)}{if(!(n instanceof Yn||n instanceof qo))throw new Le(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return Iv(r),new qo(n.firestore,null,r)}}function Mh(n,e,...t){if(n=(0,Ht.m9)(n),1===arguments.length&&(e=Zu.R()),Im("doc","path",e),n instanceof Dd){const r=hn.fromString(e,...t);return wv(r),new Yn(n,null,new et(r))}{if(!(n instanceof Yn||n instanceof qo))throw new Le(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return wv(r),new Yn(n.firestore,n instanceof qo?n.converter:null,new et(r))}}function x1(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),(n instanceof Yn||n instanceof qo)&&(e instanceof Yn||e instanceof qo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Tv(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),n instanceof xi&&e instanceof xi&&n.firestore===e.firestore&&x(n._query,e._query)&&n.converter===e.converter}function QD(n,e=10240){let t=0;return{read:()=>(0,Te.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class pp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):$e("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class O1{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Vn,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Te.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Te.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const c=yield e.Cc(i);return new cv(JSON.parse(c),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Te.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class P1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Te.Z)(function*(c,d){const m=ze(c),y=ph(m.It)+"/documents",w={documents:d.map(Z=>Lf(m.It,Z))},A=yield m._o("BatchGetDocuments",y,w,d.length),P=new Map;A.forEach(Z=>{const ue=function zb(n,e){return"found"in e?function(t,r){Ue(!!r.found);const i=wc(t,r.found.name),c=oi(r.found.updateTime),d=new Ai({mapValue:{fields:r.found.fields}});return Un.newFoundDocument(i,c,d)}(n,e):"missing"in e?function(t,r){Ue(!!r.missing),Ue(!!r.readTime);const i=wc(t,r.missing),c=oi(r.readTime);return Un.newNoDocument(i,c)}(n,e):Be()}(m.It,Z);P.set(ue.key.toString(),ue)});const $=[];return d.forEach(Z=>{const ue=P.get(Z.toString());Ue(!!ue),$.push(ue)}),$}),function(c,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ch(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const c=et.fromPath(i);e.mutations.push(new sy(c,e.precondition(c)))}),yield(r=(0,Te.Z)(function*(i,c){const d=ze(i),m=ph(d.It)+"/documents",y={writes:c.map(w=>ud(d.It,w))};yield d.ao("Commit",m,y)}),function(i,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Be();t=kt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Le(be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(kt.min())?ur.exists(!1):ur.updateTime(t):ur.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kt.min()))throw new Le(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ur.updateTime(t)}return ur.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class JD{constructor(e,t,r,i,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=c,this.kc=r.maxAttempts,this.xo=new qy(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Te.Z)(function*(){const t=new P1(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(c=>{e.Fc(c)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!hc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ui(t)}return!1}}class k1{constructor(e,t,r,i){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=N.UNAUTHENTICATED,this.clientId=Zu.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Te.Z)(function*(m){Y("FirestoreClient","Received user=",m.uid),yield c.authCredentialListener(m),c.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Y("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=wh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Sv(n,e){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Te.Z)(function*(c){r.isEqual(c)||(yield g1(e.localStore,c),r=c)});return function(c){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Nm.apply(this,arguments)}function wd(n,e){return Nv.apply(this,arguments)}function Nv(){return Nv=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Av(n);Y("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>sv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,c)=>sv(e.remoteStore,c)),n.onlineComponents=e}),Nv.apply(this,arguments)}function Av(n){return Am.apply(this,arguments)}function Am(){return Am=(0,Te.Z)(function*(n){return n.offlineComponents||(Y("FirestoreClient","Using default OfflineComponentProvider"),yield Sv(n,new yv)),n.offlineComponents}),Am.apply(this,arguments)}function Mm(n){return xm.apply(this,arguments)}function xm(){return xm=(0,Te.Z)(function*(n){return n.onlineComponents||(Y("FirestoreClient","Using default OnlineComponentProvider"),yield wd(n,new bv)),n.onlineComponents}),xm.apply(this,arguments)}function F1(n){return Av(n).then(e=>e.persistence)}function xh(n){return Av(n).then(e=>e.localStore)}function gp(n){return Mm(n).then(e=>e.remoteStore)}function Do(n){return Mm(n).then(e=>e.syncEngine)}function Id(n){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,Te.Z)(function*(n){const e=yield Mm(n),t=e.eventManager;return t.onListen=yd.bind(null,e.syncEngine),t.onUnlisten=N1.bind(null,e.syncEngine),t}),Ko.apply(this,arguments)}function Mv(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,c,d,m,y){const w=new pp({next:P=>{c.enqueueAndForget(()=>hm(i,A));const $=P.docs.has(d);!$&&P.fromCache?y.reject(new Le(be.UNAVAILABLE,"Failed to get document because the client is offline.")):$&&P.fromCache&&m&&"server"===m.source?y.reject(new Le(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(P)},error:P=>y.reject(P)}),A=new pm(id(d.path),w,{includeMetadataChanges:!0,Nu:!0});return av(i,A)}(yield Id(n),n.asyncQueue,e,t,r)})),r.promise}function tw(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,c,d,m,y){const w=new pp({next:P=>{c.enqueueAndForget(()=>hm(i,A)),P.fromCache&&"server"===m.source?y.reject(new Le(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(P)},error:P=>y.reject(P)}),A=new pm(d,w,{includeMetadataChanges:!0,Nu:!0});return av(i,A)}(yield Id(n),n.asyncQueue,e,t,r)})),r.promise}class mp{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new qy(this,"async_queue_retry"),this.Wc=()=>{const t=em();t&&Y("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=em();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=em();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Vn;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Te.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!uc(t))throw t;Y("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,$e("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=mu.createAndSchedule(this,e,t,r,c=>this.Yc(c));return this.qc.push(i),i}zc(){this.Kc&&Be()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Te.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Ov(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class nw{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tr extends Dd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new mp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Pv(this),this._firestoreClient.terminate()}}function Ur(n){return n._firestoreClient||Pv(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Pv(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Eg(n._databaseId,c,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var c,m;n._firestoreClient=new k1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function _p(n,e,t){const r=new Vn;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield Sv(n,t),yield wd(n,e),r.resolve()}catch(i){const c=i;if(!("FirebaseError"===(d=c).name?d.code===be.FAILED_PRECONDITION||d.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw c;vt("Error enabling offline persistence. Falling back to persistence disabled: "+c),r.reject(c)}var d})).then(()=>r.promise)}function Om(n){if(n._initialized||n._terminated)throw new Le(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ma(cr.fromBase64String(e))}catch(t){throw new Le(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ma(cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cu{constructor(e){this._methodName=e}}class yp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}const sw=/^__.*__$/;class ow{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ml(e,this.data,this.fieldMask,t,this.fieldTransforms):new ah(e,this.data,t,this.fieldTransforms)}}class $v{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ml(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Hv(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be()}}class vp{constructor(e,t,r,i,c,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===c&&this.na(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new vp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Ec(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Hv(this.sa)&&sw.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class aw{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||tm(e)}da(e,t,r,i=!1){return new vp({sa:e,methodName:t,fa:r,path:ar.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Eu(n){const e=n._freezeSettings(),t=tm(n._databaseId);return new aw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bp(n,e,t,r,i,c={}){const d=n.da(c.merge||c.mergeFields?2:0,e,t,i);Ip("Data must be an object, but it was:",d,r);const m=km(r,d);let y,w;if(c.merge)y=new qs(d.fieldMask),w=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const P of c.mergeFields){const $=Cp(e,P,t);if(!d.contains($))throw new Le(be.INVALID_ARGUMENT,`Field '${$}' is specified in your field mask but missing from your input data.`);uw(A,$)||A.push($)}y=new qs(A),w=d.fieldTransforms.filter(P=>y.covers(P.field))}else y=null,w=d.fieldTransforms;return new ow(new Ai(m),y,w)}class Oh extends Cu{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}function Gv(n,e,t){return new vp({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Rm extends Cu{_toFieldTransform(e){return new iu(e.path,new pl)}isEqual(e){return e instanceof Rm}}class cw extends Cu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Gv(this,e,!0),r=this._a.map(c=>Cl(c,t)),i=new _c(r);return new iu(e.path,i)}isEqual(e){return this===e}}class lw extends Cu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Gv(this,e,!0),r=this._a.map(c=>Cl(c,t)),i=new gl(r);return new iu(e.path,i)}isEqual(e){return this===e}}class Wv extends Cu{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new yc(e.It,is(e.It,this.wa));return new iu(e.path,t)}isEqual(e){return this===e}}function Dp(n,e,t,r){const i=n.da(1,e,t);Ip("Data must be an object, but it was:",i,r);const c=[],d=Ai.empty();jo(r,(y,w)=>{const A=Rh(e,y,t);w=(0,Ht.m9)(w);const P=i.ca(A);if(w instanceof Oh)c.push(A);else{const $=Cl(w,P);null!=$&&(c.push(A),d.set(A,$))}});const m=new qs(c);return new $v(d,m,i.fieldTransforms)}function wp(n,e,t,r,i,c){const d=n.da(1,e,t),m=[Cp(e,r,t)],y=[i];if(c.length%2!=0)throw new Le(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $=0;$<c.length;$+=2)m.push(Cp(e,c[$])),y.push(c[$+1]);const w=[],A=Ai.empty();for(let $=m.length-1;$>=0;--$)if(!uw(w,m[$])){const Z=m[$];let ue=y[$];ue=(0,Ht.m9)(ue);const Ee=d.ca(Z);if(ue instanceof Oh)w.push(Z);else{const xe=Cl(ue,Ee);null!=xe&&(w.push(Z),A.set(Z,xe))}}const P=new qs(w);return new $v(A,P,d.fieldTransforms)}function Pm(n,e,t,r=!1){return Cl(t,n.da(r?4:3,e))}function Cl(n,e){if(Fm(n=(0,Ht.m9)(n)))return Ip("Unsupported field value:",e,n),km(n,e);if(n instanceof Cu)return function(t,r){if(!Hv(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let c=0;for(const d of t){let m=Cl(d,r.aa(c));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),c++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ht.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return is(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=or.fromDate(t);return{timestampValue:cd(r.It,i)}}if(t instanceof or){const i=new or(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:cd(r.It,i)}}if(t instanceof yp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ma)return{bytesValue:Pg(r.It,t._byteString)};if(t instanceof Yn){const i=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(i))throw r.ha(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cy(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Cm(t)}`)}(n,e)}function km(n,e){const t={};return Uo(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(n,(r,i)=>{const c=Cl(i,e.ra(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function Fm(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof or||n instanceof yp||n instanceof Ma||n instanceof Yn||n instanceof Cu)}function Ip(n,e,t){if(!Fm(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Cm(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function Cp(n,e,t){if((e=(0,Ht.m9)(e))instanceof Cc)return e._internalPath;if("string"==typeof e)return Rh(n,e);throw Ec("Field path arguments must be of type string or ",n,!1,void 0,t)}const zv=new RegExp("[~\\*/\\[\\]]");function Rh(n,e,t){if(e.search(zv)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cc(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ec(n,e,t,r,i){const c=r&&!r.isEmpty(),d=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new Le(be.INVALID_ARGUMENT,m+n+y)}function uw(n,e){return n.some(t=>t.isEqual(e))}class Ep{constructor(e,t,r,i,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ph(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ph extends Ep{data(){return super.data()}}function Lm(n,e){return"string"==typeof e?Rh(n,e):e instanceof Cc?e._internalPath:e._delegate._internalPath}function Vm(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tp{}function El(n,...e){for(const t of e)n=t._apply(n);return n}class dw extends Tp{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Eu(e.firestore),r=function(i,c,d,m,y,w,A){let P;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){qv(A,w);const Z=[];for(const ue of A)Z.push(gw(m,i,ue));P={arrayValue:{values:Z}}}else P=gw(m,i,A)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||qv(A,w),P=Pm(d,"where",A,"in"===w||"not-in"===w);const $=An.create(y,w,P);return function(Z,ue){if(ue.dt()){const xe=Of(Z);if(null!==xe&&!xe.isEqual(ue.field))throw new Le(be.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${xe.toString()}' and '${ue.field.toString()}'`);const ut=hl(Z);null!==ut&&Kv(0,ue.field,ut)}const Ee=function(xe,ut){for(const ft of xe.filters)if(ut.indexOf(ft.op)>=0)return ft.op;return null}(Z,function(xe){switch(xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ue.op));if(null!==Ee)throw new Le(be.INVALID_ARGUMENT,Ee===ue.op?`Invalid query. You cannot use more than one '${ue.op.toString()}' filter.`:`Invalid query. You cannot use '${ue.op.toString()}' filters with '${Ee.toString()}' filters.`)}(i,$),$}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new xi(e.firestore,e.converter,function(i,c){const d=i.filters.concat([c]);return new wa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class Ft extends Tp{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,c){if(null!==r.startAt)throw new Le(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Le(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new rs(i,c);return function(m,y){if(null===hl(m)){const w=Of(m);null!==w&&Kv(0,w,y.field)}}(r,d),d}(e._query,this.ma,this.pa);return new xi(e.firestore,e.converter,function(r,i){const c=r.explicitOrderBy.concat([i]);return new wa(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class hw extends Tp{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new xi(e.firestore,e.converter,b(e._query,this.Ia,this.Ta))}}class fw extends Tp{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=Um(e,this.type,this.Ea,this.Aa);return new xi(e.firestore,e.converter,(i=t,new wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class yr extends Tp{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=Um(e,this.type,this.Ea,this.Aa);return new xi(e.firestore,e.converter,(i=t,new wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Um(n,e,t,r){if(t[0]=(0,Ht.m9)(t[0]),t[0]instanceof Ep)return function(i,c,d,m,y){if(!m)throw new Le(be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const A of f(i))if(A.field.isKeyField())w.push(gc(c,m.key));else{const P=m.data.field(A.field);if(Df(P))throw new Le(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const $=A.field.canonicalString();throw new Le(be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$}' (used as the orderBy) does not exist.`)}w.push(P)}return new mc(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Eu(n.firestore);return function(c,d,m,y,w,A){const P=c.explicitOrderBy;if(w.length>P.length)throw new Le(be.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $=[];for(let Z=0;Z<w.length;Z++){const ue=w[Z];if(P[Z].field.isKeyField()){if("string"!=typeof ue)throw new Le(be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ue}`);if(!_(c)&&-1!==ue.indexOf("/"))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ue}' contains a slash.`);const Ee=c.path.child(hn.fromString(ue));if(!et.isDocumentKey(Ee))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Ee}' is not because it contains an odd number of segments.`);const xe=new et(Ee);$.push(gc(d,xe))}else{const Ee=Pm(m,y,ue);$.push(Ee)}}return new mc($,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function gw(n,e,t){if("string"==typeof(t=(0,Ht.m9)(t))){if(""===t)throw new Le(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_(e)&&-1!==t.indexOf("/"))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(hn.fromString(t));if(!et.isDocumentKey(r))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gc(n,new et(r))}if(t instanceof Yn)return gc(n,t._key);throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(t)}.`)}function qv(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Kv(n,e,t){if(!t.isEqual(e))throw new Le(be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class $m{convertValue(e,t="none"){switch(pc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Be()}}convertObject(e,t){const r={};return jo(e.fields,(i,c)=>{r[i]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new yp(lr(e.latitude),lr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=wf(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const t=il(e);return new or(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=hn.fromString(e);Ue(au(r));const i=new yo(r.get(1),r.get(3)),c=new et(r.popFirst(5));return i.isEqual(t)||$e(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Sp(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class z1 extends $m{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ma(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}class Ed{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tl extends Ep{constructor(e,t,r,i,c,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Lm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Sl extends Tl{data(e={}){return super.data(e)}}class Tu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ed(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Sl(this._firestore,this._userDataWriter,r.key,r,new Ed(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Sl(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ed(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const m=new Sl(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ed(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),1!==d.type&&(c=c.add(d.doc),w=c.indexOf(d.doc.key)),{type:q1(d.type),doc:m,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function q1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be()}}function mw(n,e){return n instanceof Tl&&e instanceof Tl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Tu&&e instanceof Tu&&n._firestore===e._firestore&&Tv(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Nl extends $m{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ma(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function vw(n,e,t){n=gn(n,Yn);const r=gn(n.firestore,tr),i=Sp(n.converter,e,t);return kh(r,[bp(Eu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ur.none())])}function bw(n,e,t,...r){n=gn(n,Yn);const i=gn(n.firestore,tr),c=Eu(i);let d;return d="string"==typeof(e=(0,Ht.m9)(e))||e instanceof Cc?wp(c,"updateDoc",n._key,e,t,r):Dp(c,"updateDoc",n._key,e),kh(i,[d.toMutation(n._key,ur.exists(!0))])}function Zv(n,...e){var t,r,i;n=(0,Ht.m9)(n);let c={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||Ov(e[d])||(c=e[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges};if(Ov(e[d])){const P=e[d];e[d]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[d+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[d+2]=null===(i=P.complete)||void 0===i?void 0:i.bind(P)}let y,w,A;if(n instanceof Yn)w=gn(n.firestore,tr),A=id(n._key.path),y={next:P=>{e[d]&&e[d](Gm(w,n,P))},error:e[d+1],complete:e[d+2]};else{const P=gn(n,xi);w=gn(P.firestore,tr),A=P._query;const $=new Nl(w);y={next:Z=>{e[d]&&e[d](new Tu(w,$,P,Z))},error:e[d+1],complete:e[d+2]},Vm(n._query)}return function(P,$,Z,ue){const Ee=new pp(ue),xe=new pm($,Ee,Z);return P.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return av(yield Id(P),xe)})),()=>{Ee.bc(),P.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return hm(yield Id(P),xe)}))}}(Ur(w),A,m,y)}function kh(n,e){return function(t,r){const i=new Vn;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function zD(n,e,t){return zo.apply(this,arguments)}(yield Do(t),r,i)})),i.promise}(Ur(n),e)}function Gm(n,e,t){const r=t.docs.get(e._key),i=new Nl(n);return new Tl(n,i,e._key,r,new Ed(t.hasPendingWrites,t.fromCache),e.converter)}const ES={maxAttempts:5};class Q1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Eu(e)}set(e,t,r){this._verifyNotCommitted();const i=Td(e,this._firestore),c=Sp(i.converter,t,r),d=bp(this._dataReader,"WriteBatch.set",i._key,c,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,ur.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const c=Td(e,this._firestore);let d;return d="string"==typeof(t=(0,Ht.m9)(t))||t instanceof Cc?wp(this._dataReader,"WriteBatch.update",c._key,t,r,i):Dp(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Td(e,this._firestore);return this._mutations=this._mutations.concat(new ch(t._key,ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Td(n,e){if((n=(0,Ht.m9)(n)).firestore!==e)throw new Le(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class TS extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Eu(e)}get(e){const t=Td(e,this._firestore),r=new z1(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Be();const c=i[0];if(c.isFoundDocument())return new Ep(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new Ep(this._firestore,r,t._key,null,t.converter);throw Be()})}set(e,t,r){const i=Td(e,this._firestore),c=Sp(i.converter,t,r),d=bp(this._dataReader,"Transaction.set",i._key,c,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const c=Td(e,this._firestore);let d;return d="string"==typeof(t=(0,Ht.m9)(t))||t instanceof Cc?wp(this._dataReader,"Transaction.update",c._key,t,r,i):Dp(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,d),this}delete(e){const t=Td(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Td(e,this._firestore),r=new Nl(this._firestore);return super.get(e).then(i=>new Tl(this._firestore,r,t._key,i._document,new Ed(!1,!1),t.converter))}}function zm(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Tw(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function Sw(){if(!function bf(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){R=fi.SDK_VERSION,(0,fi._registerComponent)(new Pi.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const c=t.getProvider("app").getImmediate(),d=new tr(new ac(t.getProvider("auth-internal")),new Q_(t.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Le(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(m.options.projectId,y)}(c,r),c);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,fi.registerVersion)(S,"3.7.2",n),(0,fi.registerVersion)(S,"3.7.2","esm2017")}();class Al{constructor(e){this._delegate=e}static fromBase64String(e){return Sw(),new Al(Ma.fromBase64String(e))}static fromUint8Array(e){return Tw(),new Al(Ma.fromUint8Array(e))}toBase64(){return Sw(),this._delegate.toBase64()}toUint8Array(){return Tw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Qv(n){return function Nw(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class tE{enableIndexedDbPersistence(e,t){return function rw(n,e){Om(n=gn(n,tr));const t=Ur(n),r=n._freezeSettings(),i=new bv;return _p(t,i,new wm(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function kv(n){Om(n=gn(n,tr));const e=Ur(n),t=n._freezeSettings(),r=new bv;return _p(e,r,new vv(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Fv(n){if(n._initialized&&!n._terminated)throw new Le(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(t=(0,Te.Z)(function*(r){if(!Ni.C())return Promise.resolve();const i=r+"main";yield Ni.delete(i)}),function(r){return t.apply(this,arguments)})(Vy(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Yv{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof yo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&vt("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Tm(n,e,t,r={}){var i;const c=(n=gn(n,Dd))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&vt("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=N.MOCK_USER;else{d=(0,Ht.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Le(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new N(y)}n._authCredentials=new _a(new ma(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function Vv(n){return function Na(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield F1(n),t=yield gp(n);return e.setNetworkEnabled(!0),function(r){const i=ze(r);return i._u.delete(0),nm(i)}(t)}))}(Ur(n=gn(n,tr)))}(this._delegate)}disableNetwork(){return function Bv(n){return function Aa(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield F1(n),t=yield gp(n);return e.setNetworkEnabled(!1),(r=(0,Te.Z)(function*(i){const c=ze(i);c._u.add(0),yield gu(c),c.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ur(n=gn(n,tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Dv("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Lv(n){return function(e){const t=new Vn;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function Sh(n,e){return Du.apply(this,arguments)}(yield Do(e),t)})),t.promise}(Ur(n=gn(n,tr)))}(this._delegate)}onSnapshotsInSync(e){return function ww(n,e){return function V1(n,e){const t=new pp(e);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield Id(n),i=t,ze(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield Id(n),i=t,void ze(r).Ru.delete(i);var r,i}))}}(Ur(n=gn(n,tr)),Ov(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fh(this,Sm(this._delegate,e))}catch(t){throw os(t,"collection()","Firestore.collection()")}}doc(e){try{return new wo(this,Mh(this._delegate,e))}catch(t){throw os(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function Ev(n,e){if(n=gn(n,Dd),Im("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(be.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xi(n,null,(t=e,new wa(hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw os(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Iw(n,e,t){n=gn(n,tr);const r=Object.assign(Object.assign({},ES),t);return function(i){if(i.maxAttempts<1)throw new Le(be.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,c,d){const m=new Vn;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const y=yield function XD(n){return Mm(n).then(e=>e.datastore)}(i);new JD(i.asyncQueue,y,d,c,m).run()})),m.promise}(Ur(n),i=>e(new TS(n,i)),r)}(this._delegate,t=>e(new Mw(this,t)))}batch(){return Ur(this._delegate),new Km(new Q1(this._delegate,e=>kh(this._delegate,e)))}loadBundle(e){return function jv(n,e){const t=Ur(n=gn(n,tr)),r=new nw;return function B1(n,e,t,r){const i=function(c,d){let m;return m="string"==typeof c?(new TextEncoder).encode(c):c,y=function(y,w){if(y instanceof Uint8Array)return QD(y,w);if(y instanceof ArrayBuffer)return QD(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new O1(y,d);var y}(t,tm(e));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function ZD(n,e,t){const r=ze(n);var i;(i=(0,Te.Z)(function*(c,d,m){try{const y=yield d.getMetadata();if(yield function($,Z){const ue=ze($),Ee=oi(Z.createTime);return ue.persistence.runTransaction("hasNewerBundle","readonly",xe=>ue.Ns.getBundleMetadata(xe,Z.id)).then(xe=>!!xe&&xe.createTime.compareTo(Ee)>=0)}(c.localStore,y))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:($=y).totalDocuments,bytesLoaded:$.totalBytes,totalDocuments:$.totalDocuments,totalBytes:$.totalBytes}),Promise.resolve(new Set);m._updateProgress(jD(y));const w=new lv(y,c.localStore,d.It);let A=yield d.mc();for(;A;){const $=yield w.Fu(A);$&&m._updateProgress($),A=yield d.mc()}const P=yield w.complete();return yield Sa(c,P.Lu,void 0),yield function($,Z){const ue=ze($);return ue.persistence.runTransaction("Save bundle","readwrite",Ee=>ue.Ns.saveBundleMetadata(Ee,Z))}(c.localStore,y),m._completeWith(P.progress),Promise.resolve(P.Bu)}catch(y){return vt("SyncEngine",`Loading bundle failed with ${y}`),m._failWith(y),Promise.resolve(new Set)}var $}),function(c,d,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Do(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Uv(n,e){return function xv(n,e){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(t,r){const i=ze(t);return i.persistence.runTransaction("Get named query","readonly",c=>i.Ns.getNamedQuery(c,r))}(yield xh(n),e)}))}(Ur(n=gn(n,tr)),e).then(t=>t?new xi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xs(this,t):null)}}class qm extends $m{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(new Ma(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wo.forKey(t,this.firestore,null)}}class Mw{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}get(e){const t=Ad(e);return this._delegate.get(t).then(r=>new xp(this._firestore,new Tl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Ad(e);return r?(zm("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=Ad(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=Ad(e);return this._delegate.delete(t),this}}class Km{constructor(e){this._delegate=e}set(e,t,r){const i=Ad(e);return r?(zm("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=Ad(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=Ad(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Sd{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Sl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nd(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Sd.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let c=i.get(t);return c||(c=new Sd(e,new qm(e),t),i.set(t,c)),c}}Sd.INSTANCES=new WeakMap;class wo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wo(t,new Yn(t._delegate,r,new et(e)))}static forKey(e,t,r){return new wo(t,new Yn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Fh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fh(this.firestore,Sm(this._delegate,e))}catch(t){throw os(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ht.m9)(e))instanceof Yn&&x1(this._delegate,e)}set(e,t){t=zm("DocumentReference.set",t);try{return t?vw(this._delegate,e,t):vw(this._delegate,e)}catch(r){throw os(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?bw(this._delegate,e):bw(this._delegate,e,t,...r)}catch(i){throw os(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Z1(n){return kh(gn(n.firestore,tr),[new ch(n._key,ur.none())])}(this._delegate)}onSnapshot(...e){const t=xw(e),r=Ow(e,i=>new xp(this.firestore,new Tl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Zv(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function _w(n){n=gn(n,Yn);const e=gn(n.firestore,tr),t=Ur(e),r=new Nl(e);return function ew(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,c,d){try{const m=yield function(y,w){const A=ze(y);return A.persistence.runTransaction("read document","readonly",P=>A.localDocuments.getDocument(P,w))}(i,c);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Le(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const y=wh(m,`Failed to get document '${c} from cache`);d.reject(y)}}),function(i,c,d){return r.apply(this,arguments)})(yield xh(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Tl(e,r,n._key,i,new Ed(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function yw(n){n=gn(n,Yn);const e=gn(n.firestore,tr);return Mv(Ur(e),n._key,{source:"server"}).then(t=>Gm(e,n,t))}(this._delegate):function Hm(n){n=gn(n,Yn);const e=gn(n.firestore,tr);return Mv(Ur(e),n._key).then(t=>Gm(e,n,t))}(this._delegate),t.then(r=>new xp(this.firestore,new Tl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new wo(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}function os(n,e,t){return n.message=n.message.replace(e,t),n}function xw(n){for(const e of n)if("object"==typeof e&&!Qv(e))return e;return{}}function Ow(n,e){var t,r;let i;return i=Qv(n[0])?n[0]:Qv(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{i.next&&i.next(e(c))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class xp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return mw(this._delegate,e._delegate)}}class Nd extends xp{data(e){const t=this._delegate.data(e);return function er(n,e){n||Be()}(void 0!==t),t}}class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}where(e,t,r){try{return new xs(this.firestore,El(this._delegate,function H1(n,e,t){const r=e,i=Lm("where",n);return new dw(i,r,t)}(e,t,r)))}catch(i){throw os(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,El(this._delegate,function G1(n,e="asc"){const t=e,r=Lm("orderBy",n);return new Ft(r,t)}(e,t)))}catch(r){throw os(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,El(this._delegate,function W1(n){return Cv("limit",n),new hw("limit",n,"F")}(e)))}catch(t){throw os(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,El(this._delegate,function Cd(n){return Cv("limitToLast",n),new hw("limitToLast",n,"L")}(e)))}catch(t){throw os(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,El(this._delegate,function Bm(...n){return new fw("startAt",n,!0)}(...e)))}catch(t){throw os(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,El(this._delegate,function jm(...n){return new fw("startAfter",n,!1)}(...e)))}catch(t){throw os(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,El(this._delegate,function wS(...n){return new yr("endBefore",n,!1)}(...e)))}catch(t){throw os(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,El(this._delegate,function pw(...n){return new yr("endAt",n,!0)}(...e)))}catch(t){throw os(t,"endAt()","Query.endAt()")}}isEqual(e){return Tv(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Np(n){n=gn(n,xi);const e=gn(n.firestore,tr),t=Ur(e),r=new Nl(e);return function L1(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,c,d){try{const m=yield Yf(i,c,!0),y=new HD(c,m.Hi),w=y.Wu(m.documents),A=y.applyChanges(w,!1);d.resolve(A.snapshot)}catch(m){const y=wh(m,`Failed to execute query '${c} against cache`);d.reject(y)}}),function(i,c,d){return r.apply(this,arguments)})(yield xh(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Tu(e,r,n,i))}(this._delegate):"server"===e?.source?function Ap(n){n=gn(n,xi);const e=gn(n.firestore,tr),t=Ur(e),r=new Nl(e);return tw(t,n._query,{source:"server"}).then(i=>new Tu(e,r,n,i))}(this._delegate):function K1(n){n=gn(n,xi);const e=gn(n.firestore,tr),t=Ur(e),r=new Nl(e);return Vm(n._query),tw(t,n._query).then(i=>new Tu(e,r,n,i))}(this._delegate),t.then(r=>new Jv(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=xw(e),r=Ow(e,i=>new Jv(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Zv(this._delegate,t,r)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}class Rw{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Nd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Jv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Nd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Rw(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Nd(this._firestore,r))})}isEqual(e){return mw(this._delegate,e._delegate)}}class Fh extends xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wo(this.firestore,e):null}doc(e){try{return new wo(this.firestore,void 0===e?Mh(this._delegate):Mh(this._delegate,e))}catch(t){throw os(t,"doc()","CollectionReference.doc()")}}add(e){return function Dw(n,e){const t=gn(n.firestore,tr),r=Mh(n),i=Sp(n.converter,e);return kh(t,[bp(Eu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new wo(this.firestore,t))}isEqual(e){return x1(this._delegate,e._delegate)}withConverter(e){return new Fh(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}function Ad(n){return gn(n,Yn)}class Xv{constructor(...e){this._delegate=new Cc(...e)}static documentId(){return new Xv(ar.keyField().canonicalString())}isEqual(e){return(e=(0,Ht.m9)(e))instanceof Cc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Md{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Y1(){return new Rm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Md(e)}static delete(){const e=function Wm(){return new Oh("deleteField")}();return e._methodName="FieldValue.delete",new Md(e)}static arrayUnion(...e){const t=function J1(...n){return new cw("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Md(t)}static arrayRemove(...e){const t=function Cw(...n){return new lw("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Md(t)}static increment(e){const t=function Mp(n){return new Wv("increment",n)}(e);return t._methodName="FieldValue.increment",new Md(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const nE={Firestore:Yv,GeoPoint:yp,Timestamp:or,Blob:Al,Transaction:Mw,WriteBatch:Km,DocumentReference:wo,DocumentSnapshot:xp,Query:xs,QueryDocumentSnapshot:Nd,QuerySnapshot:Jv,CollectionReference:Fh,FieldPath:Xv,FieldValue:Md,setLogLevel:function Aw(n){!function me(n){U.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function iE(n){(function rE(n,e){n.INTERNAL.registerComponent(new Pi.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},nE)))})(n,(e,t)=>new Yv(e,t,new tE)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(kc.Z);var dr=V(7579),e0=V(6451),Op=V(5363),xa=V(8421);function Mr(n,e){return(0,Zt.e)((t,r)=>{let i=null,c=0,d=!1;const m=()=>d&&!i&&r.complete();t.subscribe((0,On.x)(r,y=>{i?.unsubscribe();let w=0;const A=c++;(0,xa.Xf)(n(y,A)).subscribe(i=(0,On.x)(r,P=>r.next(e?e(y,P,A,w++):P),()=>{i=null,m()}))},()=>{d=!0,m()}))})}var Pw=V(6063);class kw extends dr.x{constructor(e=1/0,t=1/0,r=Pw.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:c,_windowTime:d}=this;t||(r.push(e),!i&&r.push(c.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,c=i.slice();for(let d=0;d<c.length&&!e.closed;d+=r?1:2)e.next(c[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,c=(i?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!i){const d=t.now();let m=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)m=y;m&&r.splice(0,m+1)}}}var sE=V(3099);function Zm(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,sE.B)({connector:()=>new kw(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const Rp=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Oa=V(515);function $i(n){return n<=0?()=>Oa.E:(0,Zt.e)((e,t)=>{let r=0;e.subscribe((0,On.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Qm(n){return(0,Zt.e)((e,t)=>{let r=!1;e.subscribe((0,On.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ym(n=oE){return(0,Zt.e)((e,t)=>{let r=!1;e.subscribe((0,On.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function oE(){return new Rp}function Tc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jt((i,c)=>n(i,c,r)):zn.y,$i(1),t?Qm(e):Ym(()=>new Rp))}var Os=V(576);function n0(n,e){return(0,Os.m)(e)?Mr(()=>n,e):Mr(()=>n)}var Jm=V(9468);V(5867);const o0=new Map,dE={activated:!1,tokenObservers:[]},hE={initialized:!1,enabled:!1};function Hi(n){return o0.get(n)||dE}function Ra(n,e){o0.set(n,e)}function e_(){return hE}class Ww{constructor(e,t,r,i,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=i,i>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Te.Z)(function*(){t.stop();try{t.pending=new Ht.BH,yield function zw(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ht.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const as=new Ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Vh(n){if(!Hi(n).activated)throw as.create("use-before-activation",{appName:n.name})}function r_(n,e){return i_.apply(this,arguments)}function i_(){return i_=(0,Te.Z)(function*({url:n,body:e},t){var r,i;const c={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const Z=yield d.getHeartbeatsHeader();Z&&(c["X-Firebase-Client"]=Z)}const m={method:"POST",body:JSON.stringify(e),headers:c};let y,w;try{y=yield fetch(n,m)}catch(Z){throw as.create("fetch-network-error",{originalErrorMessage:null===(r=Z)||void 0===r?void 0:r.message})}if(200!==y.status)throw as.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(Z){throw as.create("fetch-parse-error",{originalErrorMessage:null===(i=Z)||void 0===i?void 0:i.message})}const A=w.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw as.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const P=1e3*Number(A[1]),$=Date.now();return{token:w.token,expireTimeMillis:$+P,issuedAtTimeMillis:$}}),i_.apply(this,arguments)}function fE(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Bh="firebase-app-check-store";let Fp=null;function l0(){return Fp||(Fp=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var c;e(as.create("storage-open",{originalErrorMessage:null===(c=i.target.error)||void 0===c?void 0:c.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Bh,{keyPath:"compositeKey"})}}catch(r){e(as.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Fp)}function jh(){return jh=(0,Te.Z)(function*(n,e){const r=(yield l0()).transaction(Bh,"readwrite"),c=r.objectStore(Bh).put({compositeKey:n,value:e});return new Promise((d,m)=>{c.onsuccess=y=>{d()},r.onerror=y=>{var w;m(as.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),jh.apply(this,arguments)}const Vp=new kr.Yd("@firebase/app-check");function h0(n,e){return(0,Ht.hl)()?function pE(n,e){return function Yw(n,e){return jh.apply(this,arguments)}(function Jw(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Vp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function f0(){return e_().enabled}function a_(){return c_.apply(this,arguments)}function c_(){return c_=(0,Te.Z)(function*(){const n=e_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),c_.apply(this,arguments)}const _E={error:"UNKNOWN_ERROR"};function PS(n){return Ht.US.encodeString(JSON.stringify(n),!1)}function Hh(n){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,Te.Z)(function*(n,e=!1){const t=n.app;Vh(t);const r=Hi(t);let c,i=r.token;if(i&&!Gh(i)&&(Ra(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(Gh(y)?i=y:yield h0(t,void 0))}if(!e&&i&&Gh(i))return{token:i.token};let m,d=!1;if(f0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=r_(fE(t,yield a_()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const y=yield r.exchangeTokenPromise;return yield h0(t,y),Ra(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Vp.warn(y.message):Vp.error(y),c=y}return i?c?m=Gh(i)?{token:i.token,internalError:c}:eI(c):(m={token:i.token},Ra(t,Object.assign(Object.assign({},r),{token:i})),yield h0(t,i)):m=eI(c),d&&Xw(t,m),m}),Bp.apply(this,arguments)}function jp(n,e){const t=Hi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ra(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function u_(n){const{app:e}=n,t=Hi(e);let r=t.tokenRefresher;r||(r=function yE(n){const{app:e}=n;return new Ww((0,Te.Z)(function*(){let r;if(r=Hi(e).token?yield Hh(n,!0):yield Hh(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ra(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Xw(n,e){const t=Hi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Gh(n){return n.expireTimeMillis-Date.now()>0}function eI(n){return{token:PS(_E),error:n}}class tI{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Hi(this.app);for(const t of e)jp(this.app,t.next);return Promise.resolve()}}const f_="app-check-internal";!function lI(){(0,fi._registerComponent)(new Pi.wA("app-check",n=>function p0(n,e){return new tI(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(f_).initialize()})),(0,fi._registerComponent)(new Pi.wA(f_,n=>function nI(n){return{getToken:e=>Hh(n,e),addTokenListener:e=>function l_(n,e,t,r){const{app:i}=n,c=Hi(i),d={next:t,error:r,type:e};if(Ra(i,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,d]})),c.token&&Gh(c.token)){const m=c.token;Promise.resolve().then(()=>{t({token:m.token}),u_(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>u_(n))}(n,"INTERNAL",e),removeTokenListener:e=>jp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fi.registerVersion)("@firebase/app-check","0.5.16")}();class Up{constructor(){return(0,zt.vb)("app-check")}}typeof window<"u"&&window;var w0=V(127);const I0=new u.InjectionToken("angularfire2.auth.use-emulator"),C0=new u.InjectionToken("angularfire2.auth.settings"),fI=new u.InjectionToken("angularfire2.auth.tenant-id"),pI=new u.InjectionToken("angularfire2.auth.langugage-code"),E0=new u.InjectionToken("angularfire2.auth.use-device-language"),gI=new u.InjectionToken("angularfire.auth.persistence"),T0=(n,e,t,r,i,c,d,m)=>(0,qe.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,c&&y.useDeviceLanguage(),d)for(const[w,A]of Object.entries(d))y.settings[w]=A;return m&&y.setPersistence(m),y},[t,r,i,c,d,m]);let Zh=(()=>{class n{constructor(t,r,i,c,d,m,y,w,A,P,$,Z){const ue=new dr.x,Ee=ht(void 0).pipe((0,Op.Q)(d.outsideAngular),Mr(()=>c.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,1277)))),(0,tt.U)(()=>(0,qe.on)(t,c,r)),(0,tt.U)(xe=>T0(xe,c,m,w,A,P,y,$)),Zm({bufferSize:1,refCount:!1}));if((0,I.isPlatformServer)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ht(null);else{Ee.pipe(Tc()).subscribe();const ut=Ee.pipe(Mr(dt=>dt.getRedirectResult().then(ct=>ct,()=>null)),zt.iC,Zm({bufferSize:1,refCount:!1})),ft=Ee.pipe(Mr(dt=>new pn.y(ct=>({unsubscribe:c.runOutsideAngular(()=>dt.onAuthStateChanged(gt=>ct.next(gt),gt=>ct.error(gt),()=>ct.complete()))})))),wt=Ee.pipe(Mr(dt=>new pn.y(ct=>({unsubscribe:c.runOutsideAngular(()=>dt.onIdTokenChanged(gt=>ct.next(gt),gt=>ct.error(gt),()=>ct.complete()))}))));this.authState=ut.pipe(n0(ft),(0,Jm.R)(d.outsideAngular),(0,Op.Q)(d.insideAngular)),this.user=ut.pipe(n0(wt),(0,Jm.R)(d.outsideAngular),(0,Op.Q)(d.insideAngular)),this.idToken=this.user.pipe(Mr(dt=>dt?(0,Xt.D)(dt.getIdToken()):ht(null))),this.idTokenResult=this.user.pipe(Mr(dt=>dt?(0,Xt.D)(dt.getIdTokenResult()):ht(null))),this.credential=(0,e0.T)(ut,ue,this.authState.pipe(jt(dt=>!dt))).pipe((0,tt.U)(dt=>dt?.user?dt:null),(0,Jm.R)(d.outsideAngular),(0,Op.Q)(d.insideAngular))}return(0,qe.pX)(this,Ee,c,{spy:{apply:(xe,ut,ft)=>{(xe.startsWith("signIn")||xe.startsWith("createUser"))&&ft.then(wt=>ue.next(wt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(qe.Dh),u.\u0275\u0275inject(qe.xv,8),u.\u0275\u0275inject(u.PLATFORM_ID),u.\u0275\u0275inject(u.NgZone),u.\u0275\u0275inject(zt.HU),u.\u0275\u0275inject(I0,8),u.\u0275\u0275inject(C0,8),u.\u0275\u0275inject(fI,8),u.\u0275\u0275inject(pI,8),u.\u0275\u0275inject(E0,8),u.\u0275\u0275inject(gI,8),u.\u0275\u0275inject(Up,8))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mI=(()=>{class n{constructor(){w0.Z.registerVersion("angularfire",zt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[Zh]}),n})();function yI(n,e){return function _I(n,e=Wt.z){return new pn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function g_(n,e){return yI(n,e).pipe((0,tt.U)(t=>({payload:t,type:"query"})))}function $p(n,e){return g_(n,e).pipe(ei(void 0),di(),(0,tt.U)(([t,r])=>{const i=r.payload.docChanges(),c=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const y=i.find(A=>A.doc.ref.isEqual(d.ref)),w=t?.payload.docs.find(A=>A.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||c.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),c}))}function S0(n,e,t){return $p(n,t).pipe(hi((r,i)=>function RE(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function PE(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return N0(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return N0(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return N0(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(c=>c.payload),e),[]),function $n(n,e=zn.y){return n=n??ja,(0,Zt.e)((t,r)=>{let i,c=!0;t.subscribe((0,On.x)(r,d=>{const m=e(d);(c||!n(i,m))&&(c=!1,i=m,r.next(d))}))})}(),(0,tt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function N0(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function vI(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class bI{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=$p(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,tt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ei(void 0),di(),jt(([r,i])=>i.length>0||!r),(0,tt.U)(([r,i])=>i),zt.iC)}auditTrail(e){return this.stateChanges(e).pipe(hi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vI(e);return S0(this.query,t,this.afs.schedulers.outsideAngular).pipe(zt.iC)}valueChanges(e={}){return g_(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),zt.iC)}get(e){return(0,Xt.D)(this.query.get(e)).pipe(zt.iC)}add(e){return this.ref.add(e)}doc(e){return new DI(this.ref.doc(e),this.afs)}}class DI{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:c}=A0(r,t);return new bI(i,c,this.afs)}snapshotChanges(){return function OE(n,e){return yI(n,e).pipe(ei(void 0),di(),(0,tt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Xt.D)(this.ref.get(e)).pipe(zt.iC)}}class kE{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?$p(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),jt(t=>t.length>0),zt.iC):$p(this.query,this.afs.schedulers.outsideAngular).pipe(zt.iC)}auditTrail(e){return this.stateChanges(e).pipe(hi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vI(e);return S0(this.query,t,this.afs.schedulers.outsideAngular).pipe(zt.iC)}valueChanges(e={}){return g_(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),zt.iC)}get(e){return(0,Xt.D)(this.query.get(e)).pipe(zt.iC)}}const Hp=new u.InjectionToken("angularfire2.enableFirestorePersistence"),FE=new u.InjectionToken("angularfire2.firestore.persistenceSettings"),wI=new u.InjectionToken("angularfire2.firestore.settings"),m_=new u.InjectionToken("angularfire2.firestore.use-emulator");function A0(n,e=(t=>t)){return{query:e(n),ref:n}}let __=(()=>{class n{constructor(t,r,i,c,d,m,y,w,A,P,$,Z,ue,Ee,xe,ut,ft){this.schedulers=y;const wt=(0,qe.on)(t,m,r),dt=A;P&&T0(wt,m,$,ue,Ee,xe,Z,ut),[this.firestore,this.persistenceEnabled$]=(0,qe.cc)(`${wt.name}.firestore`,"AngularFirestore",wt.name,()=>{const ct=m.runOutsideAngular(()=>wt.firestore());if(c&&ct.settings(c),dt&&ct.useEmulator(...dt),i&&!(0,I.isPlatformServer)(d)){const gt=()=>{try{return(0,Xt.D)(ct.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Jt){return typeof console<"u"&&console.warn(Jt),ht(!1)}};return[ct,m.runOutsideAngular(gt)]}return[ct,ht(!1)]},[c,dt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:d}=A0(i,r),m=this.schedulers.ngZone.run(()=>c);return new bI(m,d,this)}collectionGroup(t,r){const i=r||(d=>d),c=this.firestore.collectionGroup(t);return new kE(i(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new DI(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(qe.Dh),u.\u0275\u0275inject(qe.xv,8),u.\u0275\u0275inject(Hp,8),u.\u0275\u0275inject(wI,8),u.\u0275\u0275inject(u.PLATFORM_ID),u.\u0275\u0275inject(u.NgZone),u.\u0275\u0275inject(zt.HU),u.\u0275\u0275inject(FE,8),u.\u0275\u0275inject(m_,8),u.\u0275\u0275inject(Zh,8),u.\u0275\u0275inject(I0,8),u.\u0275\u0275inject(C0,8),u.\u0275\u0275inject(fI,8),u.\u0275\u0275inject(pI,8),u.\u0275\u0275inject(E0,8),u.\u0275\u0275inject(gI,8),u.\u0275\u0275inject(Up,8))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LE=(()=>{class n{constructor(){w0.Z.registerVersion("angularfire",zt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Hp,useValue:!0},{provide:FE,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[__]}),n})();var Pa=V(3241);const{isArray:II}=Array,{getPrototypeOf:VE,prototype:CI,keys:BE}=Object;function EI(n){if(1===n.length){const e=n[0];if(II(e))return{args:e,keys:null};if(function jE(n){return n&&"object"==typeof n&&VE(n)===CI}(e)){const t=BE(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:UE}=Array;function M0(n){return(0,tt.U)(e=>function y_(n,e){return UE(e)?n(...e):n(e)}(n,e))}function TI(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let ka=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n}),n})(),Su=(()=>{class n extends ka{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,features:[u.\u0275\u0275InheritDefinitionFeature]}),n})();const Nc=new u.InjectionToken("NgValueAccessor"),SI={provide:Nc,useExisting:(0,u.forwardRef)(()=>x0),multi:!0};let x0=(()=>{class n extends Su{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("change",function(c){return r.onChange(c.target.checked)})("blur",function(){return r.onTouched()})},features:[u.\u0275\u0275ProvidersFeature([SI]),u.\u0275\u0275InheritDefinitionFeature]}),n})();const HE={provide:Nc,useExisting:(0,u.forwardRef)(()=>xd),multi:!0},AI=new u.InjectionToken("CompositionEventMode");let xd=(()=>{class n extends ka{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function NI(){const n=(0,I.\u0275getDOM)()?(0,I.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(AI,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u.\u0275\u0275ProvidersFeature([HE]),u.\u0275\u0275InheritDefinitionFeature]}),n})();function Nu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const cs=new u.InjectionToken("NgValidators"),ci=new u.InjectionToken("NgAsyncValidators");function b_(n){return Nu(n.value)?{required:!0}:null}function D_(n){return null}function L0(n){return null!=n}function V0(n){return(0,u.\u0275isPromise)(n)?(0,Xt.D)(n):n}function w_(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Ml(n,e){return e.map(t=>t(n))}function I_(n){return n.map(e=>function B0(n){return!n.validate}(e)?e:t=>e.validate(t))}function C_(n){return null!=n?function Ac(n){if(!n)return null;const e=n.filter(L0);return 0==e.length?null:function(t){return w_(Ml(t,e))}}(I_(n)):null}function E_(n){return null!=n?function WE(n){if(!n)return null;const e=n.filter(L0);return 0==e.length?null:function(t){return function $E(...n){const e=(0,xn.jO)(n),{args:t,keys:r}=EI(n),i=new pn.y(c=>{const{length:d}=t;if(!d)return void c.complete();const m=new Array(d);let y=d,w=d;for(let A=0;A<d;A++){let P=!1;(0,xa.Xf)(t[A]).subscribe((0,On.x)(c,$=>{P||(P=!0,w--),m[A]=$},()=>y--,void 0,()=>{(!y||!P)&&(w||c.next(r?TI(r,m):m),c.complete())}))}});return e?i.pipe(M0(e)):i}(Ml(t,e).map(V0)).pipe((0,tt.U)(w_))}}(I_(n)):null}function RI(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function T_(n){return n?Array.isArray(n)?n:[n]:[]}function S_(n,e){return Array.isArray(n)?n.includes(e):n===e}function U0(n,e){const t=T_(e);return T_(n).forEach(i=>{S_(t,i)||t.push(i)}),t}function $0(n,e){return T_(e).filter(t=>!S_(n,t))}class H0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=C_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=E_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Rs extends H0{get formDirective(){return null}get path(){return null}}class Fa extends H0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class N_{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Od=(()=>{class n extends N_{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Fa,2))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.\u0275\u0275InheritDefinitionFeature]}),n})(),Qh=(()=>{class n extends N_{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Rs,10))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.\u0275\u0275InheritDefinitionFeature]}),n})();const Gp="VALID",Jh="INVALID",Mc="PENDING",Wp="DISABLED";function z0(n){return(Xh(n)?n.validators:n)||null}function q0(n){return Array.isArray(n)?C_(n):n||null}function xl(n,e){return(Xh(e)?e.asyncValidators:n)||null}function K0(n){return Array.isArray(n)?E_(n):n||null}function Xh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class M_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=q0(this._rawValidators),this._composedAsyncValidatorFn=K0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gp}get invalid(){return this.status===Jh}get pending(){return this.status==Mc}get disabled(){return this.status===Wp}get enabled(){return this.status!==Wp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=q0(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=K0(e)}addValidators(e){this.setValidators(U0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(U0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($0(e,this._rawAsyncValidators))}hasValidator(e){return S_(this._rawValidators,e)}hasAsyncValidator(e){return S_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Mc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gp||this.status===Mc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wp:Gp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Mc,this._hasOwnPendingAsyncValidator=!0;const t=V0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.EventEmitter,this.statusChanges=new u.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?Wp:this.errors?Jh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mc)?Mc:this._anyControlsHaveStatus(Jh)?Jh:Gp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class zp extends M_{constructor(e,t,r){super(z0(t),xl(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function jI(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.\u0275RuntimeError(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function A_(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.\u0275RuntimeError(1e3,"");if(!r[t])throw new u.\u0275RuntimeError(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,c)=>{r=t(r,i,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function ef(n,e){Q0(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function UI(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&HI(n,e)})}(n,e),function XE(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function $I(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&HI(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function JE(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Kp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Q0(n,e){const t=function j0(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(RI(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function PI(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(RI(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Kp(e._rawValidators,i),Kp(e._rawAsyncValidators,i)}function HI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const nT={provide:Rs,useExisting:(0,u.forwardRef)(()=>Pd)},Qp=(()=>Promise.resolve())();let Pd=(()=>{class n extends Rs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.EventEmitter,this.form=new zp({},C_(t),E_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Qp.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ef(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Qp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Qp.then(()=>{const r=this._findContainer(t.path),i=new zp({});(function Y0(n,e){Q0(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Qp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Qp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function WI(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(cs,10),u.\u0275\u0275directiveInject(ci,10))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.\u0275\u0275ProvidersFeature([nT]),u.\u0275\u0275InheritDefinitionFeature]}),n})();function zI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function qI(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const KI=class extends M_{constructor(e=null,t,r){super(z0(t),xl(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=qI(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){qI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},l={provide:Fa,useExisting:(0,u.forwardRef)(()=>p)},h=(()=>Promise.resolve())();let p=(()=>{class n extends Fa{constructor(t,r,i,c,d){super(),this._changeDetectorRef=d,this.control=new KI,this._registered=!1,this.update=new u.EventEmitter,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function eb(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(c=>{c.constructor===xd?t=c:function eT(n){return Object.getPrototypeOf(n.constructor)===Su}(c)?r=c:i=c}),i||r||t||null}(0,c)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function X0(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ef(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){h.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.\u0275coerceToBoolean)(r);h.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Z0(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Rs,9),u.\u0275\u0275directiveInject(cs,10),u.\u0275\u0275directiveInject(ci,10),u.\u0275\u0275directiveInject(Nc,10),u.\u0275\u0275directiveInject(u.ChangeDetectorRef,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u.\u0275\u0275ProvidersFeature([l]),u.\u0275\u0275InheritDefinitionFeature,u.\u0275\u0275NgOnChangesFeature]}),n})(),v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const D={provide:Nc,useExisting:(0,u.forwardRef)(()=>E),multi:!0};let E=(()=>{class n extends Su{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[u.\u0275\u0275ProvidersFeature([D]),u.\u0275\u0275InheritDefinitionFeature]}),n})(),j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();let Xp=(()=>{class n{constructor(){this._validator=D_}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):D_,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,features:[u.\u0275\u0275NgOnChangesFeature]}),n})();const rx={provide:cs,useExisting:(0,u.forwardRef)(()=>eg),multi:!0};let eg=(()=>{class n extends Xp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.\u0275coerceToBoolean,this.createValidator=t=>b_}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.\u0275\u0275attribute("required",r._enabled?"":null)},inputs:{required:"required"},features:[u.\u0275\u0275ProvidersFeature([rx]),u.\u0275\u0275InheritDefinitionFeature]}),n})();const ox={provide:cs,useExisting:(0,u.forwardRef)(()=>QI),multi:!0};let QI=(()=>{class n extends Xp{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function eN(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function P0(n){return e=>Nu(e.value)||!function v_(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.\u0275\u0275attribute("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[u.\u0275\u0275ProvidersFeature([ox]),u.\u0275\u0275InheritDefinitionFeature]}),n})(),lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[j]}),n})(),cN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[lx]}),n})();var Ps=V(5577),dx=V(1144);const hx=["addListener","removeListener"],fx=["addEventListener","removeEventListener"],px=["on","off"];function Io(n,e,t,r){if((0,Os.m)(t)&&(r=t,t=void 0),r)return Io(n,e,t).pipe(M0(r));const[i,c]=function _x(n){return(0,Os.m)(n.addEventListener)&&(0,Os.m)(n.removeEventListener)}(n)?fx.map(d=>m=>n[d](e,m,t)):function gx(n){return(0,Os.m)(n.addListener)&&(0,Os.m)(n.removeListener)}(n)?hx.map(lN(n,e)):function mx(n){return(0,Os.m)(n.on)&&(0,Os.m)(n.off)}(n)?px.map(lN(n,e)):[];if(!i&&(0,dx.z)(n))return(0,Ps.z)(d=>Io(d,e,t))((0,xa.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new pn.y(d=>{const m=(...y)=>d.next(1<y.length?y:y[0]);return i(m),()=>c(m)})}function lN(n,e){return t=>r=>n[t](e,r)}var yx=V(3532);const{isArray:bx}=Array;function uN(n){return 1===n.length&&bx(n[0])?n[0]:n}class ls extends dr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var wx=V(9672);function YI(...n){const e=(0,xn.yG)(n),t=(0,xn.jO)(n),{args:r,keys:i}=EI(n);if(0===r.length)return(0,Xt.D)([],e);const c=new pn.y(function Ix(n,e,t=zn.y){return r=>{hN(e,()=>{const{length:i}=n,c=new Array(i);let d=i,m=i;for(let y=0;y<i;y++)hN(e,()=>{const w=(0,Xt.D)(n[y],e);let A=!1;w.subscribe((0,On.x)(r,P=>{c[y]=P,A||(A=!0,m--),m||r.next(t(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>TI(i,d):zn.y));return t?c.pipe(M0(t)):c}function hN(n,e,t){n?(0,wx.f)(t,n,e):e()}var JI=V(5032);function XI(...n){const e=(0,xn.jO)(n),t=uN(n);return t.length?new pn.y(r=>{let i=t.map(()=>[]),c=t.map(()=>!1);r.add(()=>{i=c=null});for(let d=0;!r.closed&&d<t.length;d++)(0,xa.Xf)(t[d]).subscribe((0,On.x)(r,m=>{if(i[d].push(m),i.every(y=>y.length)){const y=i.map(w=>w.shift());r.next(e?e(...y):y),i.some((w,A)=>!w.length&&c[A])&&r.complete()}},()=>{c[d]=!0,!i[d].length&&r.complete()}));return()=>{i=c=null}}):Oa.E}function Wi(n){return(0,Zt.e)((e,t)=>{(0,xa.Xf)(n).subscribe((0,On.x)(t,()=>t.complete(),JI.Z)),!t.closed&&e.subscribe(t)})}new pn.y(JI.Z);var us=V(8505);function oT(...n){const e=(0,xn.jO)(n);return(0,Zt.e)((t,r)=>{const i=n.length,c=new Array(i);let d=n.map(()=>!1),m=!1;for(let y=0;y<i;y++)(0,xa.Xf)(n[y]).subscribe((0,On.x)(r,w=>{c[y]=w,!m&&!d[y]&&(d[y]=!0,(m=d.every(zn.y))&&(d=null))},JI.Z));t.subscribe((0,On.x)(r,y=>{if(m){const w=[y,...c];r.next(e?e(...w):w)}}))})}Math,Math,Math;const VO=["*"],nR=["dialog"];function yT(n){return"string"==typeof n}function rg(n){return null!=n}function j_(n){return(n||document.body).getBoundingClientRect()}const RN={animation:!0,transitionTimerDelayMs:5},QR=()=>{},{transitionTimerDelayMs:YR}=RN,db=new Map,Ys=(n,e,t,r)=>{let i=r.context||{};const c=db.get(e);if(c)switch(r.runningTransition){case"continue":return Oa.E;case"stop":n.run(()=>c.transition$.complete()),i=Object.assign(c.context,i),db.delete(e)}const d=t(e,r.animation,i)||QR;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>d()),ht(void 0).pipe(function KR(n){return e=>new pn.y(t=>e.subscribe({next:d=>n.run(()=>t.next(d)),error:d=>n.run(()=>t.error(d)),complete:()=>n.run(()=>t.complete())}))}(n));const m=new dr.x,y=new dr.x,w=m.pipe(function Cx(...n){return e=>Bt(e,ht(...n))}(!0));db.set(e,{transition$:m,complete:()=>{y.next(),y.complete()},context:i});const A=function ZR(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const P=Io(e,"transitionend").pipe(Wi(w),jt(({target:Z})=>Z===e));(function dN(...n){return 1===(n=uN(n)).length?(0,xa.Xf)(n[0]):new pn.y(function Dx(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,xa.Xf)(n[r]).subscribe((0,On.x)(e,i=>{if(t){for(let c=0;c<t.length;c++)c!==r&&t[c].unsubscribe();t=null}e.next(i)})))}}(n))})(function sT(n=0,e,t=Wt.P){let r=-1;return null!=e&&((0,yx.K)(e)?t=e:r=e),new pn.y(i=>{let c=function vx(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;c<0&&(c=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},c)})}(A+YR).pipe(Wi(w)),P,y).pipe(Wi(w)).subscribe(()=>{db.delete(e),n.run(()=>{d(),m.next(),m.complete()})})}),m.asObservable()},bT=(n,e,t)=>{let{direction:r,maxSize:i,dimension:c}=t;const{classList:d}=n;function m(){d.add("collapse"),"show"===r?d.add("show"):d.remove("show")}if(e)return i||(i=function XR(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,c),t.maxSize=i,n.style[c]="show"!==r?i:"0px",d.remove("collapse"),d.remove("collapsing"),d.remove("show"),j_(n),d.add("collapsing")),n.style[c]="show"===r?i:"0px",()=>{m(),d.remove("collapsing"),n.style[c]=""};m()};let hb=(()=>{class n{constructor(){this.animation=RN.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),BN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),$N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),cP=(()=>{class n{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(hb))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lP=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new u.EventEmitter,this.shown=new u.EventEmitter,this.hidden=new u.EventEmitter,this.animation=r.animation,this.horizontal=r.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,r){return Ys(this._zone,this._element.nativeElement,bT,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(cP),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"]}),n})(),HN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();var zi=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(zi||(zi={})),zi))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const WN=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function zN(n){const e=Array.from(n.querySelectorAll(WN)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let eA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule,cN]}),n})(),TT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["",8,"navbar"]]}),n})(),rA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();class ag{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let $P=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe($i(1)).subscribe(()=>{Ys(this._zone,this._el.nativeElement,(t,r)=>{r&&j_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ys(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(u.\u0275\u0275classMap("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.\u0275\u0275classProp("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class iA{close(e){}dismiss(e){}}class HP{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new dr.x,this._dismissed=new dr.x,this._hidden=new dr.x,e.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,d)=>{this._resolve=c,this._reject=d}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Wi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Wi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function ON(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ht(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),XI(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var mb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(mb||(mb={})),mb))();let GP=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new dr.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.EventEmitter,this.shown=new dr.x,this.hidden=new dr.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":yT(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe($i(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},d=XI(Ys(this._zone,t,()=>t.classList.remove("show"),r),Ys(this._zone,this._dialogEl.nativeElement,()=>{},r));return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){const t={animation:this.animation,runningTransition:"continue"};XI(Ys(this._zone,this._elRef.nativeElement,(c,d)=>{d&&j_(c),c.classList.add("show")},t),Ys(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Io(t,"keydown").pipe(Wi(this._closed$),jt(i=>i.which===zi.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(mb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Io(this._dialogEl.nativeElement,"mousedown").pipe(Wi(this._closed$),(0,us.b)(()=>r=!1),Mr(()=>Io(t,"mouseup").pipe(Wi(this._closed$),$i(1))),jt(({target:i})=>t===i)).subscribe(()=>{r=!0}),Io(t,"click").pipe(Wi(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(mb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=zN(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ys(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(I.DOCUMENT),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.\u0275\u0275viewQuery(nR,7),2&t){let i;u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.\u0275\u0275attribute("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.\u0275\u0275classMap("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.\u0275\u0275classProp("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:VO,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.\u0275\u0275projectionDef(),u.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2),u.\u0275\u0275projection(3),u.\u0275\u0275elementEnd()()),2&t&&u.\u0275\u0275classMap("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),WP=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:c,paddingRight:d}=i;if(t>0){const m=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${m+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=d),i.overflow=c}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zP=(()=>{class n{constructor(t,r,i,c,d,m){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=c,this._rendererFactory=d,this._ngZone=m,this._activeWindowCmptHasChanged=new dr.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.EventEmitter,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const y=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Io(e,"focusin").pipe(Wi(t),(0,tt.U)(c=>c.target));Io(e,"keydown").pipe(Wi(t),jt(c=>c.which===zi.Tab),oT(i)).subscribe(([c,d])=>{const[m,y]=zN(e);(d===m||d===e)&&c.shiftKey&&(y.focus(),c.preventDefault()),d===y&&!c.shiftKey&&(m.focus(),c.preventDefault())}),r&&Io(e,"click").pipe(Wi(t),oT(i),(0,tt.U)(c=>c[1])).subscribe(c=>c.focus())})})(0,y.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(y.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const c=i.container instanceof HTMLElement?i.container:rg(i.container)?this._document.querySelector(i.container):this._document.body,d=this._rendererFactory.createRenderer(null,null);if(!c)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const m=new iA,y=this._getContentRef(i.injector||t,r,m,i);let w=!1!==i.backdrop?this._attachBackdrop(c):void 0,A=this._attachWindowComponent(c,y.nodes),P=new HP(A,y,w,i.beforeDismiss);return this._registerModalRef(P),this._registerWindowCmpt(A),P.hidden.pipe($i(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),m.close=$=>{P.close($)},m.dismiss=$=>{P.dismiss($)},this._applyWindowOptions(A.instance,i),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),w&&w.instance&&(this._applyBackdropOptions(w.instance,i),w.changeDetectorRef.detectChanges()),A.changeDetectorRef.detectChanges(),P}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,u.createComponent)($P,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,u.createComponent)(GP,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{rg(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{rg(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,c){return r?r instanceof u.TemplateRef?this._createFromTemplateRef(r,i):yT(r)?this._createFromString(r):this._createFromComponent(t,r,i,c):new ag([])}_createFromTemplateRef(t,r){const c=t.createEmbeddedView({$implicit:r,close(d){r.close(d)},dismiss(d){r.dismiss(d)}});return this._applicationRef.attachView(c),new ag([c.rootNodes],c)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new ag([[r]])}_createFromComponent(t,r,i,c){const d=u.Injector.create({providers:[{provide:iA,useValue:i}],parent:t}),m=(0,u.createComponent)(r,{environmentInjector:this._applicationRef.injector,elementInjector:d}),y=m.location.nativeElement;return c.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new ag([[y]],m.hostView,m)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.ApplicationRef),u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(I.DOCUMENT),u.\u0275\u0275inject(WP),u.\u0275\u0275inject(u.RendererFactory2),u.\u0275\u0275inject(u.NgZone))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qP=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(hb))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KP=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(zP),u.\u0275\u0275inject(qP))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[KP]}),n})(),lA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),_A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),vA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),bA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),DA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),wA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),IA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),CA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();new u.InjectionToken("live announcer delay",{providedIn:"root",factory:function ak(){return 100}});let EA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),TA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();const ck=[VN,BN,$N,HN,eA,rA,sA,lA,TA,_A,vA,bA,DA,wA,IA,CA,EA];let lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[ck,VN,BN,$N,HN,eA,rA,sA,lA,TA,_A,vA,bA,DA,wA,IA,CA,EA]}),n})();function SA(n){return new pn.y(e=>{(0,xa.Xf)(n()).subscribe(e)})}var uk=V(9635);function _b(n,e){const t=(0,Os.m)(n)?n:()=>n,r=i=>i.error(t());return new pn.y(e?i=>e.schedule(r,0,i):r)}var NA=V(727);function MT(){return(0,Zt.e)((n,e)=>{let t=null;n._refCount++;const r=(0,On.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,c=t;t=null,i&&(!c||i===c)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class AA extends pn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Zt.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new NA.w0;const t=this.getSubject();e.add(this.source.subscribe((0,On.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=NA.w0.EMPTY)}return e}refCount(){return MT()(this)}}function cg(n,e){return(0,Os.m)(e)?(0,Ps.z)(n,e,1):(0,Ps.z)(n,1)}function rf(n){return(0,Zt.e)((e,t)=>{let c,r=null,i=!1;r=e.subscribe((0,On.x)(t,void 0,void 0,d=>{c=(0,xa.Xf)(n(d,rf(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,c.subscribe(t))})}function xT(n){return n<=0?()=>Oa.E:(0,Zt.e)((e,t)=>{let r=[];e.subscribe((0,On.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function MA(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jt((i,c)=>n(i,c,r)):zn.y,xT(1),t?Qm(e):Ym(()=>new Rp))}function OT(n){return(0,Zt.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const mn="primary",yb=Symbol("RouteTitle");class hk{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function $_(n){return new hk(n)}function fk(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let c=0;c<r.length;c++){const d=r[c],m=n[c];if(d.startsWith(":"))i[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ou(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let c=0;c<t.length;c++)if(i=t[c],!xA(n[i],e[i]))return!1;return!0}function xA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,c)=>r[c]===i)}return n===e}function OA(n){return Array.prototype.concat.apply([],n)}function RA(n){return n.length>0?n[n.length-1]:null}function ks(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function sf(n){return(0,u.\u0275isObservable)(n)?n:(0,u.\u0275isPromise)(n)?(0,Xt.D)(Promise.resolve(n)):ht(n)}const mk={exact:function FA(n,e,t){if(!ug(n.segments,e.segments)||!hC(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!FA(n.children[r],e.children[r],t))return!1;return!0},subset:LA},PA={exact:function _k(n,e){return Ou(n,e)},subset:function yk(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xA(n[t],e[t]))},ignored:()=>!0};function kA(n,e,t){return mk[t.paths](n.root,e.root,t.matrixParams)&&PA[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function LA(n,e,t){return VA(n,e,e.segments,t)}function VA(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ug(i,t)||e.hasChildren()||!hC(i,t,r))}if(n.segments.length===t.length){if(!ug(n.segments,t)||!hC(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!LA(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(ug(n.segments,i)&&hC(n.segments,i,r)&&n.children[mn])&&VA(n.children[mn],e,c,r)}}function hC(n,e,t){return e.every((r,i)=>PA[t](n[i].parameters,r.parameters))}class lg{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$_(this.queryParams)),this._queryParamMap}toString(){return Dk.serialize(this)}}class vn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ks(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fC(this)}}class vb{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=$_(this.parameters)),this._parameterMap}toString(){return $A(this)}}function ug(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let BA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return new PT},providedIn:"root"}),n})();class PT{parse(e){const t=new Mk(e);return new lg(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${bb(e.root,!0)}`,r=function Ck(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${pC(t)}=${pC(i)}`).join("&"):`${pC(t)}=${pC(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function wk(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const Dk=new PT;function fC(n){return n.segments.map(e=>$A(e)).join("/")}function bb(n,e){if(!n.hasChildren())return fC(n);if(e){const t=n.children[mn]?bb(n.children[mn],!1):"",r=[];return ks(n.children,(i,c)=>{c!==mn&&r.push(`${c}:${bb(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function bk(n,e){let t=[];return ks(n.children,(r,i)=>{i===mn&&(t=t.concat(e(r,i)))}),ks(n.children,(r,i)=>{i!==mn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===mn?[bb(n.children[mn],!1)]:[`${i}:${bb(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[mn]?`${fC(n)}/${t[0]}`:`${fC(n)}/(${t.join("//")})`}}function jA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pC(n){return jA(n).replace(/%3B/gi,";")}function kT(n){return jA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gC(n){return decodeURIComponent(n)}function UA(n){return gC(n.replace(/\+/g,"%20"))}function $A(n){return`${kT(n.path)}${function Ik(n){return Object.keys(n).map(e=>`;${kT(e)}=${kT(n[e])}`).join("")}(n.parameters)}`}const Ek=/^[^\/()?;=#]+/;function mC(n){const e=n.match(Ek);return e?e[0]:""}const Tk=/^[^=?&#]+/,Nk=/^[^&#]+/;class Mk{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vn([],{}):new vn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[mn]=new vn(e,t)),r}parseSegment(){const e=mC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.\u0275RuntimeError(4009,!1);return this.capture(e),new vb(gC(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=mC(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=mC(this.remaining);i&&(r=i,this.capture(r))}e[gC(t)]=gC(r)}parseQueryParam(e){const t=function Sk(n){const e=n.match(Tk);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Ak(n){const e=n.match(Nk);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=UA(t),c=UA(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(c)}else e[i]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.\u0275RuntimeError(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=mn);const d=this.parseChildren();t[c]=1===Object.keys(d).length?d[mn]:new vn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.\u0275RuntimeError(4011,!1)}}function FT(n){return n.segments.length>0?new vn([],{[mn]:n}):n}function _C(n){const e={};for(const r of Object.keys(n.children)){const c=_C(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function xk(n){if(1===n.numberOfChildren&&n.children[mn]){const e=n.children[mn];return new vn(n.segments.concat(e.segments),e.children)}return n}(new vn(n.segments,e))}function dg(n){return n instanceof lg}function Pk(n,e,t,r,i){if(0===t.length)return H_(e.root,e.root,e.root,r,i);const c=function WA(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new GA(!0,0,n);let e=0,t=!1;const r=n.reduce((i,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return ks(c.outlets,(y,w)=>{m[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:m}]}if(c.segmentPath)return[...i,c.segmentPath]}return"string"!=typeof c?[...i,c]:0===d?(c.split("/").forEach((m,y)=>{0==y&&"."===m||(0==y&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,c]},[]);return new GA(t,e,r)}(t);return c.toRoot()?H_(e.root,e.root,new vn([],{}),r,i):function d(y){const w=function Fk(n,e,t,r){if(n.isAbsolute)return new G_(e.root,!0,0);if(-1===r)return new G_(t,t===e.root,0);return function zA(n,e,t){let r=n,i=e,c=t;for(;c>i;){if(c-=i,r=r.parent,!r)throw new u.\u0275RuntimeError(4005,!1);i=r.segments.length}return new G_(r,!1,i-c)}(t,r+(Db(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,e,n.snapshot?._urlSegment,y),A=w.processChildren?Ib(w.segmentGroup,w.index,c.commands):VT(w.segmentGroup,w.index,c.commands);return H_(e.root,w.segmentGroup,A,r,i)}(n.snapshot?._lastPathIndex)}function Db(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function wb(n){return"object"==typeof n&&null!=n&&n.outlets}function H_(n,e,t,r,i){let d,c={};r&&ks(r,(y,w)=>{c[w]=Array.isArray(y)?y.map(A=>`${A}`):`${y}`}),d=n===e?t:HA(n,e,t);const m=FT(_C(d));return new lg(m,c,i)}function HA(n,e,t){const r={};return ks(n.children,(i,c)=>{r[c]=i===e?t:HA(i,e,t)}),new vn(n.segments,r)}class GA{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Db(r[0]))throw new u.\u0275RuntimeError(4003,!1);const i=r.find(wb);if(i&&i!==RA(r))throw new u.\u0275RuntimeError(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class G_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function VT(n,e,t){if(n||(n=new vn([],{})),0===n.segments.length&&n.hasChildren())return Ib(n,e,t);const r=function Vk(n,e,t){let r=0,i=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return c;const d=n.segments[i],m=t[r];if(wb(m))break;const y=`${m}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!KA(y,w,d))return c;r+=2}else{if(!KA(y,{},d))return c;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new vn(n.segments.slice(0,r.pathIndex),{});return c.children[mn]=new vn(n.segments.slice(r.pathIndex),n.children),Ib(c,0,i)}return r.match&&0===i.length?new vn(n.segments,{}):r.match&&!n.hasChildren()?BT(n,e,t):r.match?Ib(n,0,i):BT(n,e,t)}function Ib(n,e,t){if(0===t.length)return new vn(n.segments,{});{const r=function Lk(n){return wb(n[0])?n[0].outlets:{[mn]:n}}(t),i={};return ks(r,(c,d)=>{"string"==typeof c&&(c=[c]),null!==c&&(i[d]=VT(n.children[d],e,c))}),ks(n.children,(c,d)=>{void 0===r[d]&&(i[d]=c)}),new vn(n.segments,i)}}function BT(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const c=t[i];if(wb(c)){const y=Bk(c.outlets);return new vn(r,y)}if(0===i&&Db(t[0])){r.push(new vb(n.segments[e].path,qA(t[0]))),i++;continue}const d=wb(c)?c.outlets[mn]:`${c}`,m=i<t.length-1?t[i+1]:null;d&&m&&Db(m)?(r.push(new vb(d,qA(m))),i+=2):(r.push(new vb(d,{})),i++)}return new vn(r,{})}function Bk(n){const e={};return ks(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=BT(new vn([],{}),0,t))}),e}function qA(n){const e={};return ks(n,(t,r)=>e[r]=`${t}`),e}function KA(n,e,t){return n==t.path&&Ou(e,t.parameters)}class Vd{constructor(e,t){this.id=e,this.url=t}}class jT extends Vd{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hg extends Vd{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yC extends Vd{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ZA extends Vd{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jk extends Vd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uk extends Vd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $k extends Vd{constructor(e,t,r,i,c){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hk extends Vd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gk extends Vd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wk{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zk{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qk{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kk{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zk{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qk{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QA{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class YA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=UT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=UT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$T(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $T(e,this._root).map(t=>t.value)}}function UT(n,e){if(n===e.value)return e;for(const t of e.children){const r=UT(n,t);if(r)return r}return null}function $T(n,e){if(n===e.value)return[e];for(const t of e.children){const r=$T(n,t);if(r.length)return r.unshift(e),r}return[]}class Bd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function W_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class JA extends YA{constructor(e,t){super(e),this.snapshot=t,HT(this,e)}toString(){return this.snapshot.toString()}}function XA(n,e){const t=function Jk(n,e){const d=new vC([],{},{},"",{},mn,e,null,n.root,-1,{});return new tM("",new Bd(d,[]))}(n,e),r=new ls([new vb("",{})]),i=new ls({}),c=new ls({}),d=new ls({}),m=new ls(""),y=new af(r,i,d,m,c,mn,e,t.root);return y.snapshot=t.root,new JA(new Bd(y,[]),t)}class af{constructor(e,t,r,i,c,d,m,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,tt.U)(w=>w[yb]))??ht(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tt.U)(e=>$_(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tt.U)(e=>$_(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eM(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],c=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(c.component)break;r--}}return function Xk(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class vC{constructor(e,t,r,i,c,d,m,y,w,A,P,$){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=d,this.component=m,this.title=this.data?.[yb],this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=A,this._correctedLastPathIndex=$??A,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tM extends YA{constructor(e,t){super(t),this.url=e,HT(this,t)}toString(){return nM(this._root)}}function HT(n,e){e.value._routerState=n,e.children.forEach(t=>HT(n,t))}function nM(n){const e=n.children.length>0?` { ${n.children.map(nM).join(", ")} } `:"";return`${n.value}${e}`}function GT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ou(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ou(e.params,t.params)||n.params.next(t.params),function pk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ou(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ou(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function WT(n,e){const t=Ou(n.params,e.params)&&function vk(n,e){return ug(n,e)&&n.every((t,r)=>Ou(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||WT(n.parent,e.parent))}function Cb(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function tF(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Cb(n,r,i);return Cb(n,r)})}(n,e,t);return new Bd(r,i)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Cb(n,m)),d}}const r=function nF(n){return new af(new ls(n.url),new ls(n.params),new ls(n.queryParams),new ls(n.fragment),new ls(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(c=>Cb(n,c));return new Bd(r,i)}}const zT="ngNavigationCancelingError";function rM(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=dg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=iM(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function iM(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[zT]=!0,r.cancellationCode=e,t&&(r.url=t),r}function sM(n){return oM(n)&&dg(n.url)}function oM(n){return n&&n[zT]}class rF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Eb,this.attachRef=null}}let Eb=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new rF,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bC=!1;let qT=(()=>{class n{constructor(t,r,i,c,d){this.parentContexts=t,this.location=r,this.changeDetector=c,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.EventEmitter,this.deactivateEvents=new u.EventEmitter,this.attachEvents=new u.EventEmitter,this.detachEvents=new u.EventEmitter,this.name=i||mn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.\u0275RuntimeError(4012,bC);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.\u0275RuntimeError(4012,bC);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.\u0275RuntimeError(4012,bC);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.\u0275RuntimeError(4013,bC);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,y=new iF(t,m,i.injector);if(r&&function sF(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(d,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Eb),u.\u0275\u0275directiveInject(u.ViewContainerRef),u.\u0275\u0275injectAttribute("name"),u.\u0275\u0275directiveInject(u.ChangeDetectorRef),u.\u0275\u0275directiveInject(u.EnvironmentInjector))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class iF{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===af?this.route:e===Eb?this.childContexts:this.parent.get(e,t)}}let KT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(t,r){1&t&&u.\u0275\u0275element(0,"router-outlet")},dependencies:[qT],encapsulation:2}),n})();function aM(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.createEnvironmentInjector)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function QT(n){const e=n.children&&n.children.map(QT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==mn&&(t.component=KT),t}function Rc(n){return n.outlet||mn}function cM(n,e){const t=n.filter(r=>Rc(r)===e);return t.push(...n.filter(r=>Rc(r)!==e)),t}function Tb(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class uF{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),GT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=W_(t);e.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,i[d],r),delete i[d]}),ks(i,(c,d)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(i===c)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=W_(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],i);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=W_(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=W_(t);e.children.forEach(c=>{this.activateRoutes(c,i[c.value.outlet],r),this.forwardEvent(new Qk(c.value.snapshot))}),e.children.length&&this.forwardEvent(new Kk(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(GT(i),i===c)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),GT(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=Tb(i.snapshot),y=m?.get(u.ComponentFactoryResolver)??null;d.attachRef=null,d.route=i,d.resolver=y,d.injector=m,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class lM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class DC{constructor(e,t){this.component=e,this.route=t}}function dF(n,e,t){const r=n._root;return Sb(r,e?e._root:null,t,[r.value])}function z_(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.\u0275isInjectable)(n)?e.get(n):n:r}function Sb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=W_(e);return n.children.forEach(d=>{(function fF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const y=function pF(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ug(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ug(n.url,e.url)||!Ou(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!WT(n,e)||!Ou(n.queryParams,e.queryParams);default:return!WT(n,e)}}(d,c,c.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new lM(r)):(c.data=d.data,c._resolvedData=d._resolvedData),Sb(n,e,c.component?m?m.children:null:t,r,i),y&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new DC(m.outlet.component,d))}else d&&Nb(e,m,i),i.canActivateChecks.push(new lM(r)),Sb(n,null,c.component?m?m.children:null:t,r,i)})(d,c[d.value.outlet],t,r.concat([d.value]),i),delete c[d.value.outlet]}),ks(c,(d,m)=>Nb(d,t.getContext(m),i)),i}function Nb(n,e,t){const r=W_(n),i=n.value;ks(r,(c,d)=>{Nb(c,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new DC(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ab(n){return"function"==typeof n}function YT(n){return n instanceof Rp||"EmptyError"===n?.name}const wC=Symbol("INITIAL_VALUE");function q_(){return Mr(n=>YI(n.map(e=>e.pipe($i(1),ei(wC)))).pipe((0,tt.U)(e=>{for(const t of e)if(!0!==t){if(t===wC)return wC;if(!1===t||t instanceof lg)return t}return!0}),jt(e=>e!==wC),$i(1)))}function uM(n){return(0,uk.z)((0,us.b)(e=>{if(dg(e))throw rM(0,e)}),(0,tt.U)(e=>!0===e))}const JT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dM(n,e,t,r,i){const c=XT(n,e,t);return c.matched?function xF(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ht(i.map(d=>{const m=z_(d,n);return sf(function bF(n){return n&&Ab(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(q_(),uM()):ht(!0)}(r=aM(e,r),e,t).pipe((0,tt.U)(d=>!0===d?c:{...JT})):ht(c)}function XT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...JT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||fk)(t,n,e);if(!i)return{...JT};const c={};ks(i.posParams,(m,y)=>{c[y]=m.path});const d=i.consumed.length>0?{...c,...i.consumed[i.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function IC(n,e,t,r,i="corrected"){if(t.length>0&&function PF(n,e,t){return t.some(r=>CC(n,e,r)&&Rc(r)!==mn)}(n,t,r)){const d=new vn(e,function RF(n,e,t,r){const i={};i[mn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&Rc(c)!==mn){const d=new vn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Rc(c)]=d}return i}(n,e,r,new vn(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function kF(n,e,t){return t.some(r=>CC(n,e,r))}(n,t,r)){const d=new vn(n.segments,function OF(n,e,t,r,i,c){const d={};for(const m of r)if(CC(n,t,m)&&!i[Rc(m)]){const y=new vn([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===c?n.segments.length:e.length,d[Rc(m)]=y}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const c=new vn(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function CC(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function hM(n,e,t,r){return!!(Rc(n)===r||r!==mn&&CC(e,t,n))&&("**"===n.path||XT(e,n,t).matched)}function fM(n,e,t){return 0===e.length&&!n.children[t]}const EC=!1;class TC{constructor(e){this.segmentGroup=e||null}}class pM{constructor(e){this.urlTree=e}}function Mb(n){return _b(new TC(n))}function gM(n){return _b(new pM(n))}class BF{constructor(e,t,r,i,c){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=c,this.allowRedirects=!0}apply(){const e=IC(this.urlTree.root,[],[],this.config).segmentGroup,t=new vn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,mn).pipe((0,tt.U)(c=>this.createUrlTree(_C(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(rf(c=>{if(c instanceof pM)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof TC?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,mn).pipe((0,tt.U)(i=>this.createUrlTree(_C(i),e.queryParams,e.fragment))).pipe(rf(i=>{throw i instanceof TC?this.noMatchError(i):i}))}noMatchError(e){return new u.\u0275RuntimeError(4002,EC)}createUrlTree(e,t,r){const i=FT(e);return new lg(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,tt.U)(c=>new vn([],c))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const c of Object.keys(r.children))"primary"===c?i.unshift(c):i.push(c);return(0,Xt.D)(i).pipe(cg(c=>{const d=r.children[c],m=cM(t,c);return this.expandSegmentGroup(e,m,d,c).pipe((0,tt.U)(y=>({segment:y,outlet:c})))}),hi((c,d)=>(c[d.outlet]=d.segment,c),{}),MA())}expandSegment(e,t,r,i,c,d){return(0,Xt.D)(r).pipe(cg(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,c,d).pipe(rf(w=>{if(w instanceof TC)return ht(null);throw w}))),Tc(m=>!!m),rf((m,y)=>{if(YT(m))return fM(t,i,c)?ht(new vn([],{})):Mb(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,c,d,m){return hM(i,t,c,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,c,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,c,d):Mb(t):Mb(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,c,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?gM(c):this.lineralizeSegments(r,c).pipe((0,Ps.z)(d=>{const m=new vn(d,{});return this.expandSegment(e,m,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,d){const{matched:m,consumedSegments:y,remainingSegments:w,positionalParamSegments:A}=XT(t,i,c);if(!m)return Mb(t);const P=this.applyRedirectCommands(y,i.redirectTo,A);return i.redirectTo.startsWith("/")?gM(P):this.lineralizeSegments(i,P).pipe((0,Ps.z)($=>this.expandSegment(e,t,r,$.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,c){return"**"===r.path?(e=aM(r,e),r.loadChildren?(r._loadedRoutes?ht({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,tt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new vn(i,{})))):ht(new vn(i,{}))):dM(t,r,i,e).pipe(Mr(({matched:d,consumedSegments:m,remainingSegments:y})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ps.z)(A=>{const P=A.injector??e,$=A.routes,{segmentGroup:Z,slicedSegments:ue}=IC(t,m,y,$),Ee=new vn(Z.segments,Z.children);if(0===ue.length&&Ee.hasChildren())return this.expandChildren(P,$,Ee).pipe((0,tt.U)(wt=>new vn(m,wt)));if(0===$.length&&0===ue.length)return ht(new vn(m,{}));const xe=Rc(r)===c;return this.expandSegment(P,Ee,$,ue,xe?mn:c,!0).pipe((0,tt.U)(ft=>new vn(m.concat(ft.segments),ft.children)))})):Mb(t)))}getChildConfig(e,t,r){return t.children?ht({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ht({routes:t._loadedRoutes,injector:t._loadedInjector}):function MF(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ht(!0):ht(i.map(d=>{const m=z_(d,n);return sf(function mF(n){return n&&Ab(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(q_(),uM())}(e,t,r).pipe((0,Ps.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,us.b)(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function LF(n){return _b(iM(EC,3))}())):ht({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ht(r);if(i.numberOfChildren>1||!i.children[mn])return _b(new u.\u0275RuntimeError(4e3,EC));i=i.children[mn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const c=this.createSegmentGroup(e,t.root,r,i);return new lg(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ks(e,(i,c)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[c]=t[m]}else r[c]=i}),r}createSegmentGroup(e,t,r,i){const c=this.createSegments(e,t.segments,r,i);let d={};return ks(t.children,(m,y)=>{d[y]=this.createSegmentGroup(e,m,r,i)}),new vn(c,d)}createSegments(e,t,r,i){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,i):this.findOrReturn(c,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.\u0275RuntimeError(4001,EC);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class UF{}class GF{constructor(e,t,r,i,c,d,m,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=c,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m,this.urlSerializer=y}recognize(){const e=IC(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,mn).pipe((0,tt.U)(t=>{if(null===t)return null;const r=new vC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Bd(r,t),c=new tM(this.url,i);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(e){const t=e.value,r=eM(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Xt.D)(Object.keys(r.children)).pipe(cg(i=>{const c=r.children[i],d=cM(t,i);return this.processSegmentGroup(e,d,c,i)}),hi((i,c)=>i&&c?(i.push(...c),i):null),function dk(n,e=!1){return(0,Zt.e)((t,r)=>{let i=0;t.subscribe((0,On.x)(r,c=>{const d=n(c,i++);(d||e)&&r.next(c),!d&&r.complete()}))})}(i=>null!==i),Qm(null),MA(),(0,tt.U)(i=>{if(null===i)return null;const c=mM(i);return function WF(n){n.sort((e,t)=>e.value.outlet===mn?-1:t.value.outlet===mn?1:e.value.outlet.localeCompare(t.value.outlet))}(c),c}))}processSegment(e,t,r,i,c){return(0,Xt.D)(t).pipe(cg(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,c)),Tc(d=>!!d),rf(d=>{if(YT(d))return fM(r,i,c)?ht([]):ht(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,c){if(t.redirectTo||!hM(t,r,i,c))return ht(null);let d;if("**"===t.path){const m=i.length>0?RA(i).parameters:{},y=yM(r)+i.length;d=ht({snapshot:new vC(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bM(t),Rc(t),t.component??t._loadedComponent??null,t,_M(r),y,DM(t),y),consumedSegments:[],remainingSegments:[]})}else d=dM(r,t,i,e).pipe((0,tt.U)(({matched:m,consumedSegments:y,remainingSegments:w,parameters:A})=>{if(!m)return null;const P=yM(r)+y.length;return{snapshot:new vC(y,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bM(t),Rc(t),t.component??t._loadedComponent??null,t,_M(r),P,DM(t),P),consumedSegments:y,remainingSegments:w}}));return d.pipe(Mr(m=>{if(null===m)return ht(null);const{snapshot:y,consumedSegments:w,remainingSegments:A}=m;e=t._injector??e;const P=t._loadedInjector??e,$=function zF(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Z,slicedSegments:ue}=IC(r,w,A,$.filter(xe=>void 0===xe.redirectTo),this.relativeLinkResolution);if(0===ue.length&&Z.hasChildren())return this.processChildren(P,$,Z).pipe((0,tt.U)(xe=>null===xe?null:[new Bd(y,xe)]));if(0===$.length&&0===ue.length)return ht([new Bd(y,[])]);const Ee=Rc(t)===c;return this.processSegment(P,$,Z,ue,Ee?mn:c).pipe((0,tt.U)(xe=>null===xe?null:[new Bd(y,xe)]))}))}}function qF(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function mM(n){const e=[],t=new Set;for(const r of n){if(!qF(r)){e.push(r);continue}const i=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=mM(r.children);e.push(new Bd(r.value,i))}return e.filter(r=>!t.has(r))}function _M(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function yM(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function bM(n){return n.data||{}}function DM(n){return n.resolve||{}}function QF(n,e){return(0,Ps.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ht(t);let c=0;return(0,Xt.D)(i).pipe(cg(d=>function YF(n,e,t,r){const i=n.routeConfig,c=n._resolve;return void 0!==i?.title&&!wM(i)&&(c[yb]=i.title),function JF(n,e,t,r){const i=function XF(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ht({});const c={};return(0,Xt.D)(i).pipe((0,Ps.z)(d=>function eL(n,e,t,r){const i=Tb(e)??r,c=z_(n,i);return sf(c.resolve?c.resolve(e,t):i.runInContext(()=>c(e,t)))}(n[d],e,t,r).pipe(Tc(),(0,us.b)(m=>{c[d]=m}))),xT(1),function pN(n){return(0,tt.U)(()=>n)}(c),rf(d=>YT(d)?Oa.E:_b(d)))}(c,n,e,r).pipe((0,tt.U)(d=>(n._resolvedData=d,n.data=eM(n,t).resolve,i&&wM(i)&&(n.data[yb]=i.title),null)))}(d.route,r,n,e)),(0,us.b)(()=>c++),xT(1),(0,Ps.z)(d=>c===i.length?ht(t):Oa.E))})}function wM(n){return"string"==typeof n.title||null===n.title}function eS(n){return Mr(e=>{const t=n(e);return t?(0,Xt.D)(t).pipe((0,tt.U)(()=>e)):ht(e)})}let IM=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(c=>c.outlet===mn);return r}getResolvedTitleForRoute(t){return t.data[yb]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return(0,u.inject)(CM)},providedIn:"root"}),n})(),CM=(()=>{class n extends IM{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Wn))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tL{}class rL extends class nL{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const NC=new u.InjectionToken("",{providedIn:"root",factory:()=>({})}),tS=new u.InjectionToken("ROUTES");let nS=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ht(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=sf(t.loadComponent()).pipe((0,us.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),OT(()=>{this.componentLoaders.delete(t)})),i=new AA(r,()=>new dr.x).pipe(MT());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ht({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,tt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,A=!1;Array.isArray(m)?w=m:(y=m.create(t).injector,w=OA(y.get(tS,[],u.InjectFlags.Self|u.InjectFlags.Optional)));return{routes:w.map(QT),injector:y}}),OT(()=>{this.childrenLoaders.delete(r)})),d=new AA(c,()=>new dr.x).pipe(MT());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return sf(t()).pipe((0,Ps.z)(r=>r instanceof u.NgModuleFactory||Array.isArray(r)?ht(r):(0,Xt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(u.Compiler))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sL{}class oL{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function aL(n){throw n}function cL(n,e,t){return e.parse("/")}const lL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function TM(){const n=(0,u.inject)(BA),e=(0,u.inject)(Eb),t=(0,u.inject)(I.Location),r=(0,u.inject)(u.Injector),i=(0,u.inject)(u.Compiler),c=(0,u.inject)(tS,{optional:!0})??[],d=(0,u.inject)(NC,{optional:!0})??{},m=(0,u.inject)(CM),y=(0,u.inject)(IM,{optional:!0}),w=(0,u.inject)(sL,{optional:!0}),A=(0,u.inject)(tL,{optional:!0}),P=new Or(null,n,e,t,r,i,OA(c));return w&&(P.urlHandlingStrategy=w),A&&(P.routeReuseStrategy=A),P.titleStrategy=y??m,function dL(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,P),P}let Or=(()=>{class n{constructor(t,r,i,c,d,m,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=c,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new dr.x,this.errorHandler=aL,this.malformedUriErrorHandler=cL,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ht(void 0),this.urlHandlingStrategy=new oL,this.routeReuseStrategy=new rL,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(nS),this.configLoader.onLoadEndListener=$=>this.triggerEvent(new zk($)),this.configLoader.onLoadStartListener=$=>this.triggerEvent(new Wk($)),this.ngModule=d.get(u.NgModuleRef),this.console=d.get(u.\u0275Console);const P=d.get(u.NgZone);this.isNgZoneEnabled=P instanceof u.NgZone&&u.NgZone.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function gk(){return new lg(new vn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=XA(this.currentUrlTree,this.rootComponentType),this.transitions=new ls({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(jt(i=>0!==i.id),(0,tt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Mr(i=>{let c=!1,d=!1;return ht(i).pipe((0,us.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mr(m=>{const y=this.browserUrlTree.toString(),w=!this.navigated||m.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return SM(m.source)&&(this.browserUrlTree=m.extractedUrl),ht(m).pipe(Mr(P=>{const $=this.transitions.getValue();return r.next(new jT(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),$!==this.transitions.getValue()?Oa.E:Promise.resolve(P)}),function jF(n,e,t,r){return Mr(i=>function VF(n,e,t,r,i){return new BF(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,tt.U)(c=>({...i,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,us.b)(P=>{this.currentNavigation={...this.currentNavigation,finalUrl:P.urlAfterRedirects},i.urlAfterRedirects=P.urlAfterRedirects}),function ZF(n,e,t,r,i,c){return(0,Ps.z)(d=>function HF(n,e,t,r,i,c,d="emptyOnly",m="legacy"){return new GF(n,e,t,r,i,d,m,c).recognize().pipe(Mr(y=>null===y?function $F(n){return new pn.y(e=>e.error(n))}(new UF):ht(y)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,c).pipe((0,tt.U)(m=>({...d,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,us.b)(P=>{if(i.targetSnapshot=P.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const Z=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl(Z,P)}this.browserUrlTree=P.urlAfterRedirects}const $=new jk(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);r.next($)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$,extractedUrl:Z,source:ue,restoredState:Ee,extras:xe}=m,ut=new jT($,this.serializeUrl(Z),ue,Ee);r.next(ut);const ft=XA(Z,this.rootComponentType).snapshot;return ht(i={...m,targetSnapshot:ft,urlAfterRedirects:Z,extras:{...xe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),Oa.E}),(0,us.b)(m=>{const y=new Uk(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(y)}),(0,tt.U)(m=>i={...m,guards:dF(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function wF(n,e){return(0,Ps.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:c,canDeactivateChecks:d}}=t;return 0===d.length&&0===c.length?ht({...t,guardsResult:!0}):function IF(n,e,t,r){return(0,Xt.D)(n).pipe((0,Ps.z)(i=>function AF(n,e,t,r,i){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?ht(c.map(m=>{const y=Tb(e)??i,w=z_(m,y);return sf(function vF(n){return n&&Ab(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(Tc())})).pipe(q_()):ht(!0)}(i.component,i.route,t,e,r)),Tc(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Ps.z)(m=>m&&function gF(n){return"boolean"==typeof n}(m)?function CF(n,e,t,r){return(0,Xt.D)(e).pipe(cg(i=>Bt(function TF(n,e){return null!==n&&e&&e(new qk(n)),ht(!0)}(i.route.parent,r),function EF(n,e){return null!==n&&e&&e(new Zk(n)),ht(!0)}(i.route,r),function NF(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(d=>function hF(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>SA(()=>ht(d.guards.map(y=>{const w=Tb(d.node)??t,A=z_(y,w);return sf(function yF(n){return n&&Ab(n.canActivateChild)}(A)?A.canActivateChild(r,n):w.runInContext(()=>A(r,n))).pipe(Tc())})).pipe(q_())));return ht(c).pipe(q_())}(n,i.path,t),function SF(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ht(!0);const i=r.map(c=>SA(()=>{const d=Tb(e)??t,m=z_(c,d);return sf(function _F(n){return n&&Ab(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(Tc())}));return ht(i).pipe(q_())}(n,i.route,t))),Tc(i=>!0!==i,!0))}(r,c,n,e):ht(m)),(0,tt.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,us.b)(m=>{if(i.guardsResult=m.guardsResult,dg(m.guardsResult))throw rM(0,m.guardsResult);const y=new $k(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(y)}),jt(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),eS(m=>{if(m.guards.canActivateChecks.length)return ht(m).pipe((0,us.b)(y=>{const w=new Hk(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),Mr(y=>{let w=!1;return ht(y).pipe(QF(this.paramsInheritanceStrategy,this.ngModule.injector),(0,us.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,us.b)(y=>{const w=new Gk(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),eS(m=>{const y=w=>{const A=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,us.b)(P=>{w.component=P}),(0,tt.U)(()=>{})));for(const P of w.children)A.push(...y(P));return A};return YI(y(m.targetSnapshot.root)).pipe(Qm(),$i(1))}),eS(()=>this.afterPreactivation()),(0,tt.U)(m=>{const y=function eF(n,e,t){const r=Cb(n,e._root,t?t._root:void 0);return new JA(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return i={...m,targetRouterState:y}}),(0,us.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,tt.U)(r=>(new uF(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,us.b)({next(){c=!0},complete(){c=!0}}),OT(()=>{c||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),rf(m=>{if(d=!0,oM(m)){sM(m)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new yC(i.id,this.serializeUrl(i.extractedUrl),m.message,m.cancellationCode);if(r.next(y),sM(m)){const w=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||SM(i.source)};this.scheduleNavigation(w,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new ZA(i.id,this.serializeUrl(i.extractedUrl),m,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(m))}catch(w){i.reject(w)}}return Oa.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},c=t.state?.navigationId?t.state:null;if(c){const m={...c};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(i.state=m)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,c,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(QT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:c,fragment:d,queryParamsHandling:m,preserveFragment:y}=r,w=i||this.routerState.root,A=y?this.currentUrlTree.fragment:d;let P=null;switch(m){case"merge":P={...this.currentUrlTree.queryParams,...c};break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=c||null}return null!==P&&(P=this.removeEmptyProps(P)),Pk(w,this.currentUrlTree,t,P,A??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=dg(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function hL(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.\u0275RuntimeError(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...lL}:!1===r?{...uL}:r,dg(t))return kA(this.currentUrlTree,t,i);const c=this.parseUrl(t);return kA(this.currentUrlTree,c,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const c=t[i];return null!=c&&(r[i]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new hg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,c,d){if(this.disposed)return Promise.resolve(!1);let m,y,w;d?(m=d.resolve,y=d.reject,w=d.promise):w=new Promise(($,Z)=>{m=$,y=Z});const A=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),P=i&&i.\u0275routerPageId?i.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):P=0,this.setTransition({id:A,targetPageId:P,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:m,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch($=>Promise.reject($))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),c={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",c):this.location.go(i,"",c)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const c=new yC(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(c),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.\u0275\u0275invalidFactory()},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return TM()},providedIn:"root"}),n})();function SM(n){return"imperative"!==n}let rS=(()=>{class n{constructor(t,r,i,c,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=c,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new dr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.\u0275coerceToBoolean)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.\u0275coerceToBoolean)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.\u0275coerceToBoolean)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Or),u.\u0275\u0275directiveInject(af),u.\u0275\u0275injectAttribute("tabindex"),u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})(),fg=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new dr.x,this.subscription=t.events.subscribe(c=>{c instanceof hg&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.\u0275coerceToBoolean)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.\u0275coerceToBoolean)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.\u0275coerceToBoolean)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,c,d){return!!(0!==t||r||i||c||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Or),u.\u0275\u0275directiveInject(af),u.\u0275\u0275directiveInject(I.LocationStrategy))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&u.\u0275\u0275attribute("target",r.target)("href",r.href,u.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})(),NM=(()=>{class n{constructor(t,r,i,c,d,m){this.router=t,this.element=r,this.renderer=i,this.cdr=c,this.link=d,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.EventEmitter,this.routerEventsSubscription=t.events.subscribe(y=>{y instanceof hg&&this.update()})}ngAfterContentInit(){ht(this.links.changes,this.linksWithHrefs.changes,ht(null)).pipe((0,Xr.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Xt.D)(t).pipe((0,Xr.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function fL(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Or),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ChangeDetectorRef),u.\u0275\u0275directiveInject(rS,8),u.\u0275\u0275directiveInject(fg,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(u.\u0275\u0275contentQuery(i,rS,5),u.\u0275\u0275contentQuery(i,fg,5)),2&t){let c;u.\u0275\u0275queryRefresh(c=u.\u0275\u0275loadQuery())&&(r.links=c),u.\u0275\u0275queryRefresh(c=u.\u0275\u0275loadQuery())&&(r.linksWithHrefs=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})();class AM{}let pL=(()=>{class n{constructor(t,r,i,c,d){this.router=t,this.injector=i,this.preloadingStrategy=c,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(jt(t=>t instanceof hg),cg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,u.createEnvironmentInjector)(c.providers,t,`Route: ${c.path}`));const d=c._injector??t,m=c._loadedInjector??d;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?i.push(this.preloadConfig(d,c)):(c.children||c._loadedRoutes)&&i.push(this.processRoutes(m,c.children??c._loadedRoutes))}return(0,Xt.D)(i).pipe((0,Xr.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ht(null);const c=i.pipe((0,Ps.z)(d=>null===d?ht(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Xt.D)([c,d]).pipe((0,Xr.J)())}return c})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Or),u.\u0275\u0275inject(u.Compiler),u.\u0275\u0275inject(u.EnvironmentInjector),u.\u0275\u0275inject(AM),u.\u0275\u0275inject(nS))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iS=new u.InjectionToken("");let MM=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hg&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof QA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new QA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.\u0275\u0275invalidFactory()},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function K_(n,e){return{\u0275kind:n,\u0275providers:e}}function sS(n){return[{provide:tS,multi:!0,useValue:n}]}function OM(){const n=(0,u.inject)(u.Injector);return e=>{const t=n.get(u.ApplicationRef);if(e!==t.components[0])return;const r=n.get(Or),i=n.get(RM);1===n.get(oS)&&r.initialNavigation(),n.get(PM,null,u.InjectFlags.Optional)?.setUpPreloading(),n.get(iS,null,u.InjectFlags.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const RM=new u.InjectionToken("",{factory:()=>new dr.x}),oS=new u.InjectionToken("",{providedIn:"root",factory:()=>1});const PM=new u.InjectionToken("");function yL(n){return K_(0,[{provide:PM,useExisting:pL},{provide:AM,useExisting:n}])}const kM=new u.InjectionToken("ROUTER_FORROOT_GUARD"),vL=[I.Location,{provide:BA,useClass:PT},{provide:Or,useFactory:TM},Eb,{provide:af,useFactory:function xM(n){return n.routerState.root},deps:[Or]},nS];function bL(){return new u.NgProbeToken("Router",Or)}let FM=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[vL,[],sS(t),{provide:kM,useFactory:CL,deps:[[Or,new u.Optional,new u.SkipSelf]]},{provide:NC,useValue:r||{}},r?.useHash?{provide:I.LocationStrategy,useClass:I.HashLocationStrategy}:{provide:I.LocationStrategy,useClass:I.PathLocationStrategy},{provide:iS,useFactory:()=>{const n=(0,u.inject)(Or),e=(0,u.inject)(I.ViewportScroller),t=(0,u.inject)(NC);return t.scrollOffset&&e.setOffset(t.scrollOffset),new MM(n,e,t)}},r?.preloadingStrategy?yL(r.preloadingStrategy).\u0275providers:[],{provide:u.NgProbeToken,multi:!0,useFactory:bL},r?.initialNavigation?EL(r):[],[{provide:LM,useFactory:OM},{provide:u.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:LM}]]}}static forChild(t){return{ngModule:n,providers:[sS(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(kM,8))},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[KT]}),n})();function CL(n){return"guarded"}function EL(n){return["disabled"===n.initialNavigation?K_(3,[{provide:u.APP_INITIALIZER,multi:!0,useFactory:()=>{const e=(0,u.inject)(Or);return()=>{e.setUpLocationChangeListener()}}},{provide:oS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?K_(2,[{provide:oS,useValue:0},{provide:u.APP_INITIALIZER,multi:!0,deps:[u.Injector],useFactory:e=>{const t=e.get(I.LOCATION_INITIALIZED,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(c=>{const d=e.get(Or),m=e.get(RM);(function i(c){e.get(Or).events.pipe(jt(m=>m instanceof hg||m instanceof yC||m instanceof ZA),(0,tt.U)(m=>m instanceof hg||m instanceof yC&&(0===m.code||1===m.code)&&null),jt(m=>null!==m),$i(1)).subscribe(()=>{c()})})(()=>{c(!0),r=!0}),d.afterPreactivation=()=>(c(!0),r||m.closed?ht(void 0):m),d.initialNavigation()}))}}]).\u0275providers:[]]}const LM=new u.InjectionToken("");let OC=(()=>{class n{constructor(t){this.db=t,this.id="1"}getConfiguracion(){return this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracion=this.configuracionDoc.valueChanges(),this.configuracion}modificarConfiguracion(t){this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracionDoc.update(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(__))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),SL=(()=>{class n{constructor(t,r){this.router=t,this.configuracionServicio=r,this.permitirRegistro=!1}ngOnInit(){this.configuracionServicio.getConfiguracion().subscribe(t=>{this.permitirRegistro=t.permitirRegistro})}guardar(){this.configuracionServicio.modificarConfiguracion({permitirRegistro:this.permitirRegistro}),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Or),u.\u0275\u0275directiveInject(OC))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-configuracion"]],decls:34,vars:3,consts:[["id","main-header",1,"py-2","bg-success","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-light","btn-block"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block",3,"click"],[1,"fas","fa-check"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","name","permitirRegistro",1,"form-check-input",3,"ngModel","checked","ngModelChange"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6," Configuraci\xf3n"),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1)(9,"div",2)(10,"div",6)(11,"a",7),u.\u0275\u0275element(12,"i",8),u.\u0275\u0275text(13," Regresar al inicio "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(14,"div",6)(15,"button",9),u.\u0275\u0275listener("click",function(){return r.guardar()}),u.\u0275\u0275element(16,"i",10),u.\u0275\u0275text(17," Guardar cambios "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(18,"section")(19,"div",1)(20,"div",2)(21,"div",11)(22,"div",12)(23,"div",13)(24,"h4"),u.\u0275\u0275text(25," Editar configuraci\xf3n"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(26,"div",14)(27,"fieldset",15)(28,"legend"),u.\u0275\u0275text(29,"Permitir registro de usuarios"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(30,"div",16)(31,"label",17)(32,"input",18),u.\u0275\u0275listener("ngModelChange",function(c){return r.permitirRegistro=c}),u.\u0275\u0275elementEnd(),u.\u0275\u0275text(33),u.\u0275\u0275elementEnd()()()()()()()()()),2&t&&(u.\u0275\u0275advance(32),u.\u0275\u0275property("ngModel",r.permitirRegistro)("checked",r.permitirRegistro),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate1(" ",r.permitirRegistro?"Si":"No"," "))},dependencies:[fg,x0,Od,p]}),n})(),aS=(()=>{class n{constructor(t){this.db=t,this.productosColeccion=t.collection("productos",r=>r.orderBy("nombre","asc"))}getProductos(){return this.productos=this.productosColeccion.snapshotChanges().pipe((0,tt.U)(t=>t.map(r=>{const i=r.payload.doc.data();return i.id=r.payload.doc.id,i}))),this.productos}agregarProducto(t){this.productosColeccion.add(t)}getProducto(t){return this.productoDoc=this.db.doc(`productos/${t}`),this.producto=this.productoDoc.snapshotChanges().pipe((0,tt.U)(r=>{if(!1===r.payload.exists)return null;{const i=r.payload.data();return i.id=r.payload.id,i}})),this.producto}modificarProducto(t){this.productoDoc=this.db.doc(`productos/${t.id}`),this.productoDoc.update(t)}eliminarProducto(t){this.productoDoc=this.db.doc(`productos/${t.id}`),this.productoDoc.delete()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(__))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const cS=function(n){return{"is-invalid":n}};let NL=(()=>{class n{constructor(t,r,i,c){this.productosServicio=t,this.flashMessages=r,this.router=i,this.route=c,this.producto={nombre:"",cantidad:0,precio:0}}ngOnInit(){this.id=this.route.snapshot.params.id,this.productosServicio.getProducto(this.id)?.subscribe(t=>{this.producto=t})}guardar({value:t,valid:r}){r?(t.id=this.id,this.productosServicio.modificarProducto(t),this.router.navigate(["/"])):this.flashMessages.show("Por favor llena el formulario correctamente",{cssClass:"alert-danger",timeout:4e3})}eliminar(){confirm("\xbfSeguro que desea eliminar el cliente?")&&(this.productosServicio.eliminarProducto(this.producto),this.router.navigate(["/"]))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(aS),u.\u0275\u0275directiveInject(Pa.GQ),u.\u0275\u0275directiveInject(Or),u.\u0275\u0275directiveInject(af))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-editar-producto"]],decls:57,vars:16,consts:[["id","main-header",1,"py-2","bg-success","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],[3,"ngSubmit"],["productoForm","ngForm"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-light","btn-block"],[1,"fa","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block"],[1,"fas","fa-check"],["href","#",1,"btn","btn-danger","btn-block",3,"click"],[1,"fa","fa-trash"],["id","details"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],["for","nombre"],["type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","cantidad"],["type","number","name","cantidad","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["cantidad","ngModel"],["for","precio"],["type","number","name","precio","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["precio","ngModel"]],template:function(t,r){if(1&t){const i=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1")(5,"i",4),u.\u0275\u0275text(6,"Editar Producto"),u.\u0275\u0275elementEnd()()()()()(),u.\u0275\u0275elementStart(7,"form",5,6),u.\u0275\u0275listener("ngSubmit",function(){u.\u0275\u0275restoreView(i);const d=u.\u0275\u0275reference(8);return u.\u0275\u0275resetView(r.guardar(d.form))}),u.\u0275\u0275element(9,"flash-messages"),u.\u0275\u0275elementStart(10,"section",7)(11,"div",1)(12,"div",2)(13,"div",8)(14,"a",9),u.\u0275\u0275element(15,"i",10),u.\u0275\u0275text(16,"Regresar al inicio "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(17,"div",8)(18,"button",11),u.\u0275\u0275element(19,"i",12),u.\u0275\u0275text(20,"Guardar Cambios "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(21,"div",8)(22,"a",13),u.\u0275\u0275listener("click",function(){return r.eliminar()}),u.\u0275\u0275element(23,"i",14),u.\u0275\u0275text(24,"Eliminar Producto "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(25,"section",15)(26,"div",1)(27,"div",2)(28,"div",16)(29,"div",17)(30,"div",18)(31,"h4"),u.\u0275\u0275text(32,"Editar Producto"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(33,"div",19)(34,"div",20)(35,"label",21),u.\u0275\u0275text(36,"Nombre Producto"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(37,"input",22,23),u.\u0275\u0275listener("ngModelChange",function(d){return r.producto.nombre=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(39,"div",24),u.\u0275\u0275text(40," Nombre requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(41,"div",24),u.\u0275\u0275text(42," Debe contener al menos 2 caract\xe9res "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(43,"div",20)(44,"label",25),u.\u0275\u0275text(45,"Cantidad"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(46,"input",26,27),u.\u0275\u0275listener("ngModelChange",function(d){return r.producto.cantidad=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(48,"div",24),u.\u0275\u0275text(49," Cantidad requerido "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(50,"div",20)(51,"label",28),u.\u0275\u0275text(52,"Precio"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(53,"input",29,30),u.\u0275\u0275listener("ngModelChange",function(d){return r.producto.precio=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(55,"div",24),u.\u0275\u0275text(56," Precio requerido "),u.\u0275\u0275elementEnd()()()()()()()()()}if(2&t){const i=u.\u0275\u0275reference(38),c=u.\u0275\u0275reference(47),d=u.\u0275\u0275reference(54);u.\u0275\u0275advance(37),u.\u0275\u0275property("ngModel",r.producto.nombre)("ngClass",u.\u0275\u0275pureFunction1(10,cS,i.errors&&i.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.producto.cantidad)("ngClass",u.\u0275\u0275pureFunction1(12,cS,c.errors&&c.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=c.errors&&c.errors.required)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.producto.precio)("ngClass",u.\u0275\u0275pureFunction1(14,cS,d.errors&&d.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required))}},dependencies:[I.NgClass,fg,v,xd,E,Od,Qh,eg,QI,p,Pd,Pa.cS]}),n})(),RC=(()=>{class n{constructor(t){this.authService=t}login(t,r){return new Promise((i,c)=>{this.authService.signInWithEmailAndPassword(t,r).then(d=>i(d),d=>c(d))})}getAuth(){return this.authService.authState.pipe((0,tt.U)(t=>t))}logout(){this.authService.signOut()}registrarse(t,r){return new Promise((i,c)=>{this.authService.createUserWithEmailAndPassword(t,r).then(d=>i(d),d=>c(d))})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Zh))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),AL=(()=>{class n{constructor(t,r,i){this.router=t,this.flashMessages=r,this.loginService=i}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}login(){this.loginService.login(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{this.flashMessages.show(t.messagese,{cssClass:"alert-danger",timeout:4e3})})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Or),u.\u0275\u0275directiveInject(Pa.GQ),u.\u0275\u0275directiveInject(RC))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-login"]],decls:29,vars:2,consts:[["id","main-header",1,"py-2","bg-success","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","login"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","login",1,"btn","btn-primary","btn-block"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1")(5,"i",4),u.\u0275\u0275text(6,"Login"),u.\u0275\u0275elementEnd()()()()()(),u.\u0275\u0275elementStart(7,"section",5),u.\u0275\u0275element(8,"div",2),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(9,"flash-messages"),u.\u0275\u0275elementStart(10,"section",6)(11,"div",1)(12,"div",2)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h4"),u.\u0275\u0275text(17,"Login"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(18,"div",10)(19,"form",11),u.\u0275\u0275listener("submit",function(){return r.login()}),u.\u0275\u0275elementStart(20,"div",12)(21,"label",13),u.\u0275\u0275text(22,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(23,"input",14),u.\u0275\u0275listener("ngModelChange",function(c){return r.email=c}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(24,"div",12)(25,"label",15),u.\u0275\u0275text(26,"Password"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(27,"input",16),u.\u0275\u0275listener("ngModelChange",function(c){return r.password=c}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(28,"input",17),u.\u0275\u0275elementEnd()()()()()()()),2&t&&(u.\u0275\u0275advance(23),u.\u0275\u0275property("ngModel",r.email),u.\u0275\u0275advance(4),u.\u0275\u0275property("ngModel",r.password))},dependencies:[v,xd,Od,Qh,eg,p,Pd,Pa.cS]}),n})(),ML=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-no-encontrado"]],decls:2,vars:0,template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"p"),u.\u0275\u0275text(1,"no-encontrado works!"),u.\u0275\u0275elementEnd())}}),n})(),xL=(()=>{class n{constructor(t,r,i){this.router=t,this.flashMessages=r,this.loginService=i}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}registro(){this.loginService.registrarse(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{this.flashMessages.show(t.messagese,{cssClass:"alert-danger",timeout:4e3})})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Or),u.\u0275\u0275directiveInject(Pa.GQ),u.\u0275\u0275directiveInject(RC))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-registro"]],decls:30,vars:2,consts:[["id","main-header",1,"py-2","bg-success","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","registro"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","registrarse",1,"btn","btn-primary","btn-block"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6," Registro "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1),u.\u0275\u0275element(9,"div",2),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(10,"flash-messages"),u.\u0275\u0275elementStart(11,"section",6)(12,"div",1)(13,"div",2)(14,"div",7)(15,"div",8)(16,"div",9)(17,"h4"),u.\u0275\u0275text(18," Registro "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(19,"div",10)(20,"form",11),u.\u0275\u0275listener("submit",function(){return r.registro()}),u.\u0275\u0275elementStart(21,"div",12)(22,"label",13),u.\u0275\u0275text(23,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(24,"input",14),u.\u0275\u0275listener("ngModelChange",function(c){return r.email=c}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(25,"div",12)(26,"label",15),u.\u0275\u0275text(27,"Password"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(28,"input",16),u.\u0275\u0275listener("ngModelChange",function(c){return r.password=c}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(29,"input",17),u.\u0275\u0275elementEnd()()()()()()()),2&t&&(u.\u0275\u0275advance(24),u.\u0275\u0275property("ngModel",r.email),u.\u0275\u0275advance(4),u.\u0275\u0275property("ngModel",r.password))},dependencies:[v,xd,Od,Qh,eg,p,Pd,Pa.cS]}),n})();const OL=["productoForm"],RL=["botonCerrar"];function PL(n,e){if(1&n&&(u.\u0275\u0275elementStart(0,"tr")(1,"td"),u.\u0275\u0275text(2),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(3,"td"),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(5,"td"),u.\u0275\u0275text(6),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(7,"td"),u.\u0275\u0275text(8),u.\u0275\u0275pipe(9,"currency"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(10,"td")(11,"a",38)(12,"i",39),u.\u0275\u0275text(13,"Editar"),u.\u0275\u0275elementEnd()()()()),2&n){const t=e.$implicit,r=e.index;u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(r+1),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1("",t.nombre," "),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1("",t.cantidad," "),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1(" ",u.\u0275\u0275pipeBind3(9,5,t.precio,"MXN","$")," "),u.\u0275\u0275advance(3),u.\u0275\u0275propertyInterpolate1("routerLink","/producto/editar/",t.id,"")}}const lS=function(n){return{"is-invalid":n}};let kL=(()=>{class n{constructor(t,r){this.productosServicio=t,this.flashMessages=r,this.producto={nombre:"",cantidad:0,precio:0}}ngOnInit(){this.productosServicio.getProductos().subscribe(t=>{this.productos=t})}agregar({value:t,valid:r}){r?(this.productosServicio.agregarProducto(t),this.productoForm.resetForm(),this.cerrarModal()):this.flashMessages.show("Por favor llena el formulario correctamente",{cssClass:"alert-danger",timeout:4e3})}cerrarModal(){this.botonCerrar.nativeElement.click()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(aS),u.\u0275\u0275directiveInject(Pa.GQ))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-productos"]],viewQuery:function(t,r){if(1&t&&(u.\u0275\u0275viewQuery(OL,5),u.\u0275\u0275viewQuery(RL,5)),2&t){let i;u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r.productoForm=i.first),u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r.botonCerrar=i.first)}},decls:74,vars:17,consts:[["id","actions",1,"py-4","mb-4","bg-light","text-center"],[1,"titulo"],["id","productos"],[1,"container"],[1,"row"],[1,"col"],[1,"card"],[1,"card-header"],[1,"table","table-dark","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["id","actions",1,"py-4","mb-4","bg-white"],[1,"col-md-3"],["href","#","data-bs-toggle","modal","data-bs-target","#agregarProductoModal",1,"btn","btn-primary","btn-block"],[1,"fas","fa-plus"],["id","agregarProductoModal",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-success","text-white"],[1,"modal-title"],["data-bs-dismiss","modal",1,"close"],["botonCerrar",""],[3,"ngSubmit"],["productoForm","ngForm"],[1,"modal-body"],[1,"form-group"],["for","nombre"],["type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","cantidad"],["type","number","name","cantidad","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["cantidad","ngModel"],["for","precio"],["type","number","name","precio","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["precio","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-light",3,"routerLink"],[1,"fas","fa-angle-double-right"]],template:function(t,r){if(1&t){const i=u.\u0275\u0275getCurrentView();u.\u0275\u0275element(0,"br"),u.\u0275\u0275elementStart(1,"section",0)(2,"div",1)(3,"h2"),u.\u0275\u0275text(4,"Tabla de Productos"),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275elementStart(5,"section",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"h4"),u.\u0275\u0275text(12,"Lista de Productos"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(13,"table",8)(14,"thead",9)(15,"tr")(16,"th"),u.\u0275\u0275text(17,"#"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(18,"th"),u.\u0275\u0275text(19,"Nombre Producto"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(20,"th"),u.\u0275\u0275text(21,"Cantidad"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(22,"th"),u.\u0275\u0275text(23,"Precio"),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(24,"th"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(25,"tbody"),u.\u0275\u0275template(26,PL,14,9,"tr",10),u.\u0275\u0275elementEnd()()()()()()(),u.\u0275\u0275elementStart(27,"section",11)(28,"div",3)(29,"div",4)(30,"div",12)(31,"a",13),u.\u0275\u0275element(32,"i",14),u.\u0275\u0275text(33,"Agregar Producto "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(34,"div",15)(35,"div",16)(36,"div",17)(37,"div",18)(38,"h5",19),u.\u0275\u0275text(39,"Agregar Producto "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(40,"button",20,21)(42,"span"),u.\u0275\u0275text(43,"\xd7"),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275element(44,"flash-messages"),u.\u0275\u0275elementStart(45,"form",22,23),u.\u0275\u0275listener("ngSubmit",function(){u.\u0275\u0275restoreView(i);const d=u.\u0275\u0275reference(46);return u.\u0275\u0275resetView(r.agregar(d.form))}),u.\u0275\u0275elementStart(47,"div",24)(48,"div",25)(49,"label",26),u.\u0275\u0275text(50,"Nombre Producto"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(51,"input",27,28),u.\u0275\u0275listener("ngModelChange",function(d){return r.producto.nombre=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(53,"div",29),u.\u0275\u0275text(54," Nombre requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(55,"div",29),u.\u0275\u0275text(56," Debe contener al menos 2 caract\xe9res "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(57,"div",25)(58,"label",30),u.\u0275\u0275text(59,"Cantidad"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(60,"input",31,32),u.\u0275\u0275listener("ngModelChange",function(d){return r.producto.cantidad=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(62,"div",29),u.\u0275\u0275text(63," Cantidad requerido "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(64,"div",25)(65,"label",33),u.\u0275\u0275text(66,"Precio"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(67,"input",34,35),u.\u0275\u0275listener("ngModelChange",function(d){return r.producto.precio=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(69,"div",29),u.\u0275\u0275text(70," Precio requerido "),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275elementStart(71,"div",36)(72,"button",37),u.\u0275\u0275text(73,"Guardar"),u.\u0275\u0275elementEnd()()()()()()}if(2&t){const i=u.\u0275\u0275reference(52),c=u.\u0275\u0275reference(61),d=u.\u0275\u0275reference(68);u.\u0275\u0275advance(26),u.\u0275\u0275property("ngForOf",r.productos),u.\u0275\u0275advance(25),u.\u0275\u0275property("ngModel",r.producto.nombre)("ngClass",u.\u0275\u0275pureFunction1(11,lS,i.errors&&i.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.producto.cantidad)("ngClass",u.\u0275\u0275pureFunction1(13,lS,c.errors&&c.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=c.errors&&c.errors.required)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.producto.precio)("ngClass",u.\u0275\u0275pureFunction1(15,lS,d.errors&&d.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required))}},dependencies:[I.NgClass,I.NgForOf,fg,v,xd,E,Od,Qh,eg,QI,p,Pd,Pa.cS,I.CurrencyPipe]}),n})(),FL=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-tablero"]],decls:14,vars:0,consts:[["id","main-header",1,"py-2","bg-success","text-white"],[1,"container"],[1,"imagen"],[1,"row"],[1,"col-md-8"],[1,"fas","fa-paperclip"],["src","https://filogb.com/wp-content/uploads/2020/08/Header_POst_BAcklist.jpg","alt","...",1,"img-fluid"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1),u.\u0275\u0275element(2,"div",2),u.\u0275\u0275elementStart(3,"div",3)(4,"div",4)(5,"h1")(6,"i",5),u.\u0275\u0275text(7,"Office Max"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(8,"p"),u.\u0275\u0275text(9,"P\xe1gina web dedicada a productos de Oficina"),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275element(10,"br"),u.\u0275\u0275elementStart(11,"div",2),u.\u0275\u0275element(12,"img",6),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(13,"app-productos"))},dependencies:[kL]}),n})(),PC=(()=>{class n{constructor(t,r){this.router=t,this.afAuth=r}canActivate(){return this.afAuth.authState.pipe((0,tt.U)(t=>!!t||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Or),u.\u0275\u0275inject(Zh))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),VM=(()=>{class n{constructor(t,r){this.router=t,this.configuracionServicio=r}canActivate(){return this.configuracionServicio.getConfiguracion().pipe((0,tt.U)(t=>!!t.permitirRegistro||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Or),u.\u0275\u0275inject(OC))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const LL=[{path:"",component:FL,canActivate:[PC]},{path:"login",component:AL},{path:"registrarse",component:xL,canActivate:[VM]},{path:"configuracion",component:SL,canActivate:[PC]},{path:"producto/editar/:id",component:NL,canActivate:[PC]},{path:"**",component:ML}];let VL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[FM.forRoot(LL),FM]}),n})();function BL(n,e){1&n&&(u.\u0275\u0275elementStart(0,"ul",10)(1,"li",11)(2,"a",12),u.\u0275\u0275text(3," Inicio"),u.\u0275\u0275elementEnd()()())}function jL(n,e){if(1&n){const t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"li",13)(1,"a",14),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.isDropdownCollapsed=!i.isDropdownCollapsed)}),u.\u0275\u0275element(2,"i",15),u.\u0275\u0275text(3),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"div",16)(5,"a",17),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.isDropdownCollapsed=!i.isDropdownCollapsed)}),u.\u0275\u0275element(6,"i",18),u.\u0275\u0275text(7,"Configuraci\xf3n "),u.\u0275\u0275elementEnd()()()}if(2&n){const t=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275attribute("aria-expanded",!t.isCollapsed),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1("Bienvenido ",t.loggedInUser," "),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngbCollapse",t.isDropdownCollapsed)}}function UL(n,e){1&n&&(u.\u0275\u0275elementStart(0,"li",19)(1,"a",20),u.\u0275\u0275element(2,"i",15),u.\u0275\u0275text(3,"Login "),u.\u0275\u0275elementEnd()())}function $L(n,e){1&n&&(u.\u0275\u0275elementStart(0,"li",19)(1,"a",21),u.\u0275\u0275element(2,"i",15),u.\u0275\u0275text(3,"Registro "),u.\u0275\u0275elementEnd()())}function HL(n,e){if(1&n){const t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"li",19)(1,"a",22),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.logout())}),u.\u0275\u0275element(2,"i",23),u.\u0275\u0275text(3,"Salir "),u.\u0275\u0275elementEnd()()}}let GL=(()=>{class n{constructor(t,r,i){this.loginService=t,this.router=r,this.configuracionServicio=i,this.isCollapsed=!0,this.isDropdownCollapsed=!0}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t?(this.isLoggedIn=!0,this.loggedInUser=t.email):this.isLoggedIn=!1}),this.configuracionServicio.getConfiguracion().subscribe(t=>{this.permitirRegistro=t.permitirRegistro})}logout(){this.loginService.logout(),this.isLoggedIn=!1,this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(RC),u.\u0275\u0275directiveInject(Or),u.\u0275\u0275directiveInject(OC))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-cabecero"]],decls:13,vars:6,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark","p-0"],[1,"container"],["routerLink","/",1,"navbar-brand"],["data-bs-toggle","collapse","data-bs-target","#navbarCollapse",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse",3,"ngbCollapse"],["class","navbar-nav",4,"ngIf"],[1,"navbar-nav","ml-auto"],["class","nav-item dropdown mr-3 ",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item","px-2"],["routerLink","/",1,"nav-link"],[1,"nav-item","dropdown","mr-3"],["aria-controls","dropdownCollapse",1,"nav-link","dropdown-toggle",3,"click"],[1,"fas","fa-user"],["id","dropdownCollapse",1,"dropdown-menu",3,"ngbCollapse"],["routerLink","/configuracion",1,"dropdown-item",3,"click"],[1,"fas","fa-cog"],[1,"nav-item"],["routerLink","/login","routerLinkActive","router-link-active",1,"nav-link"],["routerLink","/registrarse","routerLinkActive","router-link-active",1,"nav-link"],[1,"nav-link",2,"cursor","pointer",3,"click"],[1,"fas","fa-times"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"nav",0)(1,"div",1)(2,"a",2),u.\u0275\u0275text(3,"Productos de Oficina"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"button",3),u.\u0275\u0275element(5,"span",4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(6,"div",5),u.\u0275\u0275template(7,BL,4,0,"ul",6),u.\u0275\u0275elementStart(8,"ul",7),u.\u0275\u0275template(9,jL,8,3,"li",8),u.\u0275\u0275template(10,UL,4,0,"li",9),u.\u0275\u0275template(11,$L,4,0,"li",9),u.\u0275\u0275template(12,HL,4,0,"li",9),u.\u0275\u0275elementEnd()()()()),2&t&&(u.\u0275\u0275advance(6),u.\u0275\u0275property("ngbCollapse",r.isCollapsed),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",r.isLoggedIn),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",r.isLoggedIn),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",!r.isLoggedIn&&r.permitirRegistro),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",!r.isLoggedIn&&r.permitirRegistro),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",r.isLoggedIn))},dependencies:[I.NgIf,fg,NM,lP,TT]}),n})(),WL=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-pie-pagina"]],decls:6,vars:0,consts:[["id","pie-pagina",1,"bg-dark","text-white","mt-5","p-5"],[1,"container"],[1,"row"],[1,"col"],[1,"lead","text-center"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),u.\u0275\u0275text(5," Copyright \xa9 VictorLopezV.com.mx "),u.\u0275\u0275elementEnd()()()()())}}),n})(),zL=(()=>{class n{constructor(){this.title="productos-oficina"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&u.\u0275\u0275element(0,"app-cabecero")(1,"router-outlet")(2,"app-pie-pagina")},dependencies:[qT,GL,WL]}),n})(),qL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n,bootstrap:[zL]}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[aS,RC,PC,OC,VM],imports:[hs,VL,lk,qe.hO.initializeApp(Ze_firestore,"productos-oficina"),LE,mI,cN,Pa.qz.forRoot()]}),n})();(0,u.enableProdMode)(),Qr().bootstrapModule(qL).catch(n=>console.error(n))},5867:(yt,Se,V)=>{"use strict";V.d(Se,{C6:()=>I.getApps,Mq:()=>I.getApp});var I=V(9681);(0,I.registerVersion)("firebase","9.13.0","app")},127:(yt,Se,V)=>{"use strict";V.d(Se,{Z:()=>I.Z});var I=V(3942);I.Z.registerVersion("firebase","9.13.0","app-compat")},1277:(yt,Se,V)=>{"use strict";V.r(Se);var I=V(5861),u=V(3942),B=V(2090),ae=V(9681),se=V(1877),pe=V(655),De=V(4859);const ce=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ge=function we(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new se.Yd("@firebase/auth");function ot(_,...f){Je.logLevel<=se.in.ERROR&&Je.error(`Auth (${ae.SDK_VERSION}): ${_}`,...f)}function ke(_,...f){throw Xe(_,...f)}function Me(_,...f){return Xe(_,...f)}function Pe(_,f,g){const b=Object.assign(Object.assign({},Ge()),{[f]:g});return new B.LL("auth","Firebase",b).create(f,{appName:_.name})}function Ye(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&ke(_,"argument-error"),Pe(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(_,...f){if("string"!=typeof _){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return ge.create(_,...f)}function q(_,f,...g){if(!_)throw Xe(f,...g)}function Ne(_){const f="INTERNAL ASSERTION FAILED: "+_;throw ot(f),new Error(f)}function ee(_,f){_||Ne(f)}const ie=new Map;function fe(_){ee(_ instanceof Function,"Expected a class definition");let f=ie.get(_);return f?(ee(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ie.set(_,f),f)}function We(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function bt(){return"http:"===rn()||"https:"===rn()}function rn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class bn{constructor(f,g){this.shortDelay=f,this.longDelay=g,ee(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Qt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function En(_,f){ee(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class sn{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const on={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},vr=new bn(3e4,6e4);function $t(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function In(_,f,g,b){return ds.apply(this,arguments)}function ds(){return(ds=(0,I.Z)(function*(_,f,g,b,x={}){return Kr(_,x,(0,I.Z)(function*(){let L={},J={};b&&("GET"===f?J=b:L={body:JSON.stringify(b)});const Ce=(0,B.xO)(Object.assign({key:_.config.apiKey},J)).slice(1),Qe=yield _._getAdditionalHeaders();return Qe["Content-Type"]="application/json",_.languageCode&&(Qe["X-Firebase-Locale"]=_.languageCode),sn.fetch()(ui(_,_.config.apiHost,g,Ce),Object.assign({method:f,headers:Qe,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Kr(_,f,g){return $r.apply(this,arguments)}function $r(){return($r=(0,I.Z)(function*(_,f,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},on),f);try{const x=new Rr(_),L=yield Promise.race([g(),x.promise]);x.clearNetworkTimeout();const J=yield L.json();if("needConfirmation"in J)throw Qr(_,"account-exists-with-different-credential",J);if(L.ok&&!("errorMessage"in J))return J;{const Ce=L.ok?J.errorMessage:J.error.message,[Qe,pt]=Ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qe)throw Qr(_,"credential-already-in-use",J);if("EMAIL_EXISTS"===Qe)throw Qr(_,"email-already-in-use",J);if("USER_DISABLED"===Qe)throw Qr(_,"user-disabled",J);const At=b[Qe]||Qe.toLowerCase().replace(/[_\s]+/g,"-");if(pt)throw Pe(_,At,pt);ke(_,At)}}catch(x){if(x instanceof B.ZR)throw x;ke(_,"network-request-failed")}})).apply(this,arguments)}function Zr(_,f,g,b){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,I.Z)(function*(_,f,g,b,x={}){const L=yield In(_,f,g,b,x);return"mfaPendingCredential"in L&&ke(_,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function ui(_,f,g,b){const x=`${f}${g}?${b}`;return _.config.emulator?En(_.config,x):`${_.config.apiScheme}://${x}`}class Rr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(Me(this.auth,"network-request-failed")),vr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qr(_,f,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const x=Me(_,f,b);return x.customData._tokenResponse=g,x}function at(){return(at=(0,I.Z)(function*(_,f){return In(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function br(_,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,I.Z)(function*(_,f){return In(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function hr(_,f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,I.Z)(function*(_,f){return In(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function fs(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Gt(){return(Gt=(0,I.Z)(function*(_,f=!1){const g=(0,B.m9)(_),b=yield g.getIdToken(f),x=It(b);q(x&&x.exp&&x.auth_time&&x.iat,g.auth,"internal-error");const L="object"==typeof x.firebase?x.firebase:void 0,J=L?.sign_in_provider;return{claims:x,token:b,authTime:fs(Et(x.auth_time)),issuedAtTime:fs(Et(x.iat)),expirationTime:fs(Et(x.exp)),signInProvider:J||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Et(_){return 1e3*Number(_)}function It(_){var f;const[g,b,x]=_.split(".");if(void 0===g||void 0===b||void 0===x)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,B.tV)(b);return L?JSON.parse(L):(ot("Failed to decode base64 JWT payload"),null)}catch(L){return ot("Caught error parsing JWT payload as JSON",null===(f=L)||void 0===f?void 0:f.toString()),null}}function fr(_,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,I.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof B.ZR&&Jr(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Jr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Vt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,I.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,I.Z)(function*(){var g;try{yield f.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(g=b)||void 0===g?void 0:g.code)&&f.schedule(!0))}f.schedule()})()}}class Ri{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=fs(this.lastLoginAt),this.creationTime=fs(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cn(_){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,I.Z)(function*(_){var f;const g=_.auth,b=yield _.getIdToken(),x=yield fr(_,hr(g,{idToken:b}));q(x?.users.length,g,"internal-error");const L=x.users[0];_._notifyReloadListener(L);const J=null!==(f=L.providerUserInfo)&&void 0!==f&&f.length?_t(L.providerUserInfo):[],Ce=Pr(_.providerData,J),At=!!_.isAnonymous&&!(_.email&&L.passwordHash||Ce?.length),Tt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Ce,metadata:new Ri(L.createdAt,L.lastLoginAt),isAnonymous:At};Object.assign(_,Tt)})).apply(this,arguments)}function pr(){return(pr=(0,I.Z)(function*(_){const f=(0,B.m9)(_);yield cn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Pr(_,f){return[..._.filter(b=>!f.some(x=>x.providerId===b.providerId)),...f]}function _t(_){return _.map(f=>{var{providerId:g}=f,b=(0,pe._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function mt(){return(mt=(0,I.Z)(function*(_,f){const g=yield Kr(_,{},(0,I.Z)(function*(){const b=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:L}=_.config,J=ui(_,x,"/v1/token",`key=${L}`),Ce=yield _._getAdditionalHeaders();return Ce["Content-Type"]="application/x-www-form-urlencoded",sn.fetch()(J,{method:"POST",headers:Ce,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){q(f.idToken,"internal-error"),q(typeof f.idToken<"u","internal-error"),q(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Dn(_){const f=It(_);return q(f,"internal-error"),q(typeof f.exp<"u","internal-error"),q(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,I.Z)(function*(){return q(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,I.Z)(function*(){const{accessToken:x,refreshToken:L,expiresIn:J}=yield function Ve(_,f){return mt.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(x,L,Number(J))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:x,expirationTime:L}=g,J=new Rt;return b&&(q("string"==typeof b,"internal-error",{appName:f}),J.refreshToken=b),x&&(q("string"==typeof x,"internal-error",{appName:f}),J.accessToken=x),L&&(q("number"==typeof L,"internal-error",{appName:f}),J.expirationTime=L),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Rt,this.toJSON())}_performRefresh(){return Ne("not implemented")}}function Ot(_,f){q("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class Kt{constructor(f){var{uid:g,auth:b,stsTokenManager:x}=f,L=(0,pe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Ri(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,I.Z)(function*(){const b=yield fr(g,g.stsTokenManager.getToken(g.auth,f));return q(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function Wn(_){return Gt.apply(this,arguments)}(this,f)}reload(){return function _n(_){return pr.apply(this,arguments)}(this)}_assign(f){this!==f&&(q(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Kt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,I.Z)(function*(){let x=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),x=!0),g&&(yield cn(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,I.Z)(function*(){const g=yield f.getIdToken();return yield fr(f,function Js(_,f){return at.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,x,L,J,Ce,Qe,pt,At;const Tt=null!==(b=g.displayName)&&void 0!==b?b:void 0,_r=null!==(x=g.email)&&void 0!==x?x:void 0,is=null!==(L=g.phoneNumber)&&void 0!==L?L:void 0,fl=null!==(J=g.photoURL)&&void 0!==J?J:void 0,Ag=null!==(Ce=g.tenantId)&&void 0!==Ce?Ce:void 0,sd=null!==(Qe=g._redirectEventId)&&void 0!==Qe?Qe:void 0,Rf=null!==(pt=g.createdAt)&&void 0!==pt?pt:void 0,pl=null!==(At=g.lastLoginAt)&&void 0!==At?At:void 0,{uid:_c,emailVerified:Mg,isAnonymous:gl,providerData:ih,stsTokenManager:yc}=g;q(_c&&yc,f,"internal-error");const sh=Rt.fromJSON(this.name,yc);q("string"==typeof _c,f,"internal-error"),Ot(Tt,f.name),Ot(_r,f.name),q("boolean"==typeof Mg,f,"internal-error"),q("boolean"==typeof gl,f,"internal-error"),Ot(is,f.name),Ot(fl,f.name),Ot(Ag,f.name),Ot(sd,f.name),Ot(Rf,f.name),Ot(pl,f.name);const od=new Kt({uid:_c,auth:f,email:_r,emailVerified:Mg,displayName:Tt,isAnonymous:gl,photoURL:fl,phoneNumber:is,tenantId:Ag,stsTokenManager:sh,createdAt:Rf,lastLoginAt:pl});return ih&&Array.isArray(ih)&&(od.providerData=ih.map(iu=>Object.assign({},iu))),sd&&(od._redirectEventId=sd),od}static _fromIdTokenResponse(f,g,b=!1){return(0,I.Z)(function*(){const x=new Rt;x.updateFromServerResponse(g);const L=new Kt({uid:g.localId,auth:f,stsTokenManager:x,isAnonymous:b});return yield cn(L),L})()}}const W=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(g,b){var x=this;return(0,I.Z)(function*(){x.storage[g]=b})()}_get(g){var b=this;return(0,I.Z)(function*(){const x=b.storage[g];return void 0===x?null:x})()}_remove(g){var b=this;return(0,I.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function te(_,f,g){return`firebase:${_}:${f}:${g}`}class Oe{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:x,name:L}=this.auth;this.fullUserKey=te(this.userKey,x.apiKey,L),this.fullPersistenceKey=te("persistence",x.apiKey,L),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,I.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Kt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,I.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,I.Z)(function*(){if(!g.length)return new Oe(fe(W),f,b);const x=(yield Promise.all(g.map(function(){var pt=(0,I.Z)(function*(At){if(yield At._isAvailable())return At});return function(At){return pt.apply(this,arguments)}}()))).filter(pt=>pt);let L=x[0]||fe(W);const J=te(b,f.config.apiKey,f.name);let Ce=null;for(const pt of g)try{const At=yield pt._get(J);if(At){const Tt=Kt._fromJSON(f,At);pt!==L&&(Ce=Tt),L=pt;break}}catch{}const Qe=x.filter(pt=>pt._shouldAllowMigration);return L._shouldAllowMigration&&Qe.length?(L=Qe[0],Ce&&(yield L._set(J,Ce.toJSON())),yield Promise.all(g.map(function(){var pt=(0,I.Z)(function*(At){if(At!==L)try{yield At._remove(J)}catch{}});return function(At){return pt.apply(this,arguments)}}())),new Oe(L,f,b)):new Oe(L,f,b)})()}}function re(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Sn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(nt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ze(f))return"Blackberry";if(qe(f))return"Webos";if(Ct(f))return"Safari";if((f.includes("chrome/")||fn(f))&&!f.includes("edge/"))return"Chrome";if(ln(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function nt(_=(0,B.z$)()){return/firefox\//i.test(_)}function Ct(_=(0,B.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function fn(_=(0,B.z$)()){return/crios\//i.test(_)}function Sn(_=(0,B.z$)()){return/iemobile/i.test(_)}function ln(_=(0,B.z$)()){return/android/i.test(_)}function Ze(_=(0,B.z$)()){return/blackberry/i.test(_)}function qe(_=(0,B.z$)()){return/webos/i.test(_)}function Wt(_=(0,B.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ht(_=(0,B.z$)()){return Wt(_)||ln(_)||qe(_)||Ze(_)||/windows phone/i.test(_)||Sn(_)}function Xr(_,f=[]){let g;switch(_){case"Browser":g=re((0,B.z$)());break;case"Worker":g=`${re((0,B.z$)())}-${_}`;break;default:g=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ae.SDK_VERSION}/${b}`}class Xs{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const b=L=>new Promise((J,Ce)=>{try{J(f(L))}catch(Qe){Ce(Qe)}});b.onAbort=g,this.queue.push(b);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,I.Z)(function*(){var b;if(g.auth.currentUser===f)return;const x=[];try{for(const L of g.queue)yield L(f),L.onAbort&&x.push(L.onAbort)}catch(L){x.reverse();for(const J of x)try{J()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=L)||void 0===b?void 0:b.message})}})()}}class Bt{constructor(f,g,b){this.app=f,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ei(this),this.idTokenSubscription=new ei(this),this.beforeStateQueue=new Xs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=fe(g)),this._initializationPromise=this.queue((0,I.Z)(function*(){var x,L;if(!b._deleted&&(b.persistenceManager=yield Oe.create(b,f),!b._deleted)){if(null!==(x=b._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(L=b.currentUser)||void 0===L?void 0:L.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,I.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,I.Z)(function*(){var b;const x=yield g.assertedPersistence.getCurrentUser();let L=x,J=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Ce=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Qe=L?._redirectEventId,pt=yield g.tryRedirectSignIn(f);(!Ce||Ce===Qe)&&pt?.user&&(L=pt.user,J=!0)}if(!L)return g.directlySetCurrentUser(null);if(!L._redirectEventId){if(J)try{yield g.beforeStateQueue.runMiddleware(L)}catch(Ce){L=x,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Ce))}return L?g.reloadAndSetCurrentUserOrClear(L):g.directlySetCurrentUser(null)}return q(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===L._redirectEventId?g.directlySetCurrentUser(L):g.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(f){var g=this;return(0,I.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,I.Z)(function*(){var b;try{yield cn(f)}catch(x){if("auth/network-request-failed"!==(null===(b=x)||void 0===b?void 0:b.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function st(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,I.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,I.Z)(function*(){const b=f?(0,B.m9)(f):null;return b&&q(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f,g=!1){var b=this;return(0,I.Z)(function*(){if(!b._deleted)return f&&q(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,I.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,I.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,I.Z)(function*(){yield g.assertedPersistence.setPersistence(fe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,I.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(g);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,I.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&fe(f)||g._popupRedirectResolver;q(b,g,"argument-error"),g.redirectPersistenceManager=yield Oe.create(g,[fe(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,I.Z)(function*(){var b,x;return g._isInitialized&&(yield g.queue((0,I.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(x=g.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,I.Z)(function*(){if(f===g.currentUser)return g.queue((0,I.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,x){if(this._deleted)return()=>{};const L="function"==typeof g?g:g.next.bind(g),J=this._isInitialized?Promise.resolve():this._initializationPromise;return q(J,this,"internal-error"),J.then(()=>L(this.currentUser)),"function"==typeof g?f.addObserver(g,b,x):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,I.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Xr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,I.Z)(function*(){var g;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const x=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return x&&(b["X-Firebase-Client"]=x),b})()}}function Zt(_){return(0,B.m9)(_)}class ei{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function di(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function ps(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class zn{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Ne("not implemented")}_getIdTokenResponse(f){return Ne("not implemented")}_linkToIdToken(f,g){return Ne("not implemented")}_getReauthenticationResolver(f){return Ne("not implemented")}}function $n(_,f){return ja.apply(this,arguments)}function ja(){return(ja=(0,I.Z)(function*(_,f){return In(_,"POST","/v1/accounts:resetPassword",$t(_,f))})).apply(this,arguments)}function jt(_,f){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,I.Z)(function*(_,f){return In(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function kc(_,f){return Te.apply(this,arguments)}function Te(){return(Te=(0,I.Z)(function*(_,f){return In(_,"POST","/v1/accounts:update",$t(_,f))})).apply(this,arguments)}function Pi(){return(Pi=(0,I.Z)(function*(_,f){return Zr(_,"POST","/v1/accounts:signInWithPassword",$t(_,f))})).apply(this,arguments)}function kr(_,f){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,I.Z)(function*(_,f){return In(_,"POST","/v1/accounts:sendOobCode",$t(_,f))})).apply(this,arguments)}function gr(_,f){return pi.apply(this,arguments)}function pi(){return(pi=(0,I.Z)(function*(_,f){return kr(_,f)})).apply(this,arguments)}function rt(_,f){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,I.Z)(function*(_,f){return kr(_,f)})).apply(this,arguments)}function Mt(_,f){return gs.apply(this,arguments)}function gs(){return(gs=(0,I.Z)(function*(_,f){return kr(_,f)})).apply(this,arguments)}function eo(_,f){return rr.apply(this,arguments)}function rr(){return(rr=(0,I.Z)(function*(_,f){return kr(_,f)})).apply(this,arguments)}function Qo(){return(Qo=(0,I.Z)(function*(_,f){return Zr(_,"POST","/v1/accounts:signInWithEmailLink",$t(_,f))})).apply(this,arguments)}function Ua(){return(Ua=(0,I.Z)(function*(_,f){return Zr(_,"POST","/v1/accounts:signInWithEmailLink",$t(_,f))})).apply(this,arguments)}class Fc extends zn{constructor(f,g,b,x=null){super("password",b),this._email=f,this._password=g,this._tenantId=x}static _fromEmailAndPassword(f,g){return new Fc(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new Fc(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,I.Z)(function*(){switch(g.signInMethod){case"password":return function fi(_,f){return Pi.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Ll(_,f){return Qo.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:ke(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,I.Z)(function*(){switch(b.signInMethod){case"password":return jt(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Vl(_,f){return Ua.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:ke(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function an(_,f){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,I.Z)(function*(_,f){return Zr(_,"POST","/v1/accounts:signInWithIdp",$t(_,f))})).apply(this,arguments)}class Ir extends zn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Ir(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):ke("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:x}=g,L=(0,pe._T)(g,["providerId","signInMethod"]);if(!b||!x)return null;const J=new Ir(b,x);return J.idToken=L.idToken||void 0,J.accessToken=L.accessToken||void 0,J.secret=L.secret,J.nonce=L.nonce,J.pendingToken=L.pendingToken||null,J}_getIdTokenResponse(f){return an(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,an(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,an(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,B.xO)(g)}return f}}function jd(_,f){return $a.apply(this,arguments)}function $a(){return($a=(0,I.Z)(function*(_,f){return In(_,"POST","/v1/accounts:sendVerificationCode",$t(_,f))})).apply(this,arguments)}function ms(){return(ms=(0,I.Z)(function*(_,f){return Zr(_,"POST","/v1/accounts:signInWithPhoneNumber",$t(_,f))})).apply(this,arguments)}function Lc(){return(Lc=(0,I.Z)(function*(_,f){const g=yield Zr(_,"POST","/v1/accounts:signInWithPhoneNumber",$t(_,f));if(g.temporaryProof)throw Qr(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ha={USER_NOT_FOUND:"user-not-found"};function Ga(){return(Ga=(0,I.Z)(function*(_,f){return Zr(_,"POST","/v1/accounts:signInWithPhoneNumber",$t(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ha)})).apply(this,arguments)}class gi extends zn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new gi({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new gi({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Eo(_,f){return ms.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Cr(_,f){return Lc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Bl(_,f){return Ga.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:x}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:x,temporaryProof:L}=f;return b||g||x||L?new gi({verificationId:g,verificationCode:b,phoneNumber:x,temporaryProof:L}):null}}class Wa{constructor(f){var g,b,x,L,J,Ce;const Qe=(0,B.zd)((0,B.pd)(f)),pt=null!==(g=Qe.apiKey)&&void 0!==g?g:null,At=null!==(b=Qe.oobCode)&&void 0!==b?b:null,Tt=function mi(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Qe.mode)&&void 0!==x?x:null);q(pt&&At&&Tt,"argument-error"),this.apiKey=pt,this.operation=Tt,this.code=At,this.continueUrl=null!==(L=Qe.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(J=Qe.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(Ce=Qe.tenantId)&&void 0!==Ce?Ce:null}static parseLink(f){const g=function Jo(_){const f=(0,B.zd)((0,B.pd)(_)).link,g=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,b=(0,B.zd)((0,B.pd)(_)).deep_link_id;return(b?(0,B.zd)((0,B.pd)(b)).link:null)||b||g||f||_}(f);try{return new Wa(g)}catch{return null}}}let Fr=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return Fc._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const x=Wa.parseLink(b);return q(x,"argument-error"),Fc._fromEmailAndCode(g,x.code,x.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class _i{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class yi extends _i{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class _s extends yi{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return q("providerId"in g&&"signInMethod"in g,"argument-error"),Ir._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return q(f.idToken||f.accessToken,"argument-error"),Ir._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return _s.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return _s.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:L,nonce:J,providerId:Ce}=f;if(!b&&!x&&!g&&!L||!Ce)return null;try{return new _s(Ce)._credential({idToken:g,accessToken:b,nonce:J,pendingToken:L})}catch{return null}}}let Xo=(()=>{class _ extends yi{constructor(){super("facebook.com")}static credential(g){return Ir._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ea=(()=>{class _ extends yi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Ir._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:x}=g;if(!b&&!x)return null;try{return _.credential(b,x)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),to=(()=>{class _ extends yi{constructor(){super("github.com")}static credential(g){return Ir._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class no extends zn{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return an(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,an(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,an(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:x,pendingToken:L}=g;return b&&x&&L&&b===x?new no(b,L):null}static _create(f,g){return new no(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ti extends _i{constructor(f){q(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ti.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ti.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=no.fromJSON(f);return q(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return no._create(b,g)}catch{return null}}}let Hr=(()=>{class _ extends yi{constructor(){super("twitter.com")}static credential(g,b){return Ir._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=g;if(!b||!x)return null;try{return _.credential(b,x)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ys(_,f){return za.apply(this,arguments)}function za(){return(za=(0,I.Z)(function*(_,f){return Zr(_,"POST","/v1/accounts:signUp",$t(_,f))})).apply(this,arguments)}class Lr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,x=!1){return(0,I.Z)(function*(){const L=yield Kt._fromIdTokenResponse(f,b,x),J=To(b);return new Lr({user:L,providerId:J,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,I.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const x=To(b);return new Lr({user:f,providerId:x,_tokenResponse:b,operationType:g})})()}}function To(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Nn(){return(Nn=(0,I.Z)(function*(_){var f;const g=Zt(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Lr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield ys(g,{returnSecureToken:!0}),x=yield Lr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class qa extends B.ZR{constructor(f,g,b,x){var L;super(g.code,g.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,qa.prototype),this.customData={appName:f.name,tenantId:null!==(L=f.tenantId)&&void 0!==L?L:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,x){return new qa(f,g,b,x)}}function Ru(_,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?qa._fromErrorAndOperation(_,L,f,b):L})}function Vr(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function So(){return(So=(0,I.Z)(function*(_,f){const g=(0,B.m9)(_);yield en(!0,g,f);const{providerUserInfo:b}=yield br(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),x=Vr(b||[]);return g.providerData=g.providerData.filter(L=>x.has(L.providerId)),x.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function ro(_,f){return vi.apply(this,arguments)}function vi(){return(vi=(0,I.Z)(function*(_,f,g=!1){const b=yield fr(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Lr._forOperation(_,"link",b)})).apply(this,arguments)}function en(_,f,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,I.Z)(function*(_,f,g){yield cn(f);const x=!1===_?"provider-already-linked":"no-such-provider";q(Vr(f.providerData).has(g)===_,f.auth,x)})).apply(this,arguments)}function vs(_,f){return io.apply(this,arguments)}function io(){return(io=(0,I.Z)(function*(_,f,g=!1){var b;const{auth:x}=_,L="reauthenticate";try{const J=yield fr(_,Ru(x,L,f,_),g);q(J.idToken,x,"internal-error");const Ce=It(J.idToken);q(Ce,x,"internal-error");const{sub:Qe}=Ce;return q(_.uid===Qe,x,"user-mismatch"),Lr._forOperation(_,L,J)}catch(J){throw"auth/user-not-found"===(null===(b=J)||void 0===b?void 0:b.code)&&ke(x,"user-mismatch"),J}})).apply(this,arguments)}function ni(_,f){return ta.apply(this,arguments)}function ta(){return(ta=(0,I.Z)(function*(_,f,g=!1){const b="signIn",x=yield Ru(_,b,f),L=yield Lr._fromIdTokenResponse(_,b,x);return g||(yield _._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Hn(_,f){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,I.Z)(function*(_,f){return ni(Zt(_),f)})).apply(this,arguments)}function so(_,f){return $l.apply(this,arguments)}function $l(){return($l=(0,I.Z)(function*(_,f){const g=(0,B.m9)(_);return yield en(!1,g,f.providerId),ro(g,f)})).apply(this,arguments)}function oo(_,f){return na.apply(this,arguments)}function na(){return(na=(0,I.Z)(function*(_,f){return vs((0,B.m9)(_),f)})).apply(this,arguments)}function ra(_,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,I.Z)(function*(_,f){return Zr(_,"POST","/v1/accounts:signInWithCustomToken",$t(_,f))})).apply(this,arguments)}function Ls(){return(Ls=(0,I.Z)(function*(_,f){const g=Zt(_),b=yield ra(g,{token:f,returnSecureToken:!0}),x=yield Lr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ae{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?St._fromServerResponse(f,g):ke(f,"internal-error")}}class St extends Ae{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new St(g)}}function Vs(_,f,g){var b;q((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),q(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(q(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(q(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function qn(){return(qn=(0,I.Z)(function*(_,f,g){const b=(0,B.m9)(_),x={requestType:"PASSWORD_RESET",email:f};g&&Vs(b,x,g),yield rt(b,x)})).apply(this,arguments)}function Bs(){return(Bs=(0,I.Z)(function*(_,f,g){yield $n((0,B.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function ia(){return(ia=(0,I.Z)(function*(_,f){yield kc((0,B.m9)(_),{oobCode:f})})).apply(this,arguments)}function ao(_,f){return sa.apply(this,arguments)}function sa(){return(sa=(0,I.Z)(function*(_,f){const g=(0,B.m9)(_),b=yield $n(g,{oobCode:f}),x=b.requestType;switch(q(x,g,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(b.mfaInfo,g,"internal-error");default:q(b.email,g,"internal-error")}let L=null;return b.mfaInfo&&(L=Ae._fromServerResponse(Zt(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:L},operation:x}})).apply(this,arguments)}function Qa(){return(Qa=(0,I.Z)(function*(_,f){const{data:g}=yield ao((0,B.m9)(_),f);return g.email})).apply(this,arguments)}function Zn(){return(Zn=(0,I.Z)(function*(_,f,g){const b=Zt(_),x=yield ys(b,{returnSecureToken:!0,email:f,password:g}),L=yield Lr._fromIdTokenResponse(b,"signIn",x);return yield b._updateCurrentUser(L.user),L})).apply(this,arguments)}function Yi(){return(Yi=(0,I.Z)(function*(_,f,g){const b=(0,B.m9)(_),x={requestType:"EMAIL_SIGNIN",email:f};q(g.handleCodeInApp,b,"argument-error"),g&&Vs(b,x,g),yield Mt(b,x)})).apply(this,arguments)}function bs(){return(bs=(0,I.Z)(function*(_,f,g){const b=(0,B.m9)(_),x=Fr.credentialWithLink(f,g||We());return q(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Hn(b,x)})).apply(this,arguments)}function ku(_,f){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,I.Z)(function*(_,f){return In(_,"POST","/v1/accounts:createAuthUri",$t(_,f))})).apply(this,arguments)}function js(){return(js=(0,I.Z)(function*(_,f){const b={identifier:f,continueUri:bt()?We():"http://localhost"},{signinMethods:x}=yield ku((0,B.m9)(_),b);return x||[]})).apply(this,arguments)}function ca(){return(ca=(0,I.Z)(function*(_,f){const g=(0,B.m9)(_),x={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Vs(g.auth,x,f);const{email:L}=yield gr(g.auth,x);L!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ja(){return(Ja=(0,I.Z)(function*(_,f,g){const b=(0,B.m9)(_),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Vs(b.auth,L,g);const{email:J}=yield eo(b.auth,L);J!==_.email&&(yield _.reload())})).apply(this,arguments)}function Xa(_,f){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,I.Z)(function*(_,f){return In(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xo(){return(xo=(0,I.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,B.m9)(_),L={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},J=yield fr(b,Xa(b.auth,L));b.displayName=J.displayName||null,b.photoURL=J.photoUrl||null;const Ce=b.providerData.find(({providerId:Qe})=>"password"===Qe);Ce&&(Ce.displayName=b.displayName,Ce.photoURL=b.photoURL),yield b._updateTokensIfNecessary(J)})).apply(this,arguments)}function T(_,f,g){return k.apply(this,arguments)}function k(){return(k=(0,I.Z)(function*(_,f,g){const{auth:b}=_,L={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(L.email=f),g&&(L.password=g);const J=yield fr(_,jt(b,L));yield _._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class de{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class Ie extends de{constructor(f,g,b,x){super(f,g,b),this.username=x}}class lt extends de{constructor(f,g){super(f,"facebook.com",g)}}class nn extends Ie{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class un extends de{constructor(f,g){super(f,"google.com",g)}}class dn extends Ie{constructor(f,g,b){super(f,"twitter.com",g,b)}}function Yt(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function H(_){var f,g;if(!_)return null;const{providerId:b}=_,x=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},L=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&_?.idToken){const J=null===(g=null===(f=It(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(J)return new de(L,"anonymous"!==J&&"custom"!==J?J:null)}if(!b)return null;switch(b){case"facebook.com":return new lt(L,x);case"github.com":return new nn(L,x);case"google.com":return new un(L,x);case"twitter.com":return new dn(L,x,_.screenName||null);case"custom":case"anonymous":return new de(L,null);default:return new de(L,b,x)}}(g)}class Ji{constructor(f,g,b){this.type=f,this.credential=g,this.auth=b}static _fromIdtoken(f,g){return new Ji("enroll",f,g)}static _fromMfaPendingCredential(f){return new Ji("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ji._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return Ji._fromIdtoken(f.multiFactorSession.idToken)}return null}}class jc{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=Zt(f),x=g.customData._serverResponse,L=(x.mfaInfo||[]).map(Ce=>Ae._fromServerResponse(b,Ce));q(x.mfaPendingCredential,b,"internal-error");const J=Ji._fromMfaPendingCredential(x.mfaPendingCredential);return new jc(J,L,function(){var Ce=(0,I.Z)(function*(Qe){const pt=yield Qe._process(b,J);delete x.mfaInfo,delete x.mfaPendingCredential;const At=Object.assign(Object.assign({},x),{idToken:pt.idToken,refreshToken:pt.refreshToken});switch(g.operationType){case"signIn":const Tt=yield Lr._fromIdTokenResponse(b,g.operationType,At);return yield b._updateCurrentUser(Tt.user),Tt;case"reauthenticate":return q(g.user,b,"internal-error"),Lr._forOperation(g.user,g.operationType,At);default:ke(b,"internal-error")}});return function(Qe){return Ce.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,I.Z)(function*(){return g.signInResolver(f)})()}}function Uc(_,f){return In(_,"POST","/v2/accounts/mfaEnrollment:start",$t(_,f))}class Fu{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Ae._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Fu(f)}getSession(){var f=this;return(0,I.Z)(function*(){return Ji._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var b=this;return(0,I.Z)(function*(){const x=f,L=yield b.getSession(),J=yield fr(b.user,x._process(b.user.auth,L,g));return yield b.user._updateTokensIfNecessary(J),b.user.reload()})()}unenroll(f){var g=this;return(0,I.Z)(function*(){var b;const x="string"==typeof f?f:f.uid,L=yield g.user.getIdToken(),J=yield fr(g.user,function $c(_,f){return In(_,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(_,f))}(g.user.auth,{idToken:L,mfaEnrollmentId:x}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ce})=>Ce!==x),yield g.user._updateTokensIfNecessary(J);try{yield g.user.reload()}catch(Ce){if("auth/user-token-expired"!==(null===(b=Ce)||void 0===b?void 0:b.code))throw Ce}})()}}const la=new WeakMap,Bi="__sak";class Hc{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Bi,"1"),this.storage.removeItem(Bi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gl=(()=>{class _ extends Hc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Hl(){const _=(0,B.z$)();return Ct(_)||Wt(_)}()&&function zt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ht(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),L=this.localCache[b];x!==L&&g(b,L,x)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((Ce,Qe,pt)=>{this.notifyListeners(Ce,pt)});const x=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ce=this.storage.getItem(x);if(g.newValue!==Ce)null!==g.newValue?this.storage.setItem(x,g.newValue):this.storage.removeItem(x);else if(this.localCache[x]===g.newValue&&!b)return}const L=()=>{const Ce=this.storage.getItem(x);!b&&this.localCache[x]===Ce||this.notifyListeners(x,Ce)},J=this.storage.getItem(x);!function xn(){return(0,B.w1)()&&10===document.documentMode}()||J===g.newValue||g.newValue===g.oldValue?L():setTimeout(L,10)}notifyListeners(g,b){this.localCache[g]=b;const x=this.listeners[g];if(x)for(const L of Array.from(x))L(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var x=()=>super._set,L=this;return(0,I.Z)(function*(){yield x().call(L,g,b),L.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,x=this;return(0,I.Z)(function*(){const L=yield b().call(x,g);return x.localCache[g]=JSON.stringify(L),L})()}_remove(g){var b=()=>super._remove,x=this;return(0,I.Z)(function*(){yield b().call(x,g),delete x.localCache[g]})()}}return _.type="LOCAL",_})(),Sr=(()=>{class _ extends Hc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let Vu=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(L=>L.isListeningto(g));if(b)return b;const x=new _(g);return this.receivers.push(x),x}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,I.Z)(function*(){const x=g,{eventId:L,eventType:J,data:Ce}=x.data,Qe=b.handlersMap[J];if(!Qe?.size)return;x.ports[0].postMessage({status:"ack",eventId:L,eventType:J});const pt=Array.from(Qe).map(function(){var Tt=(0,I.Z)(function*(_r){return _r(x.origin,Ce)});return function(_r){return Tt.apply(this,arguments)}}()),At=yield function Ro(_){return Promise.all(_.map(function(){var f=(0,I.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(pt);x.ports[0].postMessage({status:"done",eventId:L,eventType:J,response:At})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function ua(_="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return _+g}class Rn{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var x=this;return(0,I.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let J,Ce;return new Promise((Qe,pt)=>{const At=ua("",20);L.port1.start();const Tt=setTimeout(()=>{pt(new Error("unsupported_event"))},b);Ce={messageChannel:L,onMessage(_r){const is=_r;if(is.data.eventId===At)switch(is.data.status){case"ack":clearTimeout(Tt),J=setTimeout(()=>{pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Qe(is.data.response);break;default:clearTimeout(Tt),clearTimeout(J),pt(new Error("invalid_response"))}}},x.handlers.add(Ce),L.port1.addEventListener("message",Ce.onMessage),x.target.postMessage({eventType:f,eventId:At,data:g},[L.port2])}).finally(()=>{Ce&&x.removeMessageHandler(Ce)})})()}}function Xn(){return window}function Po(){return typeof Xn().WorkerGlobalScope<"u"&&"function"==typeof Xn().importScripts}function tc(){return(tc=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ha="firebaseLocalStorageDb",Is="firebaseLocalStorage",$s="fbase_key";class lo{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function nc(_,f){return _.transaction([Is],f?"readwrite":"readonly").objectStore(Is)}function Cs(){const _=indexedDB.open(ha,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Is,{keyPath:$s})}catch(x){g(x)}}),_.addEventListener("success",(0,I.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Is)?f(b):(b.close(),yield function zl(){const _=indexedDB.deleteDatabase(ha);return new lo(_).toPromise()}(),f(yield Cs()))}))})}function ko(_,f,g){return ju.apply(this,arguments)}function ju(){return(ju=(0,I.Z)(function*(_,f,g){const b=nc(_,!0).put({[$s]:f,value:g});return new lo(b).toPromise()})).apply(this,arguments)}function rc(){return(rc=(0,I.Z)(function*(_,f){const g=nc(_,!1).get(f),b=yield new lo(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function uo(_,f){const g=nc(_,!0).delete(f);return new lo(g).toPromise()}const fa=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,I.Z)(function*(){return g.db||(g.db=yield Cs()),g.db})()}_withRetries(g){var b=this;return(0,I.Z)(function*(){let x=0;for(;;)try{const L=yield b._openDb();return yield g(L)}catch(L){if(x++>3)throw L;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,I.Z)(function*(){return Po()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,I.Z)(function*(){g.receiver=Vu._getInstance(function Wl(){return Po()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,I.Z)(function*(x,L){return{keyProcessed:(yield g._poll()).includes(L.key)}});return function(x,L){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,I.Z)(function*(x,L){return["keyChanged"]});return function(x,L){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,I.Z)(function*(){var b,x;if(g.activeServiceWorker=yield function da(){return tc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Rn(g.activeServiceWorker);const L=yield g.sender._send("ping",{},800);!L||(null===(b=L[0])||void 0===b?void 0:b.fulfilled)&&(null===(x=L[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,I.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Bu(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Cs();return yield ko(g,Bi,"1"),yield uo(g,Bi),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,I.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var x=this;return(0,I.Z)(function*(){return x._withPendingWrite((0,I.Z)(function*(){return yield x._withRetries(L=>ko(L,g,b)),x.localCache[g]=b,x.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,I.Z)(function*(){const x=yield b._withRetries(L=>function Gc(_,f){return rc.apply(this,arguments)}(L,g));return b.localCache[g]=x,x})()}_remove(g){var b=this;return(0,I.Z)(function*(){return b._withPendingWrite((0,I.Z)(function*(){return yield b._withRetries(x=>uo(x,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,I.Z)(function*(){const b=yield g._withRetries(J=>{const Ce=nc(J,!1).getAll();return new lo(Ce).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const x=[],L=new Set;for(const{fbase_key:J,value:Ce}of b)L.add(J),JSON.stringify(g.localCache[J])!==JSON.stringify(Ce)&&(g.notifyListeners(J,Ce),x.push(J));for(const J of Object.keys(g.localCache))g.localCache[J]&&!L.has(J)&&(g.notifyListeners(J,null),x.push(J));return x})()}notifyListeners(g,b){this.localCache[g]=b;const x=this.listeners[g];if(x)for(const L of Array.from(x))L(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Wc(_,f){return In(_,"POST","/v2/accounts/mfaSignIn:start",$t(_,f))}function ho(){return(ho=(0,I.Z)(function*(_){return(yield In(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ji(_){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=x=>{const L=Me("internal-error");L.customData=x,g(L)},b.type="text/javascript",b.charset="UTF-8",function pa(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function fo(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Fo=1e12;class Cn{constructor(f){this.auth=f,this.counter=Fo,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new qc(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||Fo;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Fo))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,I.Z)(function*(){var b;return null===(b=g._widgets.get(f||Fo))||void 0===b||b.execute(),""})()}}class qc{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;q(x,"argument-error",{appName:g}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $d(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Pn=fo("rcb"),Hd=new bn(3e4,6e4);class $u{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Xn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return q(function vg(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Xn().grecaptcha):new Promise((b,x)=>{const L=Xn().setTimeout(()=>{x(Me(f,"network-request-failed"))},Hd.get());Xn()[Pn]=()=>{Xn().clearTimeout(L),delete Xn()[Pn];const Ce=Xn().grecaptcha;if(!Ce)return void x(Me(f,"internal-error"));const Qe=Ce.render;Ce.render=(pt,At)=>{const Tt=Qe(pt,At);return this.counter++,Tt},this.hostLanguage=g,b(Ce)},ji(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Pn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(L),x(Me(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Xn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mr{load(f){return(0,I.Z)(function*(){return new Cn(f)})()}clearedOneInstance(){}}const hf="recaptcha",bg={theme:"light",type:"image"};class sr{constructor(f,g=Object.assign({},bg),b){this.parameters=g,this.type=hf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zt(b),this.isInvisible="invisible"===this.parameters.size,q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;q(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mr:new $u,this.validateStartingState()}verify(){var f=this;return(0,I.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(L=>{const J=Ce=>{!Ce||(f.tokenChangeListeners.delete(J),L(Ce))};f.tokenChangeListeners.add(J),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=Xn()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,I.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,I.Z)(function*(){q(bt()&&!Po(),f.auth,"internal-error"),yield function Kc(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Ci(_){return ho.apply(this,arguments)}(f.auth);q(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ei{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=gi._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Zc(){return(Zc=(0,I.Z)(function*(_,f,g){const b=Zt(_),x=yield Es(b,f,(0,B.m9)(g));return new Ei(x,L=>Hn(b,L))})).apply(this,arguments)}function si(){return(si=(0,I.Z)(function*(_,f,g){const b=(0,B.m9)(_);yield en(!1,b,"phone");const x=yield Es(b.auth,f,(0,B.m9)(g));return new Ei(x,L=>so(b,L))})).apply(this,arguments)}function Lo(){return(Lo=(0,I.Z)(function*(_,f,g){const b=(0,B.m9)(_),x=yield Es(b.auth,f,(0,B.m9)(g));return new Ei(x,L=>oo(b,L))})).apply(this,arguments)}function Es(_,f,g){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,I.Z)(function*(_,f,g){var b;const x=yield g.verify();try{let L;if(q("string"==typeof x,_,"argument-error"),q(g.type===hf,_,"argument-error"),L="string"==typeof f?{phoneNumber:f}:f,"session"in L){const J=L.session;if("phoneNumber"in L)return q("enroll"===J.type,_,"internal-error"),(yield Uc(_,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{q("signin"===J.type,_,"internal-error");const Ce=(null===(b=L.multiFactorHint)||void 0===b?void 0:b.uid)||L.multiFactorUid;return q(Ce,_,"missing-multi-factor-info"),(yield Wc(_,{mfaPendingCredential:J.credential,mfaEnrollmentId:Ce,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield jd(_,{phoneNumber:L.phoneNumber,recaptchaToken:x});return J}}finally{g._reset()}})).apply(this,arguments)}function Wu(){return(Wu=(0,I.Z)(function*(_,f){yield ro((0,B.m9)(_),f)})).apply(this,arguments)}let Yc=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Zt(g)}verifyPhoneNumber(g,b){return Es(this.auth,g,(0,B.m9)(b))}static credential(g,b){return gi._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:x}=g;return b&&x?gi._fromTokenResponse(b,x):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Gs(_,f){return f?fe(f):(q(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Jc extends zn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return an(f,this._buildIdpRequest())}_linkToIdToken(f,g){return an(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return an(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Ti(_){return ni(_.auth,new Jc(_),_.bypassAuthState)}function ga(_){const{auth:f,user:g}=_;return q(g,f,"internal-error"),vs(g,new Jc(_),_.bypassAuthState)}function Ws(_){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,I.Z)(function*(_){const{auth:f,user:g}=_;return q(g,f,"internal-error"),ro(g,new Jc(_),_.bypassAuthState)})).apply(this,arguments)}class Vo{constructor(f,g,b,x,L=!1){this.auth=f,this.resolver=b,this.user=x,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,I.Z)(function*(b,x){f.pendingPromise={resolve:b,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(L){f.reject(L)}});return function(b,x){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,I.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:L,tenantId:J,error:Ce,type:Qe}=f;if(Ce)return void g.reject(Ce);const pt={auth:g.auth,requestUri:b,sessionId:x,tenantId:J||void 0,postBody:L||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Qe)(pt))}catch(At){g.reject(At)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ti;case"linkViaPopup":case"linkViaRedirect":return Ws;case"reauthViaPopup":case"reauthViaRedirect":return ga;default:ke(this.auth,"internal-error")}}resolve(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kl=new bn(2e3,1e4);function Ts(){return(Ts=(0,I.Z)(function*(_,f,g){const b=Zt(_);Ye(_,f,_i);const x=Gs(b,g);return new po(b,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function zu(){return(zu=(0,I.Z)(function*(_,f,g){const b=(0,B.m9)(_);Ye(b.auth,f,_i);const x=Gs(b.auth,g);return new po(b.auth,"reauthViaPopup",f,x,b).executeNotNull()})).apply(this,arguments)}function sc(){return(sc=(0,I.Z)(function*(_,f,g){const b=(0,B.m9)(_);Ye(b.auth,f,_i);const x=Gs(b.auth,g);return new po(b.auth,"linkViaPopup",f,x,b).executeNotNull()})).apply(this,arguments)}let po=(()=>{class _ extends Vo{constructor(g,b,x,L,J){super(g,b,L,J),this.provider=x,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,I.Z)(function*(){const b=yield g.execute();return q(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,I.Z)(function*(){ee(1===g.filter.length,"Popup operations only handle one event");const b=ua();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(x=>{g.reject(x)}),g.resolver._isIframeWebStorageSupported(g.auth,x=>{x||g.reject(Me(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,x;this.pollId=null!==(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Kl.get())};g()}}return _.currentPopupAction=null,_})();const Si=new Map;class Ql extends Vo{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,I.Z)(function*(){let b=Si.get(g.auth._key());if(!b){try{const L=(yield function go(_,f){return mo.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(L)}catch(x){b=()=>Promise.reject(x)}Si.set(g.auth._key(),b)}return g.bypassAuthState||Si.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,I.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const x=yield b.auth._redirectUserForId(f.eventId);if(x)return b.user=x,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function mo(){return(mo=(0,I.Z)(function*(_,f){const g=zd(f),b=zs(_);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(g));return yield b._remove(g),x})).apply(this,arguments)}function qu(_,f){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,I.Z)(function*(_,f){return zs(_)._set(zd(f),"true")})).apply(this,arguments)}function oc(_,f){Si.set(_._key(),f)}function zs(_){return fe(_._redirectPersistence)}function zd(_){return te("pendingRedirect",_.config.apiKey,_.name)}function S(){return(S=(0,I.Z)(function*(_,f,g){const b=Zt(_);Ye(_,f,_i);const x=Gs(b,g);return yield qu(x,b),x._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function U(){return(U=(0,I.Z)(function*(_,f,g){const b=(0,B.m9)(_);Ye(b.auth,f,_i);const x=Gs(b.auth,g);yield qu(x,b.auth);const L=yield Ue(b);return x._openRedirect(b.auth,f,"reauthViaRedirect",L)})).apply(this,arguments)}function Y(){return(Y=(0,I.Z)(function*(_,f,g){const b=(0,B.m9)(_);Ye(b.auth,f,_i);const x=Gs(b.auth,g);yield en(!1,b,f.providerId),yield qu(x,b.auth);const L=yield Ue(b);return x._openRedirect(b.auth,f,"linkViaRedirect",L)})).apply(this,arguments)}function vt(){return(vt=(0,I.Z)(function*(_,f){return yield Zt(_)._initializationPromise,Nt(_,f,!1)})).apply(this,arguments)}function Nt(_,f){return Be.apply(this,arguments)}function Be(){return(Be=(0,I.Z)(function*(_,f,g=!1){const b=Zt(_),x=Gs(b,f),J=yield new Ql(b,x,g).execute();return J&&!g&&(delete J.user._redirectEventId,yield b._persistUserIfCurrent(J.user),yield b._setRedirectUser(null,f)),J})).apply(this,arguments)}function Ue(_){return er.apply(this,arguments)}function er(){return(er=(0,I.Z)(function*(_){const f=ua(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class be{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ma(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vn(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!Vn(f)){const x=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(Me(this.auth,x))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Le(f))}saveEventToCache(f){this.cachedEventUids.add(Le(f)),this.lastProcessedEventTime=Date.now()}}function Le(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Vn({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function Bo(_){return _a.apply(this,arguments)}function _a(){return(_a=(0,I.Z)(function*(_,f={}){return In(_,"GET","/v1/projects",f)})).apply(this,arguments)}const ac=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ya=/^https?/;function gf(){return(gf=(0,I.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Bo(_);for(const g of f)try{if(Q_(g))return}catch{}ke(_,"unauthorized-domain")})).apply(this,arguments)}function Q_(_){const f=We(),{protocol:g,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const J=new URL(_);return""===J.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&J.hostname===b}if(!ya.test(g))return!1;if(ac.test(_))return b===_;const x=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const Rb=new bn(3e4,6e4);function Dg(){const _=Xn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Ut=null;function Yl(_){return Ut=Ut||function Zu(_){return new Promise((f,g)=>{var b,x,L;function J(){Dg(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Dg(),g(Me(_,"network-request-failed"))},timeout:Rb.get()})}if(null!==(x=null===(b=Xn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==x&&x.Iframe)f(gapi.iframes.getContext());else{if(null===(L=Xn().gapi)||void 0===L||!L.load){const Ce=fo("iframefcb");return Xn()[Ce]=()=>{gapi.load?J():g(Me(_,"network-request-failed"))},ji(`https://apis.google.com/js/api.js?onload=${Ce}`).catch(Qe=>g(Qe))}J()}}).catch(f=>{throw Ut=null,f})}(_),Ut}const Kd=new bn(5e3,15e3),Qu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y_(_){const f=_.config;q(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?En(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:ae.SDK_VERSION},x=hn.get(_.config.apiHost);x&&(b.eid=x);const L=_._getFrameworks();return L.length&&(b.fw=L.join(",")),`${g}?${(0,B.xO)(b).slice(1)}`}function et(){return et=(0,I.Z)(function*(_){const f=yield Yl(_),g=Xn().gapi;return q(g,_,"internal-error"),f.open({where:document.body,url:Y_(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qu,dontclear:!0},b=>new Promise(function(){var x=(0,I.Z)(function*(L,J){yield b.restyle({setHideOnLeave:!1});const Ce=Me(_,"network-request-failed"),Qe=Xn().setTimeout(()=>{J(Ce)},Kd.get());function pt(){Xn().clearTimeout(Qe),L(b)}b.ping(pt).then(pt,()=>{J(Ce)})});return function(L,J){return x.apply(this,arguments)}}()))}),et.apply(this,arguments)}const Jl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yu{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _o(_,f,g,b,x,L){q(_.config.authDomain,_,"auth-domain-config-required"),q(_.config.apiKey,_,"invalid-api-key");const J={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:ae.SDK_VERSION,eventId:x};if(f instanceof _i){f.setDefaultLanguage(_.languageCode),J.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(J.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Qe,pt]of Object.entries(L||{}))J[Qe]=pt}if(f instanceof yi){const Qe=f.getScopes().filter(pt=>""!==pt);Qe.length>0&&(J.scopes=Qe.join(","))}_.tenantId&&(J.tid=_.tenantId);const Ce=J;for(const Qe of Object.keys(Ce))void 0===Ce[Qe]&&delete Ce[Qe];return`${function wg({config:_}){return _.emulator?En(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,B.xO)(Ce).slice(1)}`}const Zd="webStorageSupport";class es extends class _e{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return Ne("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new es(f)}_finalizeEnroll(f,g,b){return function lf(_,f){return In(_,"POST","/v2/accounts/mfaEnrollment:finalize",$t(_,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function zc(_,f){return In(_,"POST","/v2/accounts/mfaSignIn:finalize",$t(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ni=(()=>{class _{constructor(){}static assertion(g){return es._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var vf="@firebase/auth",Xl="0.20.11";class uc{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,I.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{var x;f((null===(x=b)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dc(){return window}function Bn(){return(Bn=(0,I.Z)(function*(_,f,g){var b;const{BuildInfo:x}=dc();ee(f.sessionId,"AuthEvent did not contain a session ID");const L=yield bf(f.sessionId),J={};return Wt()?J.ibi=x.packageName:ln()?J.apn=x.packageName:ke(_,"operation-not-supported-in-this-environment"),x.displayName&&(J.appDisplayName=x.displayName),J.sessionId=L,_o(_,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,J)})).apply(this,arguments)}function Ar(){return(Ar=(0,I.Z)(function*(_){const{BuildInfo:f}=dc(),g={};Wt()?g.iosBundleId=f.packageName:ln()?g.androidPackageName=f.packageName:ke(_,"operation-not-supported-in-this-environment"),yield Bo(_,g)})).apply(this,arguments)}function rl(){return(rl=(0,I.Z)(function*(_,f,g){const{cordova:b}=dc();let x=()=>{};try{yield new Promise((L,J)=>{let Ce=null;function Qe(){var Tt;L();const _r=null===(Tt=b.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof _r&&_r(),"function"==typeof g?.close&&g.close()}function pt(){Ce||(Ce=window.setTimeout(()=>{J(Me(_,"redirect-cancelled-by-user"))},2e3))}function At(){"visible"===document?.visibilityState&&pt()}f.addPassiveListener(Qe),document.addEventListener("resume",pt,!1),ln()&&document.addEventListener("visibilitychange",At,!1),x=()=>{f.removePassiveListener(Qe),document.removeEventListener("resume",pt,!1),document.removeEventListener("visibilitychange",At,!1),Ce&&window.clearTimeout(Ce)}})}finally{x()}})).apply(this,arguments)}function bf(_){return cr.apply(this,arguments)}function cr(){return(cr=(0,I.Z)(function*(_){const f=Pb(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pb(_){if(ee(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}(0,B.Pz)("authIdTokenMaxAge"),function nl(_){(0,ae._registerComponent)(new De.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),x=f.getProvider("heartbeat"),{apiKey:L,authDomain:J}=b.options;return((Ce,Qe)=>{q(L&&!L.includes(":"),"invalid-api-key",{appName:Ce.name}),q(!J?.includes(":"),"argument-error",{appName:Ce.name});const pt={apiKey:L,authDomain:J,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xr(_)},At=new Bt(Ce,Qe,pt);return function Fe(_,f){const g=f?.persistence||[],b=(Array.isArray(g)?g:[g]).map(fe);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,f?.popupRedirectResolver)}(At,g),At})(b,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new De.wA("auth-internal",f=>{const g=Zt(f.getProvider("auth").getImmediate());return new uc(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(vf,Xl,function X_(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ae.registerVersion)(vf,Xl,"esm2017")}("Browser");class lr extends be{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,I.Z)(function*(){yield f.initPromise})()}}function wf(_){return ol.apply(this,arguments)}function ol(){return(ol=(0,I.Z)(function*(_){const f=yield hc()._get(va(_));return f&&(yield hc()._remove(va(_))),f})).apply(this,arguments)}function yo(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function hc(){return fe(Gl)}function va(_){return te("authEvent",_.config.apiKey,_.name)}function fc(_){if(!_?.includes("?"))return{};const[f,...g]=_.split("?");return(0,B.zd)(g.join("?"))}function $o(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function eu(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function ll(_=(0,B.z$)()){return!("file:"!==eu()&&"ionic:"!==eu()&&"capacitor:"!==eu()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tf(){try{const _=self.localStorage,f=ua();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Ef(_=(0,B.z$)()){return function tu(){return(0,B.w1)()&&11===document?.documentMode}()||function nu(_=(0,B.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,B.hl)()}catch{return eh()&&(0,B.hl)()}return!1}function eh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xu(){return(function Jd(){return"http:"===eu()||"https:"===eu()}()||(0,B.ru)()||ll())&&!function Xd(){return(0,B.b$)()||(0,B.UG)()}()&&Tf()&&!eh()}function ed(){return ll()&&typeof document<"u"}function th(){return(th=(0,I.Z)(function*(){return!!ed()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const ts={LOCAL:"local",NONE:"none",SESSION:"session"},ul=q,ns="persistence";function ba(_){return Da.apply(this,arguments)}function Da(){return(Da=(0,I.Z)(function*(_){yield _._initializationPromise;const f=td(),g=te(ns,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function td(){var _;try{return(null===(_=function Un(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const nd=q;class An{constructor(){this.browserResolver=fe(class lc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sr,this._completeRedirectFn=Nt,this._overrideRedirectResult=oc}_openPopup(f,g,b,x){var L=this;return(0,I.Z)(function*(){var J;ee(null===(J=L.eventManagers[f._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const Ce=_o(f,g,b,We(),x);return function tl(_,f,g,b=500,x=600){const L=Math.max((window.screen.availHeight-x)/2,0).toString(),J=Math.max((window.screen.availWidth-b)/2,0).toString();let Ce="";const Qe=Object.assign(Object.assign({},Jl),{width:b.toString(),height:x.toString(),top:L,left:J}),pt=(0,B.z$)().toLowerCase();g&&(Ce=fn(pt)?"_blank":g),nt(pt)&&(f=f||"http://localhost",Qe.scrollbars="yes");const At=Object.entries(Qe).reduce((_r,[is,fl])=>`${_r}${is}=${fl},`,"");if(function Xt(_=(0,B.z$)()){var f;return Wt(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(pt)&&"_self"!==Ce)return function _f(_,f){const g=document.createElement("a");g.href=_,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",Ce),new Yu(null);const Tt=window.open(f||"",Ce,At);q(Tt,_,"popup-blocked");try{Tt.focus()}catch{}return new Yu(Tt)}(f,Ce,ua())})()}_openRedirect(f,g,b,x){var L=this;return(0,I.Z)(function*(){return yield L._originValidation(f),function Wr(_){Xn().location.href=_}(_o(f,g,b,We(),x)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:x,promise:L}=this.eventManagers[g];return x?Promise.resolve(x):(ee(L,"If manager is not set, promise should be"),L)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,I.Z)(function*(){const b=yield function ar(_){return et.apply(this,arguments)}(f),x=new be(f);return b.register("authEvent",L=>(q(L?.authEvent,f,"invalid-auth-event"),{status:x.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:x},g.iframes[f._key()]=b,x})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Zd,{type:Zd},x=>{var L;const J=null===(L=x?.[0])||void 0===L?void 0:L[Zd];void 0!==J&&g(!!J),ke(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ku(_){return gf.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ht()||Ct()||Wt()}}),this.cordovaResolver=fe(class Ks{constructor(){this._redirectPersistence=Sr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Nt,this._overrideRedirectResult=oc}_initialize(f){var g=this;return(0,I.Z)(function*(){const b=f._key();let x=g.eventManagers.get(b);return x||(x=new lr(f),g.eventManagers.set(b,x),g.attachCallbackListeners(f,x)),x})()}_openPopup(f){ke(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,x){var L=this;return(0,I.Z)(function*(){!function qs(_){var f,g,b,x,L,J,Ce,Qe,pt,At;const Tt=dc();q("function"==typeof(null===(f=Tt?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof(null===(g=Tt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(L=null===(x=null===(b=Tt?.cordova)||void 0===b?void 0:b.plugins)||void 0===x?void 0:x.browsertab)||void 0===L?void 0:L.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Qe=null===(Ce=null===(J=Tt?.cordova)||void 0===J?void 0:J.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===Qe?void 0:Qe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(At=null===(pt=Tt?.cordova)||void 0===pt?void 0:pt.InAppBrowser)||void 0===At?void 0:At.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const J=yield L._initialize(f);yield J.initialized(),J.resetRedirect(),function pf(){Si.clear()}(),yield L._originValidation(f);const Ce=function sl(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:yo(),postBody:null,tenantId:_.tenantId,error:Me(_,"no-auth-event")}}(f,b,x);yield function Df(_,f){return hc()._set(va(_),f)}(f,Ce);const Qe=yield function Uo(_,f,g){return Bn.apply(this,arguments)}(f,Ce,g),pt=yield function kn(_){const{cordova:f}=dc();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let x=null;b?f.plugins.browsertab.openUrl(_):x=f.InAppBrowser.open(_,function pn(_=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(x)})})}(Qe);return function ty(_,f,g){return rl.apply(this,arguments)}(f,J,pt)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ju(_){return Ar.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:x,BuildInfo:L}=dc(),J=setTimeout((0,I.Z)(function*(){yield wf(f),g.onEvent($o())}),500),Ce=function(){var At=(0,I.Z)(function*(Tt){clearTimeout(J);const _r=yield wf(f);let is=null;_r&&Tt?.url&&(is=function Eg(_,f){var g,b;const x=function jn(_){const f=fc(_),g=f.link?decodeURIComponent(f.link):void 0,b=fc(g).link,x=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return fc(x).link||x||b||g||_}(f);if(x.includes("/__/auth/callback")){const L=fc(x),J=L.firebaseError?function Tg(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,Ce=null===(b=null===(g=J?.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Qe=Ce?Me(Ce):null;return Qe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Qe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:x,postBody:null}}return null}(_r,Tt.url)),g.onEvent(is||$o())});return function(_r){return At.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,Ce);const Qe=x,pt=`${L.packageName.toLowerCase()}://`;dc().handleOpenURL=function(){var At=(0,I.Z)(function*(Tt){if(Tt.toLowerCase().startsWith(pt)&&Ce({url:Tt}),"function"==typeof Qe)try{Qe(Tt)}catch(_r){console.error(_r)}});return function(Tt){return At.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Sr,this._completeRedirectFn=Nt,this._overrideRedirectResult=oc}_initialize(f){var g=this;return(0,I.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,x){var L=this;return(0,I.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(f,g,b,x)})()}_openRedirect(f,g,b,x){var L=this;return(0,I.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(f,g,b,x)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ed()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,I.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Ai(){return th.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Sf(_){return _.unwrap()}function ry(_){return Af(_)}function Af(_){const{_tokenResponse:f}=_ instanceof B.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof B.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Yc.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=ea;break;case"facebook.com":b=Xo;break;case"github.com":b=to;break;case"twitter.com":b=Hr;break;default:const{oauthIdToken:x,oauthAccessToken:L,oauthTokenSecret:J,pendingToken:Ce,nonce:Qe}=f;return L||J||x||Ce?Ce?g.startsWith("saml.")?no._create(g,Ce):Ir._fromParams({providerId:g,signInMethod:g,pendingToken:Ce,idToken:x,accessToken:L}):new _s(g).credential({idToken:x,accessToken:L,rawNonce:Qe}):null}return _ instanceof B.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function jr(_,f){return f.catch(g=>{throw g instanceof B.ZR&&function Sg(_,f){var g,b;const x=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=f)||void 0===b?void 0:b.code))f.resolver=new mc(_,function Jn(_,f){var g;const b=(0,B.m9)(_),x=f;return q(f.customData.operationType,b,"argument-error"),q(null===(g=x.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),jc._fromError(b,x)}(_,f));else if(x){const L=Af(f),J=f;L&&(J.credential=L,J.tenantId=x.tenantId||void 0,J.email=x.email||void 0,J.phoneNumber=x.phoneNumber||void 0)}}(_,g),g}).then(g=>{const x=g.user;return{operationType:g.operationType,credential:ry(g),additionalUserInfo:Yt(g),user:rs.getOrCreate(x)}})}function Mf(_,f){return xf.apply(this,arguments)}function xf(){return(xf=(0,I.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>jr(_,g.confirm(b))}})).apply(this,arguments)}class mc{constructor(f,g){this.resolver=g,this.auth=function Nf(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return jr(Sf(this.auth),this.resolver.resolveSignIn(f))}}class rs{constructor(f){this._delegate=f,this.multiFactor=function Oo(_){const f=(0,B.m9)(_);return la.has(f)||la.set(f,Fu._fromUser(f)),la.get(f)}(f)}static getOrCreate(f){return rs.USER_MAP.has(f)||rs.USER_MAP.set(f,new rs(f)),rs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,I.Z)(function*(){return jr(g.auth,so(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,I.Z)(function*(){return Mf(b.auth,function ii(_,f,g){return si.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,I.Z)(function*(){return jr(g.auth,function Wd(_,f,g){return sc.apply(this,arguments)}(g._delegate,f,An))})()}linkWithRedirect(f){var g=this;return(0,I.Z)(function*(){return yield ba(Zt(g.auth)),function ne(_,f,g){return function me(_,f,g){return Y.apply(this,arguments)}(_,f,g)}(g._delegate,f,An)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,I.Z)(function*(){return jr(g.auth,oo(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Mf(this.auth,function Hu(_,f,g){return Lo.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return jr(this.auth,function ff(_,f,g){return zu.apply(this,arguments)}(this._delegate,f,An))}reauthenticateWithRedirect(f){var g=this;return(0,I.Z)(function*(){return yield ba(Zt(g.auth)),function N(_,f,g){return function R(_,f,g){return U.apply(this,arguments)}(_,f,g)}(g._delegate,f,An)})()}sendEmailVerification(f){return function Bc(_,f){return ca.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,I.Z)(function*(){return yield function Er(_,f){return So.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function C(_,f){return T((0,B.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function O(_,f){return T((0,B.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Gu(_,f){return Wu.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function ec(_,f){return xo.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Us(_,f,g){return Ja.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}rs.USER_MAP=new WeakMap;const dl=q;let rh=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=g.options;dl(x,"invalid-api-key",{appName:g.name}),dl(x,"invalid-api-key",{appName:g.name});const L=typeof window<"u"?An:void 0;this._delegate=b.initialize({options:{persistence:wa(x,g.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?rs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function On(_,f,g){const b=Zt(_);q(b._canInitEmulator,b,"emulator-config-failed"),q(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const x=!!g?.disableWarnings,L=di(f),{host:J,port:Ce}=function tt(_){const f=di(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const L=x[1];return{host:L,port:ps(b.substr(L.length+1))}}{const[L,J]=b.split(":");return{host:L,port:ps(J)}}}(f);b.config.emulator={url:`${L}//${J}${null===Ce?"":`:${Ce}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:J,port:Ce,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function hi(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function bi(_,f){return ia.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ao(this._delegate,g)}confirmPasswordReset(g,b){return function Ka(_,f,g){return Bs.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var x=this;return(0,I.Z)(function*(){return jr(x._delegate,function Mo(_,f,g){return Zn.apply(this,arguments)}(x._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function aa(_,f){return js.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Di(_,f){return"EMAIL_SIGNIN"===Wa.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,I.Z)(function*(){dl(Xu(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function $e(_,f){return vt.apply(this,arguments)}(g._delegate,An);return b?jr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function If(_,f){Zt(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,x){const{next:L,error:J,complete:Ce}=ru(g,b,x);return this._delegate.onAuthStateChanged(L,J,Ce)}onIdTokenChanged(g,b,x){const{next:L,error:J,complete:Ce}=ru(g,b,x);return this._delegate.onIdTokenChanged(L,J,Ce)}sendSignInLinkToEmail(g,b){return function oa(_,f,g){return Yi.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function Ao(_,f,g){return qn.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,I.Z)(function*(){let x;switch(function ny(_,f){ul(Object.values(ts).includes(f),_,"invalid-persistence-type"),(0,B.b$)()?ul(f!==ts.SESSION,_,"unsupported-persistence-type"):(0,B.UG)()?ul(f===ts.NONE,_,"unsupported-persistence-type"):eh()?ul(f===ts.NONE||f===ts.LOCAL&&(0,B.hl)(),_,"unsupported-persistence-type"):ul(f===ts.NONE||Tf(),_,"unsupported-persistence-type")}(b._delegate,g),g){case ts.SESSION:x=Sr;break;case ts.LOCAL:x=(yield fe(fa)._isAvailable())?fa:Gl;break;case ts.NONE:x=W;break;default:return ke("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return jr(this._delegate,function Ul(_){return Nn.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return jr(this._delegate,Hn(this._delegate,g))}signInWithCustomToken(g){return jr(this._delegate,function No(_,f){return Ls.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return jr(this._delegate,function ri(_,f,g){return Hn((0,B.m9)(_),Fr.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return jr(this._delegate,function Pu(_,f,g){return bs.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Mf(this._delegate,function Gd(_,f,g){return Zc.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,I.Z)(function*(){return dl(Xu(),b._delegate,"operation-not-supported-in-this-environment"),jr(b._delegate,function Zl(_,f,g){return Ts.apply(this,arguments)}(b._delegate,g,An))})()}signInWithRedirect(g){var b=this;return(0,I.Z)(function*(){return dl(Xu(),b._delegate,"operation-not-supported-in-this-environment"),yield ba(b._delegate),function Qn(_,f,g){return function qd(_,f,g){return S.apply(this,arguments)}(_,f,g)}(b._delegate,g,An)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Za(_,f){return Qa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ts,_})();function ru(_,f,g){let b=_;"function"!=typeof _&&({next:b,error:f,complete:g}=_);const x=b;return{next:J=>x(J&&rs.getOrCreate(J)),error:f,complete:g}}function wa(_,f){const g=function nh(_,f){const g=td();if(!g)return[];const b=te(ns,_,f);switch(g.getItem(b)){case ts.NONE:return[W];case ts.LOCAL:return[fa,Sr];case ts.SESSION:return[Sr];default:return[]}}(_,f);if(typeof self<"u"&&!g.includes(fa)&&g.push(fa),typeof window<"u")for(const b of[Gl,Sr])g.includes(b)||g.push(b);return g.includes(W)||g.push(W),g}class rd{constructor(){this.providerId="phone",this._delegate=new Yc(Sf(u.Z.auth()))}static credential(f,g){return Yc.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}rd.PHONE_SIGN_IN_METHOD=Yc.PHONE_SIGN_IN_METHOD,rd.PROVIDER_ID=Yc.PROVIDER_ID;const id=q;class Ng{constructor(f,g,b=u.Z.app()){var x;id(null===(x=b.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new sr(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Of(_){_.INTERNAL.registerComponent(new De.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new rh(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Fr,FacebookAuthProvider:Xo,GithubAuthProvider:to,GoogleAuthProvider:ea,OAuthProvider:_s,SAMLAuthProvider:ti,PhoneAuthProvider:rd,PhoneMultiFactorGenerator:Ni,RecaptchaVerifier:Ng,TwitterAuthProvider:Hr,Auth:rh,AuthCredential:zn,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.24")}(u.Z)},4497:(yt,Se)=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});var V=function(){function I(u,B,ae,se){this.id=I.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,u&&(this.text=u),B&&(this.cssClass=B),ae&&(this.closeOnClick=ae),se&&(this.showCloseBtn=se)}return I.nextId=0,I}();Se.FlashMessage=V},2570:function(yt,Se,V){"use strict";var I=V(4650),u=V(5673),B=V(6895);function ae(we,ce){1&we&&I.\u0275\u0275element(0,"div",3)}function se(we,ce){if(1&we){var Ge=I.\u0275\u0275getCurrentView();I.\u0275\u0275elementStart(0,"button",7),I.\u0275\u0275listener("click",function(){I.\u0275\u0275restoreView(Ge);var he=I.\u0275\u0275nextContext().$implicit,Je=I.\u0275\u0275nextContext();return I.\u0275\u0275resetView(Je.close(he))}),I.\u0275\u0275elementStart(1,"span",8),I.\u0275\u0275text(2,"\xd7"),I.\u0275\u0275elementEnd()()}}var pe=function(we){return{"alert-dismissible":we}};function De(we,ce){if(1&we){var Ge=I.\u0275\u0275getCurrentView();I.\u0275\u0275elementStart(0,"div",4),I.\u0275\u0275listener("click",function(){var ot=I.\u0275\u0275restoreView(Ge).$implicit,ke=I.\u0275\u0275nextContext();return I.\u0275\u0275resetView(ke.alertClicked(ot))}),I.\u0275\u0275template(1,se,3,0,"button",5),I.\u0275\u0275element(2,"div",6),I.\u0275\u0275elementEnd()}if(2&we){var ge=ce.$implicit;I.\u0275\u0275classMapInterpolate1("alert flash-message ",ge.cssClass,""),I.\u0275\u0275styleProp("cursor",ge.closeOnClick?"pointer":"inherit"),I.\u0275\u0275property("ngClass",I.\u0275\u0275pureFunction1(8,pe,ge.showCloseBtn)),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngIf",ge.showCloseBtn),I.\u0275\u0275advance(1),I.\u0275\u0275property("innerHTML",ge.text,I.\u0275\u0275sanitizeHtml)}}var ye=this&&this.__decorate||function(we,ce,Ge,ge){var ot,he=arguments.length,Je=he<3?ce:null===ge?ge=Object.getOwnPropertyDescriptor(ce,Ge):ge;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Je=Reflect.decorate(we,ce,Ge,ge);else for(var ke=we.length-1;ke>=0;ke--)(ot=we[ke])&&(Je=(he<3?ot(Je):he>3?ot(ce,Ge,Je):ot(ce,Ge))||Je);return he>3&&Je&&Object.defineProperty(ce,Ge,Je),Je},ve=this&&this.__metadata||function(we,ce){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(we,ce)};Object.defineProperty(Se,"__esModule",{value:!0});var G=V(4650),z=V(4497),X=V(5673),He=function(){function we(ce,Ge){this._flashMessagesService=ce,this._cdRef=Ge,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return we.prototype.ngOnInit=function(){},we.prototype.show=function(ce,Ge){var ge=this;void 0===Ge&&(Ge={});var he={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var Je in Ge)he[Je]=Ge[Je];var ot=new z.FlashMessage(ce,he.cssClass,he.closeOnClick,he.showCloseBtn);ot.timer=window.setTimeout(function(){ge._remove(ot),ge._cdRef.detectChanges()},he.timeout),this.messages.push(ot),this._cdRef.detectChanges()},we.prototype.close=function(ce){clearTimeout(ce.timer),this._remove(ce),this._cdRef.detectChanges()},we.prototype.alertClicked=function(ce){ce.closeOnClick&&this.close(ce)},we.prototype.grayOut=function(ce){void 0===ce&&(ce=!1),this._grayOut=ce},we.prototype._remove=function(ce){this.messages=this.messages.filter(function(Ge){return Ge.id!==ce.id})},(we=ye([ve("design:paramtypes",[X.FlashMessagesService,G.ChangeDetectorRef])],we)).\u0275fac=function(Ge){return new(Ge||we)(I.\u0275\u0275directiveInject(u.FlashMessagesService),I.\u0275\u0275directiveInject(I.ChangeDetectorRef))},we.\u0275cmp=I.\u0275\u0275defineComponent({type:we,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(Ge,ge){1&Ge&&(I.\u0275\u0275elementStart(0,"div",0),I.\u0275\u0275template(1,ae,1,0,"div",1),I.\u0275\u0275template(2,De,3,10,"div",2),I.\u0275\u0275elementEnd()),2&Ge&&(I.\u0275\u0275advance(1),I.\u0275\u0275property("ngIf",ge._grayOut&&ge.messages.length),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngForOf",ge.messages))},dependencies:[B.NgClass,B.NgForOf,B.NgIf],encapsulation:2}),we}();Se.FlashMessagesComponent=He},5673:function(yt,Se,V){"use strict";var I=V(4650);Object.defineProperty(Se,"__esModule",{value:!0}),V(4650);var ae=function(){function se(){}return se.\u0275fac=function(De){return new(De||se)},se.\u0275prov=I.\u0275\u0275defineInjectable({token:se,factory:function(pe){return se.\u0275fac(pe)}}),se}();Se.FlashMessagesService=ae},3241:(yt,Se,V)=>{var u=V(2570),B=V(8533);Se.qz=B.FlashMessagesModule;var ae=V(5673);Se.GQ=ae.FlashMessagesService,Se.cS=u.FlashMessagesComponent},8533:function(yt,Se,V){"use strict";var I=V(4650);V(2570),V(6895),Object.defineProperty(Se,"__esModule",{value:!0}),V(4650);var pe=V(6895),ye=(V(2570),V(5673)),ve=function(){function G(){}var z;return z=G,G.forRoot=function(){return{ngModule:z,providers:[ye.FlashMessagesService]}},G.\u0275fac=function(He){return new(He||G)},G.\u0275mod=I.\u0275\u0275defineNgModule({type:G}),G.\u0275inj=I.\u0275\u0275defineInjector({imports:[pe.CommonModule]}),G}();Se.FlashMessagesModule=ve},9751:(yt,Se,V)=>{"use strict";V.d(Se,{y:()=>ye});var I=V(930),u=V(727),B=V(8822),ae=V(9635),se=V(2416),pe=V(576),De=V(2806);let ye=(()=>{class X{constructor(we){we&&(this._subscribe=we)}lift(we){const ce=new X;return ce.source=this,ce.operator=we,ce}subscribe(we,ce,Ge){const ge=function z(X){return X&&X instanceof I.Lv||function G(X){return X&&(0,pe.m)(X.next)&&(0,pe.m)(X.error)&&(0,pe.m)(X.complete)}(X)&&(0,u.Nn)(X)}(we)?we:new I.Hp(we,ce,Ge);return(0,De.x)(()=>{const{operator:he,source:Je}=this;ge.add(he?he.call(ge,Je):Je?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(we){try{return this._subscribe(we)}catch(ce){we.error(ce)}}forEach(we,ce){return new(ce=ve(ce))((Ge,ge)=>{const he=new I.Hp({next:Je=>{try{we(Je)}catch(ot){ge(ot),he.unsubscribe()}},error:ge,complete:Ge});this.subscribe(he)})}_subscribe(we){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(we)}[B.L](){return this}pipe(...we){return(0,ae.U)(we)(this)}toPromise(we){return new(we=ve(we))((ce,Ge)=>{let ge;this.subscribe(he=>ge=he,he=>Ge(he),()=>ce(ge))})}}return X.create=He=>new X(He),X})();function ve(X){var He;return null!==(He=X??se.v.Promise)&&void 0!==He?He:Promise}},7579:(yt,Se,V)=>{"use strict";V.d(Se,{x:()=>De});var I=V(9751),u=V(727);const ae=(0,V(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=V(8737),pe=V(2806);let De=(()=>{class ve extends I.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const X=new ye(this,this);return X.operator=z,X}_throwIfClosed(){if(this.closed)throw new ae}next(z){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(z)}})}error(z){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:X}=this;for(;X.length;)X.shift().error(z)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:X,isStopped:He,observers:we}=this;return X||He?u.Lc:(this.currentObservers=null,we.push(z),new u.w0(()=>{this.currentObservers=null,(0,se.P)(we,z)}))}_checkFinalizedStatuses(z){const{hasError:X,thrownError:He,isStopped:we}=this;X?z.error(He):we&&z.complete()}asObservable(){const z=new I.y;return z.source=this,z}}return ve.create=(G,z)=>new ye(G,z),ve})();class ye extends De{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===X||X.call(z,G)}error(G){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===X||X.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,X;return null!==(X=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==X?X:u.Lc}}},930:(yt,Se,V)=>{"use strict";V.d(Se,{Hp:()=>Ge,Lv:()=>X});var I=V(576),u=V(727),B=V(2416),ae=V(7849),se=V(5032);const pe=ve("C",void 0,void 0);function ve(ke,Me,Pe){return{kind:ke,value:Me,error:Pe}}var G=V(3410),z=V(2806);class X extends u.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,u.Nn)(Me)&&Me.add(this)):this.destination=ot}static create(Me,Pe,Ye){return new Ge(Me,Pe,Ye)}next(Me){this.isStopped?Je(function ye(ke){return ve("N",ke,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Je(function De(ke){return ve("E",void 0,ke)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Je(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function we(ke,Me){return He.call(ke,Me)}class ce{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:Pe}=this;if(Pe.next)try{Pe.next(Me)}catch(Ye){ge(Ye)}}error(Me){const{partialObserver:Pe}=this;if(Pe.error)try{Pe.error(Me)}catch(Ye){ge(Ye)}else ge(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(Pe){ge(Pe)}}}class Ge extends X{constructor(Me,Pe,Ye){let Xe;if(super(),(0,I.m)(Me)||!Me)Xe={next:Me??void 0,error:Pe??void 0,complete:Ye??void 0};else{let q;this&&B.v.useDeprecatedNextContext?(q=Object.create(Me),q.unsubscribe=()=>this.unsubscribe(),Xe={next:Me.next&&we(Me.next,q),error:Me.error&&we(Me.error,q),complete:Me.complete&&we(Me.complete,q)}):Xe=Me}this.destination=new ce(Xe)}}function ge(ke){B.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(ke):(0,ae.h)(ke)}function Je(ke,Me){const{onStoppedNotification:Pe}=B.v;Pe&&G.z.setTimeout(()=>Pe(ke,Me))}const ot={closed:!0,next:se.Z,error:function he(ke){throw ke},complete:se.Z}},727:(yt,Se,V)=>{"use strict";V.d(Se,{Lc:()=>pe,w0:()=>se,Nn:()=>De});var I=V(576);const B=(0,V(3888).d)(ve=>function(z){ve(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((X,He)=>`${He+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ae=V(8737);class se{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const we of z)we.remove(this);else z.remove(this);const{initialTeardown:X}=this;if((0,I.m)(X))try{X()}catch(we){G=we instanceof B?we.errors:[we]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const we of He)try{ye(we)}catch(ce){G=G??[],ce instanceof B?G=[...G,...ce.errors]:G.push(ce)}}if(G)throw new B(G)}}add(G){var z;if(G&&G!==this)if(this.closed)ye(G);else{if(G instanceof se){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,ae.P)(z,G)}remove(G){const{_finalizers:z}=this;z&&(0,ae.P)(z,G),G instanceof se&&G._removeParent(this)}}se.EMPTY=(()=>{const ve=new se;return ve.closed=!0,ve})();const pe=se.EMPTY;function De(ve){return ve instanceof se||ve&&"closed"in ve&&(0,I.m)(ve.remove)&&(0,I.m)(ve.add)&&(0,I.m)(ve.unsubscribe)}function ye(ve){(0,I.m)(ve)?ve():ve.unsubscribe()}},2416:(yt,Se,V)=>{"use strict";V.d(Se,{v:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,Se,V)=>{"use strict";V.d(Se,{E:()=>u});const u=new(V(9751).y)(se=>se.complete())},8996:(yt,Se,V)=>{"use strict";V.d(Se,{D:()=>Me});var I=V(8421),u=V(5363),B=V(9468),pe=V(9751),ye=V(2202),ve=V(576),G=V(9672);function X(Pe,Ye){if(!Pe)throw new Error("Iterable cannot be null");return new pe.y(Xe=>{(0,G.f)(Xe,Ye,()=>{const q=Pe[Symbol.asyncIterator]();(0,G.f)(Xe,Ye,()=>{q.next().then(Ne=>{Ne.done?Xe.complete():Xe.next(Ne.value)})},0,!0)})})}var He=V(3670),we=V(8239),ce=V(1144),Ge=V(6495),ge=V(2206),he=V(4532),Je=V(3260);function Me(Pe,Ye){return Ye?function ke(Pe,Ye){if(null!=Pe){if((0,He.c)(Pe))return function ae(Pe,Ye){return(0,I.Xf)(Pe).pipe((0,B.R)(Ye),(0,u.Q)(Ye))}(Pe,Ye);if((0,ce.z)(Pe))return function De(Pe,Ye){return new pe.y(Xe=>{let q=0;return Ye.schedule(function(){q===Pe.length?Xe.complete():(Xe.next(Pe[q++]),Xe.closed||this.schedule())})})}(Pe,Ye);if((0,we.t)(Pe))return function se(Pe,Ye){return(0,I.Xf)(Pe).pipe((0,B.R)(Ye),(0,u.Q)(Ye))}(Pe,Ye);if((0,ge.D)(Pe))return X(Pe,Ye);if((0,Ge.T)(Pe))return function z(Pe,Ye){return new pe.y(Xe=>{let q;return(0,G.f)(Xe,Ye,()=>{q=Pe[ye.h](),(0,G.f)(Xe,Ye,()=>{let Ne,ee;try{({value:Ne,done:ee}=q.next())}catch(ie){return void Xe.error(ie)}ee?Xe.complete():Xe.next(Ne)},0,!0)}),()=>(0,ve.m)(q?.return)&&q.return()})}(Pe,Ye);if((0,Je.L)(Pe))return function ot(Pe,Ye){return X((0,Je.Q)(Pe),Ye)}(Pe,Ye)}throw(0,he.z)(Pe)}(Pe,Ye):(0,I.Xf)(Pe)}},8421:(yt,Se,V)=>{"use strict";V.d(Se,{Xf:()=>He});var I=V(655),u=V(1144),B=V(8239),ae=V(9751),se=V(3670),pe=V(2206),De=V(4532),ye=V(6495),ve=V(3260),G=V(576),z=V(7849),X=V(8822);function He(ke){if(ke instanceof ae.y)return ke;if(null!=ke){if((0,se.c)(ke))return function we(ke){return new ae.y(Me=>{const Pe=ke[X.L]();if((0,G.m)(Pe.subscribe))return Pe.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,u.z)(ke))return function ce(ke){return new ae.y(Me=>{for(let Pe=0;Pe<ke.length&&!Me.closed;Pe++)Me.next(ke[Pe]);Me.complete()})}(ke);if((0,B.t)(ke))return function Ge(ke){return new ae.y(Me=>{ke.then(Pe=>{Me.closed||(Me.next(Pe),Me.complete())},Pe=>Me.error(Pe)).then(null,z.h)})}(ke);if((0,pe.D)(ke))return he(ke);if((0,ye.T)(ke))return function ge(ke){return new ae.y(Me=>{for(const Pe of ke)if(Me.next(Pe),Me.closed)return;Me.complete()})}(ke);if((0,ve.L)(ke))return function Je(ke){return he((0,ve.Q)(ke))}(ke)}throw(0,De.z)(ke)}function he(ke){return new ae.y(Me=>{(function ot(ke,Me){var Pe,Ye,Xe,q;return(0,I.mG)(this,void 0,void 0,function*(){try{for(Pe=(0,I.KL)(ke);!(Ye=yield Pe.next()).done;)if(Me.next(Ye.value),Me.closed)return}catch(Ne){Xe={error:Ne}}finally{try{Ye&&!Ye.done&&(q=Pe.return)&&(yield q.call(Pe))}finally{if(Xe)throw Xe.error}}Me.complete()})})(ke,Me).catch(Pe=>Me.error(Pe))})}},6451:(yt,Se,V)=>{"use strict";V.d(Se,{T:()=>pe});var I=V(8189),u=V(8421),B=V(515),ae=V(3269),se=V(8996);function pe(...De){const ye=(0,ae.yG)(De),ve=(0,ae._6)(De,1/0),G=De;return G.length?1===G.length?(0,u.Xf)(G[0]):(0,I.J)(ve)((0,se.D)(G,ye)):B.E}},5403:(yt,Se,V)=>{"use strict";V.d(Se,{x:()=>u});var I=V(930);function u(ae,se,pe,De,ye){return new B(ae,se,pe,De,ye)}class B extends I.Lv{constructor(se,pe,De,ye,ve,G){super(se),this.onFinalize=ve,this.shouldUnsubscribe=G,this._next=pe?function(z){try{pe(z)}catch(X){se.error(X)}}:super._next,this._error=ye?function(z){try{ye(z)}catch(X){se.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(z){se.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(yt,Se,V)=>{"use strict";V.d(Se,{U:()=>B});var I=V(4482),u=V(5403);function B(ae,se){return(0,I.e)((pe,De)=>{let ye=0;pe.subscribe((0,u.x)(De,ve=>{De.next(ae.call(se,ve,ye++))}))})}},8189:(yt,Se,V)=>{"use strict";V.d(Se,{J:()=>B});var I=V(5577),u=V(4671);function B(ae=1/0){return(0,I.z)(u.y,ae)}},5577:(yt,Se,V)=>{"use strict";V.d(Se,{z:()=>ye});var I=V(4004),u=V(8421),B=V(4482),ae=V(9672),se=V(5403),De=V(576);function ye(ve,G,z=1/0){return(0,De.m)(G)?ye((X,He)=>(0,I.U)((we,ce)=>G(X,we,He,ce))((0,u.Xf)(ve(X,He))),z):("number"==typeof G&&(z=G),(0,B.e)((X,He)=>function pe(ve,G,z,X,He,we,ce,Ge){const ge=[];let he=0,Je=0,ot=!1;const ke=()=>{ot&&!ge.length&&!he&&G.complete()},Me=Ye=>he<X?Pe(Ye):ge.push(Ye),Pe=Ye=>{we&&G.next(Ye),he++;let Xe=!1;(0,u.Xf)(z(Ye,Je++)).subscribe((0,se.x)(G,q=>{He?.(q),we?Me(q):G.next(q)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(he--;ge.length&&he<X;){const q=ge.shift();ce?(0,ae.f)(G,ce,()=>Pe(q)):Pe(q)}ke()}catch(q){G.error(q)}}))};return ve.subscribe((0,se.x)(G,Me,()=>{ot=!0,ke()})),()=>{Ge?.()}}(X,He,ve,z)))}},5363:(yt,Se,V)=>{"use strict";V.d(Se,{Q:()=>ae});var I=V(9672),u=V(4482),B=V(5403);function ae(se,pe=0){return(0,u.e)((De,ye)=>{De.subscribe((0,B.x)(ye,ve=>(0,I.f)(ye,se,()=>ye.next(ve),pe),()=>(0,I.f)(ye,se,()=>ye.complete(),pe),ve=>(0,I.f)(ye,se,()=>ye.error(ve),pe)))})}},3099:(yt,Se,V)=>{"use strict";V.d(Se,{B:()=>se});var I=V(8421),u=V(7579),B=V(930),ae=V(4482);function se(De={}){const{connector:ye=(()=>new u.x),resetOnError:ve=!0,resetOnComplete:G=!0,resetOnRefCountZero:z=!0}=De;return X=>{let He,we,ce,Ge=0,ge=!1,he=!1;const Je=()=>{we?.unsubscribe(),we=void 0},ot=()=>{Je(),He=ce=void 0,ge=he=!1},ke=()=>{const Me=He;ot(),Me?.unsubscribe()};return(0,ae.e)((Me,Pe)=>{Ge++,!he&&!ge&&Je();const Ye=ce=ce??ye();Pe.add(()=>{Ge--,0===Ge&&!he&&!ge&&(we=pe(ke,z))}),Ye.subscribe(Pe),!He&&Ge>0&&(He=new B.Hp({next:Xe=>Ye.next(Xe),error:Xe=>{he=!0,Je(),we=pe(ot,ve,Xe),Ye.error(Xe)},complete:()=>{ge=!0,Je(),we=pe(ot,G),Ye.complete()}}),(0,I.Xf)(Me).subscribe(He))})(X)}}function pe(De,ye,...ve){if(!0===ye)return void De();if(!1===ye)return;const G=new B.Hp({next:()=>{G.unsubscribe(),De()}});return ye(...ve).subscribe(G)}},9468:(yt,Se,V)=>{"use strict";V.d(Se,{R:()=>u});var I=V(4482);function u(B,ae=0){return(0,I.e)((se,pe)=>{pe.add(B.schedule(()=>se.subscribe(pe),ae))})}},8505:(yt,Se,V)=>{"use strict";V.d(Se,{b:()=>se});var I=V(576),u=V(4482),B=V(5403),ae=V(4671);function se(pe,De,ye){const ve=(0,I.m)(pe)||De||ye?{next:pe,error:De,complete:ye}:pe;return ve?(0,u.e)((G,z)=>{var X;null===(X=ve.subscribe)||void 0===X||X.call(ve);let He=!0;G.subscribe((0,B.x)(z,we=>{var ce;null===(ce=ve.next)||void 0===ce||ce.call(ve,we),z.next(we)},()=>{var we;He=!1,null===(we=ve.complete)||void 0===we||we.call(ve),z.complete()},we=>{var ce;He=!1,null===(ce=ve.error)||void 0===ce||ce.call(ve,we),z.error(we)},()=>{var we,ce;He&&(null===(we=ve.unsubscribe)||void 0===we||we.call(ve)),null===(ce=ve.finalize)||void 0===ce||ce.call(ve)}))}):ae.y}},4408:(yt,Se,V)=>{"use strict";V.d(Se,{o:()=>se});var I=V(727);class u extends I.w0{constructor(De,ye){super()}schedule(De,ye=0){return this}}const B={setInterval(pe,De,...ye){const{delegate:ve}=B;return ve?.setInterval?ve.setInterval(pe,De,...ye):setInterval(pe,De,...ye)},clearInterval(pe){const{delegate:De}=B;return(De?.clearInterval||clearInterval)(pe)},delegate:void 0};var ae=V(8737);class se extends u{constructor(De,ye){super(De,ye),this.scheduler=De,this.work=ye,this.pending=!1}schedule(De,ye=0){var ve;if(this.closed)return this;this.state=De;const G=this.id,z=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(z,G,ye)),this.pending=!0,this.delay=ye,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(z,this.id,ye),this}requestAsyncId(De,ye,ve=0){return B.setInterval(De.flush.bind(De,this),ve)}recycleAsyncId(De,ye,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return ye;null!=ye&&B.clearInterval(ye)}execute(De,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(De,ye);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,ye){let G,ve=!1;try{this.work(De)}catch(z){ve=!0,G=z||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:De,scheduler:ye}=this,{actions:ve}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ve,this),null!=De&&(this.id=this.recycleAsyncId(ye,De,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,Se,V)=>{"use strict";V.d(Se,{v:()=>B});var I=V(6063);class u{constructor(se,pe=u.now){this.schedulerActionCtor=se,this.now=pe}schedule(se,pe=0,De){return new this.schedulerActionCtor(this,se).schedule(De,pe)}}u.now=I.l.now;class B extends u{constructor(se,pe=u.now){super(se,pe),this.actions=[],this._active=!1}flush(se){const{actions:pe}=this;if(this._active)return void pe.push(se);let De;this._active=!0;do{if(De=se.execute(se.state,se.delay))break}while(se=pe.shift());if(this._active=!1,De){for(;se=pe.shift();)se.unsubscribe();throw De}}}},4986:(yt,Se,V)=>{"use strict";V.d(Se,{P:()=>ae,z:()=>B});var I=V(4408);const B=new(V(7565).v)(I.o),ae=B},6063:(yt,Se,V)=>{"use strict";V.d(Se,{l:()=>I});const I={now:()=>(I.delegate||Date).now(),delegate:void 0}},3410:(yt,Se,V)=>{"use strict";V.d(Se,{z:()=>I});const I={setTimeout(u,B,...ae){const{delegate:se}=I;return se?.setTimeout?se.setTimeout(u,B,...ae):setTimeout(u,B,...ae)},clearTimeout(u){const{delegate:B}=I;return(B?.clearTimeout||clearTimeout)(u)},delegate:void 0}},2202:(yt,Se,V)=>{"use strict";V.d(Se,{h:()=>u});const u=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,Se,V)=>{"use strict";V.d(Se,{L:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(yt,Se,V)=>{"use strict";V.d(Se,{_6:()=>pe,jO:()=>ae,yG:()=>se});var I=V(576),u=V(3532);function B(De){return De[De.length-1]}function ae(De){return(0,I.m)(B(De))?De.pop():void 0}function se(De){return(0,u.K)(B(De))?De.pop():void 0}function pe(De,ye){return"number"==typeof B(De)?De.pop():ye}},8737:(yt,Se,V)=>{"use strict";function I(u,B){if(u){const ae=u.indexOf(B);0<=ae&&u.splice(ae,1)}}V.d(Se,{P:()=>I})},3888:(yt,Se,V)=>{"use strict";function I(u){const ae=u(se=>{Error.call(se),se.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}V.d(Se,{d:()=>I})},2806:(yt,Se,V)=>{"use strict";V.d(Se,{O:()=>ae,x:()=>B});var I=V(2416);let u=null;function B(se){if(I.v.useDeprecatedSynchronousErrorHandling){const pe=!u;if(pe&&(u={errorThrown:!1,error:null}),se(),pe){const{errorThrown:De,error:ye}=u;if(u=null,De)throw ye}}else se()}function ae(se){I.v.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=se)}},9672:(yt,Se,V)=>{"use strict";function I(u,B,ae,se=0,pe=!1){const De=B.schedule(function(){ae(),pe?u.add(this.schedule(null,se)):this.unsubscribe()},se);if(u.add(De),!pe)return De}V.d(Se,{f:()=>I})},4671:(yt,Se,V)=>{"use strict";function I(u){return u}V.d(Se,{y:()=>I})},1144:(yt,Se,V)=>{"use strict";V.d(Se,{z:()=>I});const I=u=>u&&"number"==typeof u.length&&"function"!=typeof u},2206:(yt,Se,V)=>{"use strict";V.d(Se,{D:()=>u});var I=V(576);function u(B){return Symbol.asyncIterator&&(0,I.m)(B?.[Symbol.asyncIterator])}},576:(yt,Se,V)=>{"use strict";function I(u){return"function"==typeof u}V.d(Se,{m:()=>I})},3670:(yt,Se,V)=>{"use strict";V.d(Se,{c:()=>B});var I=V(8822),u=V(576);function B(ae){return(0,u.m)(ae[I.L])}},6495:(yt,Se,V)=>{"use strict";V.d(Se,{T:()=>B});var I=V(2202),u=V(576);function B(ae){return(0,u.m)(ae?.[I.h])}},8239:(yt,Se,V)=>{"use strict";V.d(Se,{t:()=>u});var I=V(576);function u(B){return(0,I.m)(B?.then)}},3260:(yt,Se,V)=>{"use strict";V.d(Se,{L:()=>ae,Q:()=>B});var I=V(655),u=V(576);function B(se){return(0,I.FC)(this,arguments,function*(){const De=se.getReader();try{for(;;){const{value:ye,done:ve}=yield(0,I.qq)(De.read());if(ve)return yield(0,I.qq)(void 0);yield yield(0,I.qq)(ye)}}finally{De.releaseLock()}})}function ae(se){return(0,u.m)(se?.getReader)}},3532:(yt,Se,V)=>{"use strict";V.d(Se,{K:()=>u});var I=V(576);function u(B){return B&&(0,I.m)(B.schedule)}},4482:(yt,Se,V)=>{"use strict";V.d(Se,{A:()=>u,e:()=>B});var I=V(576);function u(ae){return(0,I.m)(ae?.lift)}function B(ae){return se=>{if(u(se))return se.lift(function(pe){try{return ae(pe,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(yt,Se,V)=>{"use strict";function I(){}V.d(Se,{Z:()=>I})},9635:(yt,Se,V)=>{"use strict";V.d(Se,{U:()=>B,z:()=>u});var I=V(4671);function u(...ae){return B(ae)}function B(ae){return 0===ae.length?I.y:1===ae.length?ae[0]:function(pe){return ae.reduce((De,ye)=>ye(De),pe)}}},7849:(yt,Se,V)=>{"use strict";V.d(Se,{h:()=>B});var I=V(2416),u=V(3410);function B(ae){u.z.setTimeout(()=>{const{onUnhandledError:se}=I.v;if(!se)throw ae;se(ae)})}},4532:(yt,Se,V)=>{"use strict";function I(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Se,{z:()=>I})},655:(yt,Se,V)=>{"use strict";function ae(ee,ie){var fe={};for(var le in ee)Object.prototype.hasOwnProperty.call(ee,le)&&ie.indexOf(le)<0&&(fe[le]=ee[le]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(le=Object.getOwnPropertySymbols(ee);Fe<le.length;Fe++)ie.indexOf(le[Fe])<0&&Object.prototype.propertyIsEnumerable.call(ee,le[Fe])&&(fe[le[Fe]]=ee[le[Fe]])}return fe}function ye(ee,ie,fe,le){return new(fe||(fe=Promise))(function(We,bt){function rn(bn){try{st(le.next(bn))}catch(En){bt(En)}}function Qt(bn){try{st(le.throw(bn))}catch(En){bt(En)}}function st(bn){bn.done?We(bn.value):function Fe(We){return We instanceof fe?We:new fe(function(bt){bt(We)})}(bn.value).then(rn,Qt)}st((le=le.apply(ee,ie||[])).next())})}function ge(ee){return this instanceof ge?(this.v=ee,this):new ge(ee)}function he(ee,ie,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,le=fe.apply(ee,ie||[]),We=[];return Fe={},bt("next"),bt("throw"),bt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function bt(sn){le[sn]&&(Fe[sn]=function(on){return new Promise(function(vr,$t){We.push([sn,on,vr,$t])>1||rn(sn,on)})})}function rn(sn,on){try{!function Qt(sn){sn.value instanceof ge?Promise.resolve(sn.value.v).then(st,bn):En(We[0][2],sn)}(le[sn](on))}catch(vr){En(We[0][3],vr)}}function st(sn){rn("next",sn)}function bn(sn){rn("throw",sn)}function En(sn,on){sn(on),We.shift(),We.length&&rn(We[0][0],We[0][1])}}function ot(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ie=ee[Symbol.asyncIterator];return ie?ie.call(ee):(ee=function X(ee){var ie="function"==typeof Symbol&&Symbol.iterator,fe=ie&&ee[ie],le=0;if(fe)return fe.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&le>=ee.length&&(ee=void 0),{value:ee&&ee[le++],done:!ee}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),fe={},le("next"),le("throw"),le("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function le(We){fe[We]=ee[We]&&function(bt){return new Promise(function(rn,Qt){!function Fe(We,bt,rn,Qt){Promise.resolve(Qt).then(function(st){We({value:st,done:rn})},bt)}(rn,Qt,(bt=ee[We](bt)).done,bt.value)})}}}V.d(Se,{FC:()=>he,KL:()=>ot,_T:()=>ae,mG:()=>ye,qq:()=>ge})},6895:(yt,Se,V)=>{"use strict";V.r(Se),V.d(Se,{APP_BASE_HREF:()=>he,AsyncPipe:()=>$a,CommonModule:()=>no,CurrencyPipe:()=>_s,DATE_PIPE_DEFAULT_TIMEZONE:()=>Ha,DOCUMENT:()=>De,DatePipe:()=>Bl,DecimalPipe:()=>_i,FormStyle:()=>ee,FormatWidth:()=>fe,HashLocationStrategy:()=>ot,I18nPluralPipe:()=>gi,I18nSelectPipe:()=>mi,IMAGE_LOADER:()=>ra,JsonPipe:()=>Jo,KeyValuePipe:()=>jl,LOCATION_INITIALIZED:()=>G,Location:()=>ke,LocationStrategy:()=>ge,LowerCasePipe:()=>Eo,NgClass:()=>jt,NgComponentOutlet:()=>Pc,NgFor:()=>Pi,NgForOf:()=>Pi,NgForOfContext:()=>fi,NgIf:()=>gr,NgIfContext:()=>pi,NgLocaleLocalization:()=>zn,NgLocalization:()=>ps,NgOptimizedImage:()=>Yi,NgPlural:()=>Ll,NgPluralCase:()=>Qo,NgStyle:()=>Vl,NgSwitch:()=>Mt,NgSwitchCase:()=>gs,NgSwitchDefault:()=>eo,NgTemplateOutlet:()=>Ua,NumberFormatStyle:()=>q,NumberSymbol:()=>le,PRECONNECT_CHECK_BLOCKLIST:()=>so,PathLocationStrategy:()=>Je,PercentPipe:()=>yi,PlatformLocation:()=>ye,Plural:()=>Ne,SlicePipe:()=>to,TitleCasePipe:()=>Cr,TranslationWidth:()=>ie,UpperCasePipe:()=>Lc,VERSION:()=>Nn,ViewportScroller:()=>qa,WeekDay:()=>Fe,XhrFactory:()=>ro,formatCurrency:()=>Xr,formatDate:()=>Dn,formatNumber:()=>Bt,formatPercent:()=>Xs,getCurrencySymbol:()=>hs,getLocaleCurrencyCode:()=>$r,getLocaleCurrencyName:()=>Kr,getLocaleCurrencySymbol:()=>ds,getLocaleDateFormat:()=>sn,getLocaleDateTimeFormat:()=>vr,getLocaleDayNames:()=>rn,getLocaleDayPeriods:()=>bt,getLocaleDirection:()=>Js,getLocaleEraNames:()=>st,getLocaleExtraDayPeriodRules:()=>Rr,getLocaleExtraDayPeriods:()=>Qr,getLocaleFirstDayOfWeek:()=>bn,getLocaleId:()=>We,getLocaleMonthNames:()=>Qt,getLocaleNumberFormat:()=>In,getLocaleNumberSymbol:()=>$t,getLocalePluralCase:()=>Fs,getLocaleTimeFormat:()=>on,getLocaleWeekEndRange:()=>En,getNumberOfCurrencyDigits:()=>Yr,isPlatformBrowser:()=>za,isPlatformServer:()=>Lr,isPlatformWorkerApp:()=>To,isPlatformWorkerUi:()=>Ul,provideCloudflareLoader:()=>Ae,provideCloudinaryLoader:()=>Vs,provideImageKitLoader:()=>qn,provideImgixLoader:()=>Bs,registerLocaleData:()=>$n,\u0275BrowserPlatformLocation:()=>z,\u0275DomAdapter:()=>pe,\u0275NullViewportScroller:()=>So,\u0275PLATFORM_BROWSER_ID:()=>ki,\u0275PLATFORM_SERVER_ID:()=>ti,\u0275PLATFORM_WORKER_APP_ID:()=>Hr,\u0275PLATFORM_WORKER_UI_ID:()=>ys,\u0275getDOM:()=>B,\u0275parseCookieValue:()=>ja,\u0275setRootDomAdapter:()=>se});var I=V(4650);let u=null;function B(){return u}function se(C){u||(u=C)}class pe{}const De=new I.InjectionToken("DocumentToken");let ye=(()=>{class C{historyGo(T){throw new Error("Not implemented")}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:function(){return function ve(){return(0,I.\u0275\u0275inject)(z)}()},providedIn:"platform"}),C})();const G=new I.InjectionToken("Location Initialized");let z=(()=>{class C extends ye{constructor(T){super(),this._doc=T,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(T){const k=B().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",T,!1),()=>k.removeEventListener("popstate",T)}onHashChange(T){const k=B().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",T,!1),()=>k.removeEventListener("hashchange",T)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(T){this.location.pathname=T}pushState(T,k,H){X()?this._history.pushState(T,k,H):this.location.hash=H}replaceState(T,k,H){X()?this._history.replaceState(T,k,H):this.location.hash=H}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275inject(De))},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:function(){return function He(){return new z((0,I.\u0275\u0275inject)(De))}()},providedIn:"platform"}),C})();function X(){return!!window.history.pushState}function we(C,O){if(0==C.length)return O;if(0==O.length)return C;let T=0;return C.endsWith("/")&&T++,O.startsWith("/")&&T++,2==T?C+O.substring(1):1==T?C+O:C+"/"+O}function ce(C){const O=C.match(/#|\?|$/),T=O&&O.index||C.length;return C.slice(0,T-("/"===C[T-1]?1:0))+C.slice(T)}function Ge(C){return C&&"?"!==C[0]?"?"+C:C}let ge=(()=>{class C{historyGo(T){throw new Error("Not implemented")}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:function(){return(0,I.inject)(Je)},providedIn:"root"}),C})();const he=new I.InjectionToken("appBaseHref");let Je=(()=>{class C extends ge{constructor(T,k){super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,I.inject)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return we(this._baseHref,T)}path(T=!1){const k=this._platformLocation.pathname+Ge(this._platformLocation.search),H=this._platformLocation.hash;return H&&T?`${k}${H}`:k}pushState(T,k,H,de){const Ie=this.prepareExternalUrl(H+Ge(de));this._platformLocation.pushState(T,k,Ie)}replaceState(T,k,H,de){const Ie=this.prepareExternalUrl(H+Ge(de));this._platformLocation.replaceState(T,k,Ie)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275inject(ye),I.\u0275\u0275inject(he,8))},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),ot=(()=>{class C extends ge{constructor(T,k){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(T){const k=we(this._baseHref,T);return k.length>0?"#"+k:k}pushState(T,k,H,de){let Ie=this.prepareExternalUrl(H+Ge(de));0==Ie.length&&(Ie=this._platformLocation.pathname),this._platformLocation.pushState(T,k,Ie)}replaceState(T,k,H,de){let Ie=this.prepareExternalUrl(H+Ge(de));0==Ie.length&&(Ie=this._platformLocation.pathname),this._platformLocation.replaceState(T,k,Ie)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275inject(ye),I.\u0275\u0275inject(he,8))},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})(),ke=(()=>{class C{constructor(T){this._subject=new I.EventEmitter,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const k=this._locationStrategy.getBaseHref();this._baseHref=ce(Ye(k)),this._locationStrategy.onPopState(H=>{this._subject.emit({url:this.path(!0),pop:!0,state:H.state,type:H.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,k=""){return this.path()==this.normalize(T+Ge(k))}normalize(T){return C.stripTrailingSlash(function Pe(C,O){return C&&O.startsWith(C)?O.substring(C.length):O}(this._baseHref,Ye(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,k="",H=null){this._locationStrategy.pushState(H,"",T,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+Ge(k)),H)}replaceState(T,k="",H=null){this._locationStrategy.replaceState(H,"",T,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+Ge(k)),H)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)})),()=>{const k=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",k){this._urlChangeListeners.forEach(H=>H(T,k))}subscribe(T,k,H){return this._subject.subscribe({next:T,error:k,complete:H})}}return C.normalizeQueryParams=Ge,C.joinWithSlash=we,C.stripTrailingSlash=ce,C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275inject(ge))},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:function(){return function Me(){return new ke((0,I.\u0275\u0275inject)(ge))}()},providedIn:"root"}),C})();function Ye(C){return C.replace(/\/index.html$/,"")}const Xe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var q=(()=>((q=q||{})[q.Decimal=0]="Decimal",q[q.Percent=1]="Percent",q[q.Currency=2]="Currency",q[q.Scientific=3]="Scientific",q))(),Ne=(()=>((Ne=Ne||{})[Ne.Zero=0]="Zero",Ne[Ne.One=1]="One",Ne[Ne.Two=2]="Two",Ne[Ne.Few=3]="Few",Ne[Ne.Many=4]="Many",Ne[Ne.Other=5]="Other",Ne))(),ee=(()=>((ee=ee||{})[ee.Format=0]="Format",ee[ee.Standalone=1]="Standalone",ee))(),ie=(()=>((ie=ie||{})[ie.Narrow=0]="Narrow",ie[ie.Abbreviated=1]="Abbreviated",ie[ie.Wide=2]="Wide",ie[ie.Short=3]="Short",ie))(),fe=(()=>((fe=fe||{})[fe.Short=0]="Short",fe[fe.Medium=1]="Medium",fe[fe.Long=2]="Long",fe[fe.Full=3]="Full",fe))(),le=(()=>((le=le||{})[le.Decimal=0]="Decimal",le[le.Group=1]="Group",le[le.List=2]="List",le[le.PercentSign=3]="PercentSign",le[le.PlusSign=4]="PlusSign",le[le.MinusSign=5]="MinusSign",le[le.Exponential=6]="Exponential",le[le.SuperscriptingExponent=7]="SuperscriptingExponent",le[le.PerMille=8]="PerMille",le[le.Infinity=9]="Infinity",le[le.NaN=10]="NaN",le[le.TimeSeparator=11]="TimeSeparator",le[le.CurrencyDecimal=12]="CurrencyDecimal",le[le.CurrencyGroup=13]="CurrencyGroup",le))(),Fe=(()=>((Fe=Fe||{})[Fe.Sunday=0]="Sunday",Fe[Fe.Monday=1]="Monday",Fe[Fe.Tuesday=2]="Tuesday",Fe[Fe.Wednesday=3]="Wednesday",Fe[Fe.Thursday=4]="Thursday",Fe[Fe.Friday=5]="Friday",Fe[Fe.Saturday=6]="Saturday",Fe))();function We(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.LocaleId]}function bt(C,O,T){const k=(0,I.\u0275findLocaleData)(C),de=at([k[I.\u0275LocaleDataIndex.DayPeriodsFormat],k[I.\u0275LocaleDataIndex.DayPeriodsStandalone]],O);return at(de,T)}function rn(C,O,T){const k=(0,I.\u0275findLocaleData)(C),de=at([k[I.\u0275LocaleDataIndex.DaysFormat],k[I.\u0275LocaleDataIndex.DaysStandalone]],O);return at(de,T)}function Qt(C,O,T){const k=(0,I.\u0275findLocaleData)(C),de=at([k[I.\u0275LocaleDataIndex.MonthsFormat],k[I.\u0275LocaleDataIndex.MonthsStandalone]],O);return at(de,T)}function st(C,O){return at((0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.Eras],O)}function bn(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.FirstDayOfWeek]}function En(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.WeekendRange]}function sn(C,O){return at((0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.DateFormat],O)}function on(C,O){return at((0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.TimeFormat],O)}function vr(C,O){return at((0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.DateTimeFormat],O)}function $t(C,O){const T=(0,I.\u0275findLocaleData)(C),k=T[I.\u0275LocaleDataIndex.NumberSymbols][O];if(typeof k>"u"){if(O===le.CurrencyDecimal)return T[I.\u0275LocaleDataIndex.NumberSymbols][le.Decimal];if(O===le.CurrencyGroup)return T[I.\u0275LocaleDataIndex.NumberSymbols][le.Group]}return k}function In(C,O){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.NumberFormats][O]}function ds(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.CurrencySymbol]||null}function Kr(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.CurrencyName]||null}function $r(C){return(0,I.\u0275getLocaleCurrencyCode)(C)}const Fs=I.\u0275getLocalePluralCase;function ui(C){if(!C[I.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${C[I.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Rr(C){const O=(0,I.\u0275findLocaleData)(C);return ui(O),(O[I.\u0275LocaleDataIndex.ExtraData][2]||[]).map(k=>"string"==typeof k?br(k):[br(k[0]),br(k[1])])}function Qr(C,O,T){const k=(0,I.\u0275findLocaleData)(C);ui(k);const de=at([k[I.\u0275LocaleDataIndex.ExtraData][0],k[I.\u0275LocaleDataIndex.ExtraData][1]],O)||[];return at(de,T)||[]}function Js(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.Directionality]}function at(C,O){for(let T=O;T>-1;T--)if(typeof C[T]<"u")return C[T];throw new Error("Locale data API: locale data undefined")}function br(C){const[O,T]=C.split(":");return{hours:+O,minutes:+T}}function hs(C,O,T="en"){const k=function Zr(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.Currencies]}(T)[C]||Xe[C]||[],H=k[1];return"narrow"===O&&"string"==typeof H?H:k[0]||C}function Yr(C){let O;const T=Xe[C];return T&&(O=T[2]),"number"==typeof O?O:2}const fs=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kn={},Wn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Gt=(()=>((Gt=Gt||{})[Gt.Short=0]="Short",Gt[Gt.ShortGMT=1]="ShortGMT",Gt[Gt.Long=2]="Long",Gt[Gt.Extended=3]="Extended",Gt))(),Et=(()=>((Et=Et||{})[Et.FullYear=0]="FullYear",Et[Et.Month=1]="Month",Et[Et.Date=2]="Date",Et[Et.Hours=3]="Hours",Et[Et.Minutes=4]="Minutes",Et[Et.Seconds=5]="Seconds",Et[Et.FractionalSeconds=6]="FractionalSeconds",Et[Et.Day=7]="Day",Et))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function Dn(C,O,T,k){let H=function nt(C){if(fn(C))return C;if("number"==typeof C&&!isNaN(C))return new Date(C);if("string"==typeof C){if(C=C.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(C)){const[H,de=1,Ie=1]=C.split("-").map(lt=>+lt);return fr(H,de-1,Ie)}const T=parseFloat(C);if(!isNaN(C-T))return new Date(T);let k;if(k=C.match(fs))return function Ct(C){const O=new Date(0);let T=0,k=0;const H=C[8]?O.setUTCFullYear:O.setFullYear,de=C[8]?O.setUTCHours:O.setHours;C[9]&&(T=Number(C[9]+C[10]),k=Number(C[9]+C[11])),H.call(O,Number(C[1]),Number(C[2])-1,Number(C[3]));const Ie=Number(C[4]||0)-T,lt=Number(C[5]||0)-k,nn=Number(C[6]||0),un=Math.floor(1e3*parseFloat("0."+(C[7]||0)));return de.call(O,Ie,lt,nn,un),O}(k)}const O=new Date(C);if(!fn(O))throw new Error(`Unable to convert "${C}" into a date`);return O}(C);O=Tn(T,O)||O;let lt,Ie=[];for(;O;){if(lt=Wn.exec(O),!lt){Ie.push(O);break}{Ie=Ie.concat(lt.slice(1));const dn=Ie.pop();if(!dn)break;O=dn}}let nn=H.getTimezoneOffset();k&&(nn=te(k,nn),H=function re(C,O,T){const k=T?-1:1,H=C.getTimezoneOffset();return function Oe(C,O){return(C=new Date(C.getTime())).setMinutes(C.getMinutes()+O),C}(C,k*(te(O,H)-H))}(H,k,!0));let un="";return Ie.forEach(dn=>{const Yt=function W(C){if(K[C])return K[C];let O;switch(C){case"G":case"GG":case"GGG":O=_n(It.Eras,ie.Abbreviated);break;case"GGGG":O=_n(It.Eras,ie.Wide);break;case"GGGGG":O=_n(It.Eras,ie.Narrow);break;case"y":O=cn(Et.FullYear,1,0,!1,!0);break;case"yy":O=cn(Et.FullYear,2,0,!0,!0);break;case"yyy":O=cn(Et.FullYear,3,0,!1,!0);break;case"yyyy":O=cn(Et.FullYear,4,0,!1,!0);break;case"Y":O=Kt(1);break;case"YY":O=Kt(2,!0);break;case"YYY":O=Kt(3);break;case"YYYY":O=Kt(4);break;case"M":case"L":O=cn(Et.Month,1,1);break;case"MM":case"LL":O=cn(Et.Month,2,1);break;case"MMM":O=_n(It.Months,ie.Abbreviated);break;case"MMMM":O=_n(It.Months,ie.Wide);break;case"MMMMM":O=_n(It.Months,ie.Narrow);break;case"LLL":O=_n(It.Months,ie.Abbreviated,ee.Standalone);break;case"LLLL":O=_n(It.Months,ie.Wide,ee.Standalone);break;case"LLLLL":O=_n(It.Months,ie.Narrow,ee.Standalone);break;case"w":O=Ot(1);break;case"ww":O=Ot(2);break;case"W":O=Ot(1,!0);break;case"d":O=cn(Et.Date,1);break;case"dd":O=cn(Et.Date,2);break;case"c":case"cc":O=cn(Et.Day,1);break;case"ccc":O=_n(It.Days,ie.Abbreviated,ee.Standalone);break;case"cccc":O=_n(It.Days,ie.Wide,ee.Standalone);break;case"ccccc":O=_n(It.Days,ie.Narrow,ee.Standalone);break;case"cccccc":O=_n(It.Days,ie.Short,ee.Standalone);break;case"E":case"EE":case"EEE":O=_n(It.Days,ie.Abbreviated);break;case"EEEE":O=_n(It.Days,ie.Wide);break;case"EEEEE":O=_n(It.Days,ie.Narrow);break;case"EEEEEE":O=_n(It.Days,ie.Short);break;case"a":case"aa":case"aaa":O=_n(It.DayPeriods,ie.Abbreviated);break;case"aaaa":O=_n(It.DayPeriods,ie.Wide);break;case"aaaaa":O=_n(It.DayPeriods,ie.Narrow);break;case"b":case"bb":case"bbb":O=_n(It.DayPeriods,ie.Abbreviated,ee.Standalone,!0);break;case"bbbb":O=_n(It.DayPeriods,ie.Wide,ee.Standalone,!0);break;case"bbbbb":O=_n(It.DayPeriods,ie.Narrow,ee.Standalone,!0);break;case"B":case"BB":case"BBB":O=_n(It.DayPeriods,ie.Abbreviated,ee.Format,!0);break;case"BBBB":O=_n(It.DayPeriods,ie.Wide,ee.Format,!0);break;case"BBBBB":O=_n(It.DayPeriods,ie.Narrow,ee.Format,!0);break;case"h":O=cn(Et.Hours,1,-12);break;case"hh":O=cn(Et.Hours,2,-12);break;case"H":O=cn(Et.Hours,1);break;case"HH":O=cn(Et.Hours,2);break;case"m":O=cn(Et.Minutes,1);break;case"mm":O=cn(Et.Minutes,2);break;case"s":O=cn(Et.Seconds,1);break;case"ss":O=cn(Et.Seconds,2);break;case"S":O=cn(Et.FractionalSeconds,1);break;case"SS":O=cn(Et.FractionalSeconds,2);break;case"SSS":O=cn(Et.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":O=Pr(Gt.Short);break;case"ZZZZZ":O=Pr(Gt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":O=Pr(Gt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":O=Pr(Gt.Long);break;default:return null}return K[C]=O,O}(dn);un+=Yt?Yt(H,T,nn):"''"===dn?"'":dn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),un}function fr(C,O,T){const k=new Date(0);return k.setFullYear(C,O,T),k.setHours(0,0,0),k}function Tn(C,O){const T=We(C);if(Kn[T]=Kn[T]||{},Kn[T][O])return Kn[T][O];let k="";switch(O){case"shortDate":k=sn(C,fe.Short);break;case"mediumDate":k=sn(C,fe.Medium);break;case"longDate":k=sn(C,fe.Long);break;case"fullDate":k=sn(C,fe.Full);break;case"shortTime":k=on(C,fe.Short);break;case"mediumTime":k=on(C,fe.Medium);break;case"longTime":k=on(C,fe.Long);break;case"fullTime":k=on(C,fe.Full);break;case"short":const H=Tn(C,"shortTime"),de=Tn(C,"shortDate");k=Jr(vr(C,fe.Short),[H,de]);break;case"medium":const Ie=Tn(C,"mediumTime"),lt=Tn(C,"mediumDate");k=Jr(vr(C,fe.Medium),[Ie,lt]);break;case"long":const nn=Tn(C,"longTime"),un=Tn(C,"longDate");k=Jr(vr(C,fe.Long),[nn,un]);break;case"full":const dn=Tn(C,"fullTime"),Yt=Tn(C,"fullDate");k=Jr(vr(C,fe.Full),[dn,Yt])}return k&&(Kn[T][O]=k),k}function Jr(C,O){return O&&(C=C.replace(/\{([^}]+)}/g,function(T,k){return null!=O&&k in O?O[k]:T})),C}function Vt(C,O,T="-",k,H){let de="";(C<0||H&&C<=0)&&(H?C=1-C:(C=-C,de=T));let Ie=String(C);for(;Ie.length<O;)Ie="0"+Ie;return k&&(Ie=Ie.slice(Ie.length-O)),de+Ie}function cn(C,O,T=0,k=!1,H=!1){return function(de,Ie){let lt=function Zi(C,O){switch(C){case Et.FullYear:return O.getFullYear();case Et.Month:return O.getMonth();case Et.Date:return O.getDate();case Et.Hours:return O.getHours();case Et.Minutes:return O.getMinutes();case Et.Seconds:return O.getSeconds();case Et.FractionalSeconds:return O.getMilliseconds();case Et.Day:return O.getDay();default:throw new Error(`Unknown DateType value "${C}".`)}}(C,de);if((T>0||lt>-T)&&(lt+=T),C===Et.Hours)0===lt&&-12===T&&(lt=12);else if(C===Et.FractionalSeconds)return function Ri(C,O){return Vt(C,3).substring(0,O)}(lt,O);const nn=$t(Ie,le.MinusSign);return Vt(lt,O,nn,k,H)}}function _n(C,O,T=ee.Format,k=!1){return function(H,de){return function pr(C,O,T,k,H,de){switch(T){case It.Months:return Qt(O,H,k)[C.getMonth()];case It.Days:return rn(O,H,k)[C.getDay()];case It.DayPeriods:const Ie=C.getHours(),lt=C.getMinutes();if(de){const un=Rr(O),dn=Qr(O,H,k),Yt=un.findIndex(ir=>{if(Array.isArray(ir)){const[yn,Ln]=ir,Li=Ie>=yn.hours&&lt>=yn.minutes,Gr=Ie<Ln.hours||Ie===Ln.hours&&lt<Ln.minutes;if(yn.hours<Ln.hours){if(Li&&Gr)return!0}else if(Li||Gr)return!0}else if(ir.hours===Ie&&ir.minutes===lt)return!0;return!1});if(-1!==Yt)return dn[Yt]}return bt(O,H,k)[Ie<12?0:1];case It.Eras:return st(O,k)[C.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${T}`)}}(H,de,C,O,T,k)}}function Pr(C){return function(O,T,k){const H=-1*k,de=$t(T,le.MinusSign),Ie=H>0?Math.floor(H/60):Math.ceil(H/60);switch(C){case Gt.Short:return(H>=0?"+":"")+Vt(Ie,2,de)+Vt(Math.abs(H%60),2,de);case Gt.ShortGMT:return"GMT"+(H>=0?"+":"")+Vt(Ie,1,de);case Gt.Long:return"GMT"+(H>=0?"+":"")+Vt(Ie,2,de)+":"+Vt(Math.abs(H%60),2,de);case Gt.Extended:return 0===k?"Z":(H>=0?"+":"")+Vt(Ie,2,de)+":"+Vt(Math.abs(H%60),2,de);default:throw new Error(`Unknown zone width "${C}"`)}}}function Rt(C){return fr(C.getFullYear(),C.getMonth(),C.getDate()+(4-C.getDay()))}function Ot(C,O=!1){return function(T,k){let H;if(O){const de=new Date(T.getFullYear(),T.getMonth(),1).getDay()-1,Ie=T.getDate();H=1+Math.floor((Ie+de)/7)}else{const de=Rt(T),Ie=function mt(C){const O=fr(C,0,1).getDay();return fr(C,0,1+(O<=4?4:11)-O)}(de.getFullYear()),lt=de.getTime()-Ie.getTime();H=1+Math.round(lt/6048e5)}return Vt(H,C,$t(k,le.MinusSign))}}function Kt(C,O=!1){return function(T,k){return Vt(Rt(T).getFullYear(),C,$t(k,le.MinusSign),O)}}const K={};function te(C,O){C=C.replace(/:/g,"");const T=Date.parse("Jan 01, 1970 00:00:00 "+C)/6e4;return isNaN(T)?O:T}function fn(C){return C instanceof Date&&!isNaN(C.valueOf())}const Sn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function zt(C,O,T,k,H,de,Ie=!1){let lt="",nn=!1;if(isFinite(C)){let un=function On(C){let k,H,de,Ie,lt,O=Math.abs(C)+"",T=0;for((H=O.indexOf("."))>-1&&(O=O.replace(".","")),(de=O.search(/e/i))>0?(H<0&&(H=de),H+=+O.slice(de+1),O=O.substring(0,de)):H<0&&(H=O.length),de=0;"0"===O.charAt(de);de++);if(de===(lt=O.length))k=[0],H=1;else{for(lt--;"0"===O.charAt(lt);)lt--;for(H-=de,k=[],Ie=0;de<=lt;de++,Ie++)k[Ie]=Number(O.charAt(de))}return H>22&&(k=k.splice(0,21),T=H-1,H=1),{digits:k,exponent:T,integerLen:H}}(C);Ie&&(un=function ei(C){if(0===C.digits[0])return C;const O=C.digits.length-C.integerLen;return C.exponent?C.exponent+=2:(0===O?C.digits.push(0,0):1===O&&C.digits.push(0),C.integerLen+=2),C}(un));let dn=O.minInt,Yt=O.minFrac,ir=O.maxFrac;if(de){const co=de.match(Sn);if(null===co)throw new Error(`${de} is not a valid digit info`);const wi=co[1],Ii=co[3],Ji=co[5];null!=wi&&(dn=tt(wi)),null!=Ii&&(Yt=tt(Ii)),null!=Ji?ir=tt(Ji):null!=Ii&&Yt>ir&&(ir=Yt)}!function di(C,O,T){if(O>T)throw new Error(`The minimum number of digits after fraction (${O}) is higher than the maximum (${T}).`);let k=C.digits,H=k.length-C.integerLen;const de=Math.min(Math.max(O,H),T);let Ie=de+C.integerLen,lt=k[Ie];if(Ie>0){k.splice(Math.max(C.integerLen,Ie));for(let Yt=Ie;Yt<k.length;Yt++)k[Yt]=0}else{H=Math.max(0,H),C.integerLen=1,k.length=Math.max(1,Ie=de+1),k[0]=0;for(let Yt=1;Yt<Ie;Yt++)k[Yt]=0}if(lt>=5)if(Ie-1<0){for(let Yt=0;Yt>Ie;Yt--)k.unshift(0),C.integerLen++;k.unshift(1),C.integerLen++}else k[Ie-1]++;for(;H<Math.max(0,de);H++)k.push(0);let nn=0!==de;const un=O+C.integerLen,dn=k.reduceRight(function(Yt,ir,yn,Ln){return Ln[yn]=(ir+=Yt)<10?ir:ir-10,nn&&(0===Ln[yn]&&yn>=un?Ln.pop():nn=!1),ir>=10?1:0},0);dn&&(k.unshift(dn),C.integerLen++)}(un,Yt,ir);let yn=un.digits,Ln=un.integerLen;const Li=un.exponent;let Gr=[];for(nn=yn.every(co=>!co);Ln<dn;Ln++)yn.unshift(0);for(;Ln<0;Ln++)yn.unshift(0);Ln>0?Gr=yn.splice(Ln,yn.length):(Gr=yn,yn=[0]);const Vi=[];for(yn.length>=O.lgSize&&Vi.unshift(yn.splice(-O.lgSize,yn.length).join(""));yn.length>O.gSize;)Vi.unshift(yn.splice(-O.gSize,yn.length).join(""));yn.length&&Vi.unshift(yn.join("")),lt=Vi.join($t(T,k)),Gr.length&&(lt+=$t(T,H)+Gr.join("")),Li&&(lt+=$t(T,le.Exponential)+"+"+Li)}else lt=$t(T,le.Infinity);return lt=C<0&&!nn?O.negPre+lt+O.negSuf:O.posPre+lt+O.posSuf,lt}function Xr(C,O,T,k,H){const Ie=Zt(In(O,q.Currency),$t(O,le.MinusSign));return Ie.minFrac=Yr(k),Ie.maxFrac=Ie.minFrac,zt(C,Ie,O,le.CurrencyGroup,le.CurrencyDecimal,H).replace("\xa4",T).replace("\xa4","").trim()}function Xs(C,O,T){return zt(C,Zt(In(O,q.Percent),$t(O,le.MinusSign)),O,le.Group,le.Decimal,T,!0).replace(new RegExp("%","g"),$t(O,le.PercentSign))}function Bt(C,O,T){return zt(C,Zt(In(O,q.Decimal),$t(O,le.MinusSign)),O,le.Group,le.Decimal,T)}function Zt(C,O="-"){const T={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},k=C.split(";"),H=k[0],de=k[1],Ie=-1!==H.indexOf(".")?H.split("."):[H.substring(0,H.lastIndexOf("0")+1),H.substring(H.lastIndexOf("0")+1)],lt=Ie[0],nn=Ie[1]||"";T.posPre=lt.substring(0,lt.indexOf("#"));for(let dn=0;dn<nn.length;dn++){const Yt=nn.charAt(dn);"0"===Yt?T.minFrac=T.maxFrac=dn+1:"#"===Yt?T.maxFrac=dn+1:T.posSuf+=Yt}const un=lt.split(",");if(T.gSize=un[1]?un[1].length:0,T.lgSize=un[2]||un[1]?(un[2]||un[1]).length:0,de){const dn=H.length-T.posPre.length-T.posSuf.length,Yt=de.indexOf("#");T.negPre=de.substring(0,Yt).replace(/'/g,""),T.negSuf=de.slice(Yt+dn).replace(/'/g,"")}else T.negPre=O+T.posPre,T.negSuf=T.posSuf;return T}function tt(C){const O=parseInt(C);if(isNaN(O))throw new Error("Invalid integer literal when parsing "+C);return O}let ps=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:function(T){let k=null;return T?k=new T:(H=I.\u0275\u0275inject(I.LOCALE_ID),k=new zn(H)),k;var H},providedIn:"root"}),C})();function hi(C,O,T,k){let H=`=${C}`;if(O.indexOf(H)>-1||(H=T.getPluralCategory(C,k),O.indexOf(H)>-1))return H;if(O.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${C}"`)}let zn=(()=>{class C extends ps{constructor(T){super(),this.locale=T}getPluralCategory(T,k){switch(Fs(k||this.locale)(T)){case Ne.Zero:return"zero";case Ne.One:return"one";case Ne.Two:return"two";case Ne.Few:return"few";case Ne.Many:return"many";default:return"other"}}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275inject(I.LOCALE_ID))},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})();function $n(C,O,T){return(0,I.\u0275registerLocaleData)(C,O,T)}function ja(C,O){O=encodeURIComponent(O);for(const T of C.split(";")){const k=T.indexOf("="),[H,de]=-1==k?[T,""]:[T.slice(0,k),T.slice(k+1)];if(H.trim()===O)return decodeURIComponent(de)}return null}let jt=(()=>{class C{constructor(T,k,H,de){this._iterableDiffers=T,this._keyValueDiffers=k,this._ngEl=H,this._renderer=de,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(T){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof T?T.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(T){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof T?T.split(/\s+/):T,this._rawClass&&((0,I.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const T=this._iterableDiffer.diff(this._rawClass);T&&this._applyIterableChanges(T)}else if(this._keyValueDiffer){const T=this._keyValueDiffer.diff(this._rawClass);T&&this._applyKeyValueChanges(T)}}_applyKeyValueChanges(T){T.forEachAddedItem(k=>this._toggleClass(k.key,k.currentValue)),T.forEachChangedItem(k=>this._toggleClass(k.key,k.currentValue)),T.forEachRemovedItem(k=>{k.previousValue&&this._toggleClass(k.key,!1)})}_applyIterableChanges(T){T.forEachAddedItem(k=>{if("string"!=typeof k.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,I.\u0275stringify)(k.item)}`);this._toggleClass(k.item,!0)}),T.forEachRemovedItem(k=>this._toggleClass(k.item,!1))}_applyClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(k=>this._toggleClass(k,!0)):Object.keys(T).forEach(k=>this._toggleClass(k,!!T[k])))}_removeClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(k=>this._toggleClass(k,!1)):Object.keys(T).forEach(k=>this._toggleClass(k,!1)))}_toggleClass(T,k){(T=T.trim())&&T.split(/\s+/g).forEach(H=>{k?this._renderer.addClass(this._ngEl.nativeElement,H):this._renderer.removeClass(this._ngEl.nativeElement,H)})}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.IterableDiffers),I.\u0275\u0275directiveInject(I.KeyValueDiffers),I.\u0275\u0275directiveInject(I.ElementRef),I.\u0275\u0275directiveInject(I.Renderer2))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),C})(),Pc=(()=>{class C{constructor(T){this._viewContainerRef=T,this.ngComponentOutlet=null}ngOnChanges(T){const{_viewContainerRef:k,ngComponentOutletNgModule:H,ngComponentOutletNgModuleFactory:de}=this;if(k.clear(),this._componentRef=void 0,this.ngComponentOutlet){const Ie=this.ngComponentOutletInjector||k.parentInjector;(T.ngComponentOutletNgModule||T.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=H?(0,I.createNgModule)(H,kc(Ie)):de?de.create(kc(Ie)):void 0),this._componentRef=k.createComponent(this.ngComponentOutlet,{index:k.length,injector:Ie,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ViewContainerRef))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[I.\u0275\u0275NgOnChangesFeature]}),C})();function kc(C){return C.get(I.NgModuleRef).injector}class fi{constructor(O,T,k,H){this.$implicit=O,this.ngForOf=T,this.index=k,this.count=H}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pi=(()=>{class C{constructor(T,k,H){this._viewContainer=T,this._template=k,this._differs=H,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const k=this._viewContainer;T.forEachOperation((H,de,Ie)=>{if(null==H.previousIndex)k.createEmbeddedView(this._template,new fi(H.item,this._ngForOf,-1,-1),null===Ie?void 0:Ie);else if(null==Ie)k.remove(null===de?void 0:de);else if(null!==de){const lt=k.get(de);k.move(lt,Ie),kr(lt,H)}});for(let H=0,de=k.length;H<de;H++){const lt=k.get(H).context;lt.index=H,lt.count=de,lt.ngForOf=this._ngForOf}T.forEachIdentityChange(H=>{kr(k.get(H.currentIndex),H)})}static ngTemplateContextGuard(T,k){return!0}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(I.IterableDiffers))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),C})();function kr(C,O){C.context.$implicit=O.item}let gr=(()=>{class C{constructor(T,k){this._viewContainer=T,this._context=new pi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){rt("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){rt("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,k){return!0}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),C})();class pi{constructor(){this.$implicit=null,this.ngIf=null}}function rt(C,O){if(O&&!O.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,I.\u0275stringify)(O)}'.`)}class Dr{constructor(O,T){this._viewContainerRef=O,this._templateRef=T,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(O){O&&!this._created?this.create():!O&&this._created&&this.destroy()}}let Mt=(()=>{class C{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(T){this._ngSwitch=T,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(T){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(T)}_matchCase(T){const k=T==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||k,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),k}_updateDefaultCases(T){if(this._defaultViews&&T!==this._defaultUsed){this._defaultUsed=T;for(let k=0;k<this._defaultViews.length;k++)this._defaultViews[k].enforceState(T)}}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),C})(),gs=(()=>{class C{constructor(T,k,H){this.ngSwitch=H,H._addCase(),this._view=new Dr(T,k)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(Mt,9))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),C})(),eo=(()=>{class C{constructor(T,k,H){H._addDefault(new Dr(T,k))}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(Mt,9))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngSwitchDefault",""]],standalone:!0}),C})(),Ll=(()=>{class C{constructor(T){this._localization=T,this._caseViews={}}set ngPlural(T){this._switchValue=T,this._updateView()}addCase(T,k){this._caseViews[T]=k}_updateView(){this._clearViews();const T=Object.keys(this._caseViews),k=hi(this._switchValue,T,this._localization);this._activateView(this._caseViews[k])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(T){T&&(this._activeView=T,this._activeView.create())}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(ps))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0}),C})(),Qo=(()=>{class C{constructor(T,k,H,de){this.value=T;const Ie=!isNaN(Number(T));de.addCase(Ie?`=${T}`:T,new Dr(H,k))}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275injectAttribute("ngPluralCase"),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(Ll,1))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngPluralCase",""]],standalone:!0}),C})(),Vl=(()=>{class C{constructor(T,k,H){this._ngEl=T,this._differs=k,this._renderer=H,this._ngStyle=null,this._differ=null}set ngStyle(T){this._ngStyle=T,!this._differ&&T&&(this._differ=this._differs.find(T).create())}ngDoCheck(){if(this._differ){const T=this._differ.diff(this._ngStyle);T&&this._applyChanges(T)}}_setStyle(T,k){const[H,de]=T.split("."),Ie=-1===H.indexOf("-")?void 0:I.RendererStyleFlags2.DashCase;null!=k?this._renderer.setStyle(this._ngEl.nativeElement,H,de?`${k}${de}`:k,Ie):this._renderer.removeStyle(this._ngEl.nativeElement,H,Ie)}_applyChanges(T){T.forEachRemovedItem(k=>this._setStyle(k.key,null)),T.forEachAddedItem(k=>this._setStyle(k.key,k.currentValue)),T.forEachChangedItem(k=>this._setStyle(k.key,k.currentValue))}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ElementRef),I.\u0275\u0275directiveInject(I.KeyValueDiffers),I.\u0275\u0275directiveInject(I.Renderer2))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),C})(),Ua=(()=>{class C{constructor(T){this._viewContainerRef=T,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(T){if(T.ngTemplateOutlet||T.ngTemplateOutletInjector){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:H,ngTemplateOutletContext:de,ngTemplateOutletInjector:Ie}=this;this._viewRef=k.createEmbeddedView(H,de,Ie?{injector:Ie}:void 0)}else this._viewRef=null}else this._viewRef&&T.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ViewContainerRef))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[I.\u0275\u0275NgOnChangesFeature]}),C})();function an(C,O){return new I.\u0275RuntimeError(2100,!1)}class Yo{createSubscription(O,T){return O.subscribe({next:T,error:k=>{throw k}})}dispose(O){O.unsubscribe()}}class wr{createSubscription(O,T){return O.then(T,k=>{throw k})}dispose(O){}}const Ir=new wr,jd=new Yo;let $a=(()=>{class C{constructor(T){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=T}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(T){return this._obj?T!==this._obj?(this._dispose(),this.transform(T)):this._latestValue:(T&&this._subscribe(T),this._latestValue)}_subscribe(T){this._obj=T,this._strategy=this._selectStrategy(T),this._subscription=this._strategy.createSubscription(T,k=>this._updateLatestValue(T,k))}_selectStrategy(T){if((0,I.\u0275isPromise)(T))return Ir;if((0,I.\u0275isSubscribable)(T))return jd;throw an()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(T,k){T===this._obj&&(this._latestValue=k,this._ref.markForCheck())}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ChangeDetectorRef,16))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"async",type:C,pure:!1,standalone:!0}),C})(),Eo=(()=>{class C{transform(T){if(null==T)return null;if("string"!=typeof T)throw an();return T.toLowerCase()}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275pipe=I.\u0275\u0275definePipe({name:"lowercase",type:C,pure:!0,standalone:!0}),C})();const ms=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Cr=(()=>{class C{transform(T){if(null==T)return null;if("string"!=typeof T)throw an();return T.replace(ms,k=>k[0].toUpperCase()+k.slice(1).toLowerCase())}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275pipe=I.\u0275\u0275definePipe({name:"titlecase",type:C,pure:!0,standalone:!0}),C})(),Lc=(()=>{class C{transform(T){if(null==T)return null;if("string"!=typeof T)throw an();return T.toUpperCase()}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275pipe=I.\u0275\u0275definePipe({name:"uppercase",type:C,pure:!0,standalone:!0}),C})();const Ha=new I.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let Bl=(()=>{class C{constructor(T,k){this.locale=T,this.defaultTimezone=k}transform(T,k="mediumDate",H,de){if(null==T||""===T||T!=T)return null;try{return Dn(T,k,de||this.locale,H??this.defaultTimezone??void 0)}catch(Ie){throw an()}}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16),I.\u0275\u0275directiveInject(Ha,24))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"date",type:C,pure:!0,standalone:!0}),C})();const Ga=/#/g;let gi=(()=>{class C{constructor(T){this._localization=T}transform(T,k,H){if(null==T)return"";if("object"!=typeof k||null===k)throw an();return k[hi(T,Object.keys(k),this._localization,H)].replace(Ga,T.toString())}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(ps,16))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"i18nPlural",type:C,pure:!0,standalone:!0}),C})(),mi=(()=>{class C{transform(T,k){if(null==T)return"";if("object"!=typeof k||"string"!=typeof T)throw an();return k.hasOwnProperty(T)?k[T]:k.hasOwnProperty("other")?k.other:""}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275pipe=I.\u0275\u0275definePipe({name:"i18nSelect",type:C,pure:!0,standalone:!0}),C})(),Jo=(()=>{class C{transform(T){return JSON.stringify(T,null,2)}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275pipe=I.\u0275\u0275definePipe({name:"json",type:C,pure:!1,standalone:!0}),C})(),jl=(()=>{class C{constructor(T){this.differs=T,this.keyValues=[],this.compareFn=Fr}transform(T,k=Fr){if(!T||!(T instanceof Map)&&"object"!=typeof T)return null;this.differ||(this.differ=this.differs.find(T).create());const H=this.differ.diff(T),de=k!==this.compareFn;return H&&(this.keyValues=[],H.forEachItem(Ie=>{this.keyValues.push(function Wa(C,O){return{key:C,value:O}}(Ie.key,Ie.currentValue))})),(H||de)&&(this.keyValues.sort(k),this.compareFn=k),this.keyValues}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.KeyValueDiffers,16))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"keyvalue",type:C,pure:!1,standalone:!0}),C})();function Fr(C,O){const T=C.key,k=O.key;if(T===k)return 0;if(void 0===T)return 1;if(void 0===k)return-1;if(null===T)return 1;if(null===k)return-1;if("string"==typeof T&&"string"==typeof k)return T<k?-1:1;if("number"==typeof T&&"number"==typeof k)return T-k;if("boolean"==typeof T&&"boolean"==typeof k)return T<k?-1:1;const H=String(T),de=String(k);return H==de?0:H<de?-1:1}let _i=(()=>{class C{constructor(T){this._locale=T}transform(T,k,H){if(!Xo(T))return null;H=H||this._locale;try{return Bt(ea(T),H,k)}catch(de){throw an()}}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"number",type:C,pure:!0,standalone:!0}),C})(),yi=(()=>{class C{constructor(T){this._locale=T}transform(T,k,H){if(!Xo(T))return null;H=H||this._locale;try{return Xs(ea(T),H,k)}catch(de){throw an()}}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"percent",type:C,pure:!0,standalone:!0}),C})(),_s=(()=>{class C{constructor(T,k="USD"){this._locale=T,this._defaultCurrencyCode=k}transform(T,k=this._defaultCurrencyCode,H="symbol",de,Ie){if(!Xo(T))return null;Ie=Ie||this._locale,"boolean"==typeof H&&(H=H?"symbol":"code");let lt=k||this._defaultCurrencyCode;"code"!==H&&(lt="symbol"===H||"symbol-narrow"===H?hs(lt,"symbol"===H?"wide":"narrow",Ie):H);try{return Xr(ea(T),Ie,lt,k,de)}catch(nn){throw an()}}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16),I.\u0275\u0275directiveInject(I.DEFAULT_CURRENCY_CODE,16))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"currency",type:C,pure:!0,standalone:!0}),C})();function Xo(C){return!(null==C||""===C||C!=C)}function ea(C){if("string"==typeof C&&!isNaN(Number(C)-parseFloat(C)))return Number(C);if("number"!=typeof C)throw new Error(`${C} is not a number`);return C}let to=(()=>{class C{transform(T,k,H){if(null==T)return null;if(!this.supports(T))throw an();return T.slice(k,H)}supports(T){return"string"==typeof T||Array.isArray(T)}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275pipe=I.\u0275\u0275definePipe({name:"slice",type:C,pure:!1,standalone:!0}),C})(),no=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275mod=I.\u0275\u0275defineNgModule({type:C}),C.\u0275inj=I.\u0275\u0275defineInjector({}),C})();const ki="browser",ti="server",Hr="browserWorkerApp",ys="browserWorkerUi";function za(C){return C===ki}function Lr(C){return C===ti}function To(C){return C===Hr}function Ul(C){return C===ys}const Nn=new I.Version("14.2.8");let qa=(()=>{class C{}return C.\u0275prov=(0,I.\u0275\u0275defineInjectable)({token:C,providedIn:"root",factory:()=>new Ru((0,I.\u0275\u0275inject)(De),window)}),C})();class Ru{constructor(O,T){this.document=O,this.window=T,this.offset=()=>[0,0]}setOffset(O){this.offset=Array.isArray(O)?()=>O:O}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(O){this.supportsScrolling()&&this.window.scrollTo(O[0],O[1])}scrollToAnchor(O){if(!this.supportsScrolling())return;const T=function Er(C,O){const T=C.getElementById(O)||C.getElementsByName(O)[0];if(T)return T;if("function"==typeof C.createTreeWalker&&C.body&&(C.body.createShadowRoot||C.body.attachShadow)){const k=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let H=k.currentNode;for(;H;){const de=H.shadowRoot;if(de){const Ie=de.getElementById(O)||de.querySelector(`[name="${O}"]`);if(Ie)return Ie}H=k.nextNode()}}return null}(this.document,O);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(O){if(this.supportScrollRestoration()){const T=this.window.history;T&&T.scrollRestoration&&(T.scrollRestoration=O)}}scrollToElement(O){const T=O.getBoundingClientRect(),k=T.left+this.window.pageXOffset,H=T.top+this.window.pageYOffset,de=this.offset();this.window.scrollTo(k-de[0],H-de[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const O=Vr(this.window.history)||Vr(Object.getPrototypeOf(this.window.history));return!(!O||!O.writable&&!O.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Vr(C){return Object.getOwnPropertyDescriptor(C,"scrollRestoration")}class So{setOffset(O){}getScrollPosition(){return[0,0]}scrollToPosition(O){}scrollToAnchor(O){}setHistoryScrollRestoration(O){}}class ro{}function Hn(C){return C.startsWith("/")?C.slice(1):C}const so=new I.InjectionToken("PRECONNECT_CHECK_BLOCKLIST"),na=C=>C.src,ra=new I.InjectionToken("ImageLoader",{providedIn:"root",factory:()=>na});function Fi(C,O){return function(k,H={ensurePreconnect:!0}){return function ni(C){if("string"!=typeof C||""===C.trim())return!1;try{return new URL(C),!0}catch{return!1}}(k)||function No(C,O){throw new I.\u0275RuntimeError(2959,!1)}(),k=function ta(C){return C.endsWith("/")?C.slice(0,-1):C}(k),[{provide:ra,useValue:lt=>(function vs(C){return/^https?:\/\//.test(C)}(lt.src)&&function Ls(C,O){throw new I.\u0275RuntimeError(2959,!1)}(),C(k,{...lt,src:Hn(lt.src)}))}]}}const Ae=Fi(St);function St(C,O){let T="format=auto";return O.width&&(T+=`,width=${O.width}`),`${C}/cdn-cgi/image/${T}/${O.src}`}const Vs=Fi(Ao);function Ao(C,O){let T="f_auto,q_auto";return O.width&&(T+=`,w_${O.width}`),`${C}/image/upload/${T}/${O.src}`}const qn=Fi(Ka);function Ka(C,O){let T="tr:q-auto";return O.width&&(T+=`,w-${O.width}`),`${C}/${T}/${O.src}`}const Bs=Fi(bi);function bi(C,O){const T=new URL(`${C}/${O.src}`);return T.searchParams.set("auto","format"),O.width&&T.searchParams.set("w",O.width.toString()),T.href}const Za=/^((\s*\d+w\s*(,|$)){1,})$/;let Yi=(()=>{class C{constructor(){this.imageLoader=(0,I.inject)(ra),this.renderer=(0,I.inject)(I.Renderer2),this.imgElement=(0,I.inject)(I.ElementRef).nativeElement,this.injector=(0,I.inject)(I.Injector),this.lcpObserver=null,this._renderedSrc=null,this._priority=!1}set rawSrc(T){}set width(T){this._width=Di(T)}get width(){return this._width}set height(T){this._height=Di(T)}get height(){return this._height}set priority(T){this._priority=function Pu(C){return null!=C&&"false"!=`${C}`}(T)}get priority(){return this._priority}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString()),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("src",this.getRewrittenSrc()),this.ngSrcset&&this.setHostAttribute("srcset",this.getRewrittenSrcset())}ngOnChanges(T){}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.imageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const T=Za.test(this.ngSrcset);return this.ngSrcset.split(",").filter(H=>""!==H).map(H=>{H=H.trim();const de=T?parseFloat(H):parseFloat(H)*this.width;return`${this.imageLoader({src:this.ngSrc,width:de})} ${H}`}).join(", ")}ngOnDestroy(){}setHostAttribute(T,k){this.renderer.setAttribute(this.imgElement,T,k)}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["img","ngSrc",""],["img","rawSrc",""]],inputs:{rawSrc:"rawSrc",ngSrc:"ngSrc",ngSrcset:"ngSrcset",width:"width",height:"height",loading:"loading",priority:"priority",src:"src",srcset:"srcset"},standalone:!0,features:[I.\u0275\u0275NgOnChangesFeature]}),C})();function Di(C){return"string"==typeof C?parseInt(C,10):C}},4650:(yt,Se,V)=>{"use strict";V.r(Se),V.d(Se,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>qc,ANIMATION_MODULE_TYPE:()=>EI,APP_BOOTSTRAP_LISTENER:()=>CI,APP_ID:()=>A0,APP_INITIALIZER:()=>wI,ApplicationInitStatus:()=>m_,ApplicationModule:()=>tT,ApplicationRef:()=>Yh,Attribute:()=>Fo,COMPILER_OPTIONS:()=>SI,CUSTOM_ELEMENTS_SCHEMA:()=>Tt,ChangeDetectionStrategy:()=>Wn,ChangeDetectorRef:()=>QE,Compiler:()=>Nc,CompilerFactory:()=>x0,Component:()=>RE,ComponentFactory:()=>ru,ComponentFactoryResolver:()=>hl,ComponentRef:()=>rh,ContentChild:()=>df,ContentChildren:()=>Hd,DEFAULT_CURRENCY_CODE:()=>M0,DebugElement:()=>Mc,DebugEventListener:()=>W0,DebugNode:()=>Jh,DefaultIterableDiffer:()=>Kp,Directive:()=>S0,ENVIRONMENT_INITIALIZER:()=>Xd,ElementRef:()=>f,EmbeddedViewRef:()=>YE,EnvironmentInjector:()=>An,ErrorHandler:()=>su,EventEmitter:()=>Sc,Host:()=>Be,HostBinding:()=>bI,HostListener:()=>DI,INJECTOR:()=>tu,Inject:()=>Y,InjectFlags:()=>at,Injectable:()=>uD,InjectionToken:()=>Cn,Injector:()=>uu,Input:()=>PE,IterableDiffers:()=>J0,KeyValueDiffers:()=>O_,LOCALE_ID:()=>y_,MissingTranslationStrategy:()=>ka,ModuleWithComponentFactories:()=>Su,NO_ERRORS_SCHEMA:()=>_r,NgModule:()=>kE,NgModuleFactory:()=>n0,NgModuleRef:()=>Os,NgProbeToken:()=>RI,NgZone:()=>ci,Optional:()=>$e,Output:()=>vI,PACKAGE_ROOT_URL:()=>BE,PLATFORM_ID:()=>VE,PLATFORM_INITIALIZER:()=>II,Pipe:()=>N0,PlatformRef:()=>N_,Query:()=>Pn,QueryList:()=>jh,ReflectiveInjector:()=>md,ReflectiveKey:()=>Ho,Renderer2:()=>L,RendererFactory2:()=>x,RendererStyleFlags2:()=>Dc,ResolvedReflectiveFactory:()=>zf,Sanitizer:()=>Ce,SecurityContext:()=>jn,Self:()=>vt,SimpleChange:()=>_i,SkipSelf:()=>Nt,TRANSLATIONS:()=>TI,TRANSLATIONS_FORMAT:()=>$E,TemplateRef:()=>Uh,Testability:()=>D_,TestabilityRegistry:()=>L0,Type:()=>Kc,VERSION:()=>pt,Version:()=>Qe,ViewChild:()=>vg,ViewChildren:()=>$u,ViewContainerRef:()=>$h,ViewEncapsulation:()=>It,ViewRef:()=>BI,asNativeElements:()=>Gp,assertPlatform:()=>$0,createComponent:()=>YS,createEnvironmentInjector:()=>r0,createNgModule:()=>Jm,createNgModuleRef:()=>Fw,createPlatform:()=>j0,createPlatformFactory:()=>U0,defineInjectable:()=>vr,destroyPlatform:()=>Rs,enableProdMode:()=>US,forwardRef:()=>z,getDebugNode:()=>qp,getModuleFactory:()=>$S,getNgModuleById:()=>HS,getPlatform:()=>Fa,importProvidersFrom:()=>Tf,inject:()=>S,isDevMode:()=>jS,platformCore:()=>eb,reflectComponentType:()=>JS,resolveForwardRef:()=>X,setTestabilityGetter:()=>V0,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>B0,\u0275APP_ID_RANDOM_PROVIDER:()=>LE,\u0275ChangeDetectorStatus:()=>Gt,\u0275ComponentFactory:()=>ru,\u0275Console:()=>jE,\u0275DEFAULT_LOCALE_ID:()=>Cd,\u0275INJECTOR_SCOPE:()=>ba,\u0275LContext:()=>wn,\u0275LifecycleHooksFeature:()=>fm,\u0275LocaleDataIndex:()=>Ft,\u0275NG_COMP_DEF:()=>Ri,\u0275NG_DIR_DEF:()=>cn,\u0275NG_ELEMENT_ID:()=>Pr,\u0275NG_INJ_DEF:()=>Rr,\u0275NG_MOD_DEF:()=>_n,\u0275NG_PIPE_DEF:()=>Zi,\u0275NG_PROV_DEF:()=>ui,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>At,\u0275NO_CHANGE:()=>qt,\u0275NgModuleFactory:()=>Xm,\u0275NoopNgZone:()=>P0,\u0275ReflectionCapabilities:()=>Wd,\u0275Render3ComponentFactory:()=>Ch,\u0275Render3ComponentRef:()=>hm,\u0275Render3NgModuleRef:()=>Lh,\u0275RuntimeError:()=>ce,\u0275TESTABILITY:()=>k0,\u0275TESTABILITY_GETTER:()=>F0,\u0275ViewRef:()=>mu,\u0275_sanitizeHtml:()=>hc,\u0275_sanitizeUrl:()=>jo,\u0275allowSanitizationBypassAndThrow:()=>Ni,\u0275bypassSanitizationTrustHtml:()=>Xl,\u0275bypassSanitizationTrustResourceUrl:()=>Ig,\u0275bypassSanitizationTrustScript:()=>X_,\u0275bypassSanitizationTrustStyle:()=>uc,\u0275bypassSanitizationTrustUrl:()=>nl,\u0275clearResolutionOfComponentResourcesQueue:()=>Ku,\u0275coerceToBoolean:()=>KS,\u0275compileComponent:()=>NE,\u0275compileDirective:()=>hI,\u0275compileNgModule:()=>h_,\u0275compileNgModuleDefs:()=>EE,\u0275compileNgModuleFactory:()=>C_,\u0275compilePipe:()=>g_,\u0275createInjector:()=>Sy,\u0275defaultIterableDiffers:()=>eT,\u0275defaultKeyValueDiffers:()=>WI,\u0275detectChanges:()=>_m,\u0275devModeEqual:()=>zD,\u0275findLocaleData:()=>Vm,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>IE,\u0275formatRuntimeError:()=>Ge,\u0275getDebugNode:()=>qp,\u0275getDebugNodeR2:()=>WS,\u0275getDirectives:()=>uE,\u0275getHostElement:()=>jw,\u0275getInjectableDef:()=>In,\u0275getLContext:()=>Ui,\u0275getLocaleCurrencyCode:()=>Tp,\u0275getLocalePluralCase:()=>El,\u0275getSanitizationBypassType:()=>vf,\u0275getUnknownElementStrictMode:()=>Ag,\u0275getUnknownPropertyStrictMode:()=>pl,\u0275global:()=>Dn,\u0275injectChangeDetectorRef:()=>LI,\u0275internalCreateApplication:()=>S_,\u0275isBoundToModule:()=>E_,\u0275isDefaultChangeDetectionStrategy:()=>Et,\u0275isInjectable:()=>ds,\u0275isListLikeIterable:()=>vd,\u0275isObservable:()=>yv,\u0275isPromise:()=>hp,\u0275isStandalone:()=>fn,\u0275isSubscribable:()=>ZD,\u0275ivyEnabled:()=>nT,\u0275makeDecorator:()=>ji,\u0275noSideEffects:()=>Kn,\u0275patchComponentDefWithScope:()=>D0,\u0275publishDefaultGlobalUtils:()=>xd,\u0275publishGlobalUtil:()=>Zo,\u0275registerLocaleData:()=>Lm,\u0275resetCompiledComponents:()=>FS,\u0275resetJitOptions:()=>cI,\u0275resolveComponentResources:()=>Vn,\u0275setAllowDuplicateNgModuleIdsForTest:()=>Qu,\u0275setClassMetadata:()=>t_,\u0275setCurrentInjector:()=>zs,\u0275setDocument:()=>Y_,\u0275setLocaleId:()=>Um,\u0275setUnknownElementStrictMode:()=>fl,\u0275setUnknownPropertyStrictMode:()=>Rf,\u0275store:()=>qD,\u0275stringify:()=>ye,\u0275transitiveScopesFor:()=>Kh,\u0275unregisterLocaleData:()=>H1,\u0275unwrapSafeValue:()=>es,\u0275\u0275CopyDefinitionFeature:()=>GD,\u0275\u0275FactoryTarget:()=>mr,\u0275\u0275InheritDefinitionFeature:()=>cv,\u0275\u0275NgOnChangesFeature:()=>yi,\u0275\u0275ProvidersFeature:()=>Tc,\u0275\u0275StandaloneFeature:()=>aE,\u0275\u0275advance:()=>Ug,\u0275\u0275attribute:()=>dv,\u0275\u0275attributeInterpolate1:()=>sp,\u0275\u0275attributeInterpolate2:()=>hv,\u0275\u0275attributeInterpolate3:()=>op,\u0275\u0275attributeInterpolate4:()=>Sa,\u0275\u0275attributeInterpolate5:()=>ap,\u0275\u0275attributeInterpolate6:()=>fv,\u0275\u0275attributeInterpolate7:()=>cp,\u0275\u0275attributeInterpolate8:()=>pv,\u0275\u0275attributeInterpolateV:()=>gv,\u0275\u0275classMap:()=>Id,\u0275\u0275classMapInterpolate1:()=>Ma,\u0275\u0275classMapInterpolate2:()=>Cc,\u0275\u0275classMapInterpolate3:()=>$1,\u0275\u0275classMapInterpolate4:()=>Cu,\u0275\u0275classMapInterpolate5:()=>yp,\u0275\u0275classMapInterpolate6:()=>sw,\u0275\u0275classMapInterpolate7:()=>ow,\u0275\u0275classMapInterpolate8:()=>$v,\u0275\u0275classMapInterpolateV:()=>Hv,\u0275\u0275classProp:()=>gp,\u0275\u0275contentQuery:()=>iI,\u0275\u0275defineComponent:()=>Ve,\u0275\u0275defineDirective:()=>te,\u0275\u0275defineInjectable:()=>on,\u0275\u0275defineInjector:()=>$t,\u0275\u0275defineNgModule:()=>Kt,\u0275\u0275definePipe:()=>Oe,\u0275\u0275directiveInject:()=>yh,\u0275\u0275disableBindings:()=>Ls,\u0275\u0275element:()=>_v,\u0275\u0275elementContainer:()=>dp,\u0275\u0275elementContainerEnd:()=>bm,\u0275\u0275elementContainerStart:()=>Ah,\u0275\u0275elementEnd:()=>up,\u0275\u0275elementStart:()=>Nh,\u0275\u0275enableBindings:()=>No,\u0275\u0275getCurrentView:()=>Dm,\u0275\u0275getInheritedFactory:()=>ql,\u0275\u0275hostProperty:()=>zv,\u0275\u0275i18n:()=>Op,\u0275\u0275i18nApply:()=>Pw,\u0275\u0275i18nAttributes:()=>xa,\u0275\u0275i18nEnd:()=>e0,\u0275\u0275i18nExp:()=>Mr,\u0275\u0275i18nPostprocess:()=>kw,\u0275\u0275i18nStart:()=>dr,\u0275\u0275inject:()=>Qn,\u0275\u0275injectAttribute:()=>zc,\u0275\u0275invalidFactory:()=>_D,\u0275\u0275invalidFactoryDep:()=>qd,\u0275\u0275listener:()=>wm,\u0275\u0275loadQuery:()=>sI,\u0275\u0275namespaceHTML:()=>un,\u0275\u0275namespaceMathML:()=>nn,\u0275\u0275namespaceSVG:()=>lt,\u0275\u0275nextContext:()=>Iv,\u0275\u0275ngDeclareClassMetadata:()=>Pd,\u0275\u0275ngDeclareComponent:()=>zI,\u0275\u0275ngDeclareDirective:()=>Qp,\u0275\u0275ngDeclareFactory:()=>qI,\u0275\u0275ngDeclareInjectable:()=>ZS,\u0275\u0275ngDeclareInjector:()=>rT,\u0275\u0275ngDeclareNgModule:()=>ZI,\u0275\u0275ngDeclarePipe:()=>QS,\u0275\u0275pipe:()=>Zw,\u0275\u0275pipeBind1:()=>Qw,\u0275\u0275pipeBind2:()=>Bh,\u0275\u0275pipeBind3:()=>c0,\u0275\u0275pipeBind4:()=>Fp,\u0275\u0275pipeBindV:()=>l0,\u0275\u0275projection:()=>Cv,\u0275\u0275projectionDef:()=>gn,\u0275\u0275property:()=>mv,\u0275\u0275propertyInterpolate:()=>Em,\u0275\u0275propertyInterpolate1:()=>fp,\u0275\u0275propertyInterpolate2:()=>Dd,\u0275\u0275propertyInterpolate3:()=>Tm,\u0275\u0275propertyInterpolate4:()=>Yn,\u0275\u0275propertyInterpolate5:()=>xi,\u0275\u0275propertyInterpolate6:()=>qo,\u0275\u0275propertyInterpolate7:()=>Sm,\u0275\u0275propertyInterpolate8:()=>Ev,\u0275\u0275propertyInterpolateV:()=>Mh,\u0275\u0275pureFunction0:()=>Uw,\u0275\u0275pureFunction1:()=>$w,\u0275\u0275pureFunction2:()=>Hw,\u0275\u0275pureFunction3:()=>a0,\u0275\u0275pureFunction4:()=>Gw,\u0275\u0275pureFunction5:()=>Ww,\u0275\u0275pureFunction6:()=>zw,\u0275\u0275pureFunction7:()=>qw,\u0275\u0275pureFunction8:()=>as,\u0275\u0275pureFunctionV:()=>Pp,\u0275\u0275queryRefresh:()=>nI,\u0275\u0275reference:()=>vm,\u0275\u0275registerNgModuleType:()=>Kd,\u0275\u0275resetView:()=>Ao,\u0275\u0275resolveBody:()=>Ff,\u0275\u0275resolveDocument:()=>hh,\u0275\u0275resolveWindow:()=>dh,\u0275\u0275restoreView:()=>Vs,\u0275\u0275sanitizeHtml:()=>fc,\u0275\u0275sanitizeResourceUrl:()=>al,\u0275\u0275sanitizeScript:()=>$o,\u0275\u0275sanitizeStyle:()=>pc,\u0275\u0275sanitizeUrl:()=>Ks,\u0275\u0275sanitizeUrlOrResourceUrl:()=>gc,\u0275\u0275setComponentScope:()=>mt,\u0275\u0275setNgModuleScope:()=>K,\u0275\u0275styleMap:()=>Do,\u0275\u0275styleMapInterpolate1:()=>vp,\u0275\u0275styleMapInterpolate2:()=>aw,\u0275\u0275styleMapInterpolate3:()=>Eu,\u0275\u0275styleMapInterpolate4:()=>bp,\u0275\u0275styleMapInterpolate5:()=>Oh,\u0275\u0275styleMapInterpolate6:()=>Gv,\u0275\u0275styleMapInterpolate7:()=>Rm,\u0275\u0275styleMapInterpolate8:()=>cw,\u0275\u0275styleMapInterpolateV:()=>lw,\u0275\u0275styleProp:()=>xh,\u0275\u0275stylePropInterpolate1:()=>Wv,\u0275\u0275stylePropInterpolate2:()=>Dp,\u0275\u0275stylePropInterpolate3:()=>wp,\u0275\u0275stylePropInterpolate4:()=>Pm,\u0275\u0275stylePropInterpolate5:()=>Cl,\u0275\u0275stylePropInterpolate6:()=>km,\u0275\u0275stylePropInterpolate7:()=>Fm,\u0275\u0275stylePropInterpolate8:()=>Ip,\u0275\u0275stylePropInterpolateV:()=>Cp,\u0275\u0275syntheticHostListener:()=>vv,\u0275\u0275syntheticHostProperty:()=>Rh,\u0275\u0275template:()=>ym,\u0275\u0275templateRefExtractor:()=>m0,\u0275\u0275text:()=>rw,\u0275\u0275textInterpolate:()=>kv,\u0275\u0275textInterpolate1:()=>_p,\u0275\u0275textInterpolate2:()=>Fv,\u0275\u0275textInterpolate3:()=>Lv,\u0275\u0275textInterpolate4:()=>Vv,\u0275\u0275textInterpolate5:()=>Bv,\u0275\u0275textInterpolate6:()=>iw,\u0275\u0275textInterpolate7:()=>jv,\u0275\u0275textInterpolate8:()=>Uv,\u0275\u0275textInterpolateV:()=>Om,\u0275\u0275trustConstantHtml:()=>If,\u0275\u0275trustConstantResourceUrl:()=>cl,\u0275\u0275viewQuery:()=>rI});var I=V(7579),u=V(727),B=V(9751),ae=V(6451),se=V(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function De(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ye(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ye).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ve(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=pe({__forward_ref__:pe});function z(s){return s.__forward_ref__=z,s.toString=function(){return ye(this())},s}function X(s){return He(s)?s():s}function He(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===z}class ce extends Error{constructor(o,a){super(Ge(o,a)),this.code=o}}function Ge(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function ge(s){return"string"==typeof s?s:null==s?"":String(s)}function he(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ge(s)}function Me(s,o){throw new ce(-201,!1)}function st(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}function on(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}const vr=on;function $t(s){return{providers:s.providers||[],imports:s.imports||[]}}function In(s){return Kr(s,ui)||Kr(s,Qr)}function ds(s){return null!==In(s)}function Kr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Fs(s){return s&&(s.hasOwnProperty(Rr)||s.hasOwnProperty(Js))?s[Rr]:null}const ui=pe({\u0275prov:pe}),Rr=pe({\u0275inj:pe}),Qr=pe({ngInjectableDef:pe}),Js=pe({ngInjectorDef:pe});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let br;function hr(s){const o=br;return br=s,o}function Yr(s,o,a){const l=In(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&at.Optional?null:void 0!==o?o:void Me(ye(s))}function Kn(s){return{toString:s}.toString()}var Wn=(()=>((Wn=Wn||{})[Wn.OnPush=0]="OnPush",Wn[Wn.Default=1]="Default",Wn))(),Gt=(()=>((Gt=Gt||{})[Gt.CheckOnce=0]="CheckOnce",Gt[Gt.Checked=1]="Checked",Gt[Gt.CheckAlways=2]="CheckAlways",Gt[Gt.Detached=3]="Detached",Gt[Gt.Errored=4]="Errored",Gt[Gt.Destroyed=5]="Destroyed",Gt))();function Et(s){return null==s||s===Wn.Default}var It=(()=>{return(s=It||(It={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",It;var s})();const Dn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jr={},Vt=[],Ri=pe({\u0275cmp:pe}),cn=pe({\u0275dir:pe}),Zi=pe({\u0275pipe:pe}),_n=pe({\u0275mod:pe}),pr=pe({\u0275fac:pe}),Pr=pe({__NG_ELEMENT_ID__:pe});let _t=0;function Ve(s){return Kn(()=>{const a=!0===s.standalone,l={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Wn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Vt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||It.Emulated,id:"c"+_t++,styles:s.styles||Vt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,v=s.features;return h.inputs=W(s.inputs,l),h.outputs=W(s.outputs),v&&v.forEach(D=>D(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Rt).filter(Ot):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(Ct).filter(Ot):null,h})}function mt(s,o,a){const l=s.\u0275cmp;l.directiveDefs=()=>("function"==typeof o?o():o).map(Rt),l.pipeDefs=()=>("function"==typeof a?a():a).map(Ct)}function Rt(s){return re(s)||nt(s)}function Ot(s){return null!==s}function Kt(s){return Kn(()=>({type:s.type,bootstrap:s.bootstrap||Vt,declarations:s.declarations||Vt,imports:s.imports||Vt,exports:s.exports||Vt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function K(s,o){return Kn(()=>{const a=Sn(s,!0);a.declarations=o.declarations||Vt,a.imports=o.imports||Vt,a.exports=o.exports||Vt})}function W(s,o){if(null==s)return Jr;const a={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,o&&(o[h]=p)}return a}const te=Ve;function Oe(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function re(s){return s[Ri]||null}function nt(s){return s[cn]||null}function Ct(s){return s[Zi]||null}function fn(s){const o=re(s)||nt(s)||Ct(s);return null!==o&&o.standalone}function Sn(s,o){const a=s[_n]||null;if(!a&&!0===o)throw new Error(`Type ${ye(s)} does not have '\u0275mod' property.`);return a}function rt(s){return Array.isArray(s)&&"object"==typeof s[1]}function Dr(s){return Array.isArray(s)&&!0===s[1]}function Mt(s){return 0!=(8&s.flags)}function gs(s){return 2==(2&s.flags)}function eo(s){return 1==(1&s.flags)}function rr(s){return null!==s.template}function Ll(s){return 0!=(256&s[2])}function Fr(s,o){return s.hasOwnProperty(pr)?s[pr]:null}class _i{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function yi(){return _s}function _s(s){return s.type.prototype.ngOnChanges&&(s.setInput=ea),Xo}function Xo(){const s=Vc(this),o=s?.current;if(o){const a=s.previous;if(a===Jr)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function ea(s,o,a,l){const h=Vc(s)||function no(s,o){return s[to]=o}(s,{previous:Jr,current:null}),p=h.current||(h.current={}),v=h.previous,D=this.declaredInputs[a],E=v[D];p[D]=new _i(E&&E.currentValue,o,v===Jr),s[l]=o}yi.ngInherit=!0;const to="__ngSimpleChanges__";function Vc(s){return s[to]||null}let ki=null;const ti=s=>{ki=s},Hr=function(s,o,a){ki?.(s,o,a)};function Nn(s){for(;Array.isArray(s);)s=s[0];return s}function Vr(s,o){return Nn(o[s])}function Er(s,o){return Nn(o[s.index])}function ro(s,o){return s.data[o]}function vi(s,o){return s[o]}function en(s,o){const a=o[s];return rt(a)?a:a[0]}function vs(s){return 64==(64&s[2])}function ni(s,o){return null==o?null:s[o]}function ta(s){s[18]=0}function Hn(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const Pt={lFrame:ec(null),bindingsEnabled:!0};function Fi(){return Pt.bindingsEnabled}function No(){Pt.bindingsEnabled=!0}function Ls(){Pt.bindingsEnabled=!1}function Ae(){return Pt.lFrame.lView}function St(){return Pt.lFrame.tView}function Vs(s){return Pt.lFrame.contextLView=s,s[8]}function Ao(s){return Pt.lFrame.contextLView=null,s}function qn(){let s=Ka();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ka(){return Pt.lFrame.currentTNode}function Bs(){const s=Pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function bi(s,o){const a=Pt.lFrame;a.currentTNode=s,a.isParent=o}function ia(){return Pt.lFrame.isParent}function ao(){Pt.lFrame.isParent=!1}function Zn(){const s=Pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ri(){return Pt.lFrame.bindingIndex}function oa(s){return Pt.lFrame.bindingIndex=s}function Yi(){return Pt.lFrame.bindingIndex++}function Di(s){const o=Pt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function bs(s){Pt.lFrame.inI18n=s}function ku(s,o){const a=Pt.lFrame;a.bindingIndex=a.bindingRootIndex=s,aa(o)}function aa(s){Pt.lFrame.currentDirectiveIndex=s}function js(s){const o=Pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Bc(){return Pt.lFrame.currentQueryIndex}function ca(s){Pt.lFrame.currentQueryIndex=s}function Us(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ja(s,o,a){if(a&at.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&at.Host||(h=Us(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const l=Pt.lFrame=Ds();return l.currentTNode=o,l.lView=s,!0}function Xa(s){const o=Ds(),a=s[1];Pt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ds(){const s=Pt.lFrame,o=null===s?null:s.child;return null===o?ec(s):o}function ec(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function xo(){const s=Pt.lFrame;return Pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const C=xo;function O(){const s=xo();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function H(){return Pt.lFrame.selectedIndex}function de(s){Pt.lFrame.selectedIndex=s}function Ie(){const s=Pt.lFrame;return ro(s.tView,s.selectedIndex)}function lt(){Pt.lFrame.currentNamespace="svg"}function nn(){Pt.lFrame.currentNamespace="math"}function un(){!function dn(){Pt.lFrame.currentNamespace=null}()}function yn(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:E,ngAfterViewChecked:M,ngOnDestroy:F}=p;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),D&&((s.contentHooks||(s.contentHooks=[])).push(a,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,D)),E&&(s.viewHooks||(s.viewHooks=[])).push(-a,E),M&&((s.viewHooks||(s.viewHooks=[])).push(a,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,M)),null!=F&&(s.destroyHooks||(s.destroyHooks=[])).push(a,F)}}function Ln(s,o,a){Vi(s,o,3,a)}function Li(s,o,a,l){(3&s[2])===a&&Vi(s,o,a,l)}function Gr(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Vi(s,o,a,l){const p=l??-1,v=o.length-1;let D=0;for(let E=void 0!==l?65535&s[18]:0;E<v;E++)if("number"==typeof o[E+1]){if(D=o[E],null!=l&&D>=l)break}else o[E]<0&&(s[18]+=65536),(D<p||-1==p)&&(co(s,a,o,E),s[18]=(4294901760&s[18])+E+2),E++}function co(s,o,a,l){const h=a[l]<0,p=a[l+1],D=s[h?-a[l]:a[l]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048,Hr(4,D,p);try{p.call(D)}finally{Hr(5,D,p)}}}else{Hr(4,D,p);try{p.call(D)}finally{Hr(5,D,p)}}}class Ii{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Oo(s,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const p=a[l++],v=a[l++],D=a[l++];s.setAttribute(o,v,D,p)}else{const p=h,v=a[++l];Hc(p)?s.setProperty(o,p,v):s.setAttribute(o,p,v),l++}}return l}function Bi(s){return 3===s||4===s||6===s}function Hc(s){return 64===s.charCodeAt(0)}function Hl(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||Ud(s,a,h,null,-1===a||2===a?o[++l]:null)}}return s}function Ud(s,o,a,l,h){let p=0,v=s.length;if(-1===o)v=-1;else for(;p<s.length;){const D=s[p++];if("number"==typeof D){if(D===o){v=-1;break}if(D>o){v=p-1;break}}}for(;p<s.length;){const D=s[p];if("number"==typeof D)break;if(D===a){if(null===l)return void(null!==h&&(s[p+1]=h));if(l===s[p+1])return void(s[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==v&&(s.splice(v,0,o),p=v+1),s.splice(p++,0,a),null!==l&&s.splice(p++,0,l),null!==h&&s.splice(p++,0,h)}function Lu(s){return-1!==s}function Tr(s){return 32767&s}function ws(s,o){let a=function Gl(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let Sr=!0;function Ro(s){const o=Sr;return Sr=s,o}let Xn=0;const Wr={};function da(s,o){const a=Bu(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,tc(l.data,s),tc(o,null),tc(l.blueprint,null));const h=Wl(s,o),p=s.injectorIndex;if(Lu(h)){const v=Tr(h),D=ws(h,o),E=D[1].data;for(let M=0;M<8;M++)o[p+M]=D[v+M]|E[v+M]}return o[p+8]=h,p}function tc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Bu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Wl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=Wc(h),null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function ha(s,o,a){!function Po(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Pr)&&(l=a[Pr]),null==l&&(l=a[Pr]=Xn++);const h=255&l;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Is(s,o,a){if(a&at.Optional||void 0!==s)return s;Me()}function $s(s,o,a,l){if(a&at.Optional&&void 0===l&&(l=null),0==(a&(at.Self|at.Host))){const h=s[9],p=hr(void 0);try{return h?h.get(o,l,a&at.Optional):Yr(o,l,a&at.Optional)}finally{hr(p)}}return Is(l,0,a)}function lo(s,o,a,l=at.Default,h){if(null!==s){if(1024&o[2]){const v=function fa(s,o,a,l,h){let p=s,v=o;for(;null!==p&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=nc(p,v,a,l|at.Self,Wr);if(D!==Wr)return D;let E=p.parent;if(!E){const M=v[21];if(M){const F=M.get(a,Wr,l);if(F!==Wr)return F}E=Wc(v),v=v[15]}p=E}return h}(s,o,a,l,Wr);if(v!==Wr)return v}const p=nc(s,o,a,l,Wr);if(p!==Wr)return p}return $s(o,a,l,h)}function nc(s,o,a,l,h){const p=function ju(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Pr)?s[Pr]:void 0;return"number"==typeof o?o>=0?255&o:Uu:o}(a);if("function"==typeof p){if(!Ja(o,s,l))return l&at.Host?Is(h,0,l):$s(o,a,l,h);try{const v=p(l);if(null!=v||l&at.Optional)return v;Me()}finally{C()}}else if("number"==typeof p){let v=null,D=Bu(s,o),E=-1,M=l&at.Host?o[16][6]:null;for((-1===D||l&at.SkipSelf)&&(E=-1===D?Wl(s,o):o[D+8],-1!==E&&rc(l,!1)?(v=o[1],D=Tr(E),o=ws(E,o)):D=-1);-1!==D;){const F=o[1];if(Gc(p,D,F.data)){const j=zl(D,o,a,v,l,M);if(j!==Wr)return j}E=o[D+8],-1!==E&&rc(l,o[1].data[D+8]===M)&&Gc(p,D,o)?(v=F,D=Tr(E),o=ws(E,o)):D=-1}}return h}function zl(s,o,a,l,h,p){const v=o[1],D=v.data[s+8],F=Cs(D,v,a,null==l?gs(D)&&Sr:l!=v&&0!=(3&D.type),h&at.Host&&p===D);return null!==F?ko(o,v,F,D):Wr}function Cs(s,o,a,l,h){const p=s.providerIndexes,v=o.data,D=1048575&p,E=s.directiveStart,F=p>>20,Q=h?D+F:s.directiveEnd;for(let oe=l?D:D+F;oe<Q;oe++){const Re=v[oe];if(oe<E&&a===Re||oe>=E&&Re.type===a)return oe}if(h){const oe=v[E];if(oe&&rr(oe)&&oe.type===a)return E}return null}function ko(s,o,a,l){let h=s[a];const p=o.data;if(function Ji(s){return s instanceof Ii}(h)){const v=h;v.resolving&&function Je(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ce(-200,`Circular dependency in DI detected for ${s}${a}`)}(he(p[a]));const D=Ro(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?hr(v.injectImpl):null;Ja(s,l,at.Default);try{h=s[a]=v.factory(void 0,p,s,l),o.firstCreatePass&&a>=l.directiveStart&&function ir(s,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(l){const v=_s(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==E&&hr(E),Ro(D),v.resolving=!1,C()}}return h}function Gc(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function rc(s,o){return!(s&at.Self||s&at.Host&&o)}class uo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return lo(this._tNode,this._lView,o,l,a)}}function Uu(){return new uo(qn(),Ae())}function ql(s){return Kn(()=>{const o=s.prototype.constructor,a=o[pr]||ic(o),l=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==l;){const p=h[pr]||ic(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function ic(s){return He(s)?()=>{const o=ic(X(s));return o&&o()}:Fr(s)}function Wc(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function zc(s){return function uf(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(Bi(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(qn(),s)}const Ci="__annotations__",ho="__parameters__",pa="__prop__metadata__";function ji(s,o,a,l,h){return Kn(()=>{const p=fo(o);function v(...D){if(this instanceof v)return p.call(this,...D),this;const E=new v(...D);return function(F){return h&&h(F,...D),(F.hasOwnProperty(Ci)?F[Ci]:Object.defineProperty(F,Ci,{value:[]})[Ci]).push(E),l&&l(F),F}}return a&&(v.prototype=Object.create(a.prototype)),v.prototype.ngMetadataName=s,v.annotationCls=v,v})}function fo(s){return function(...a){if(s){const l=s(...a);for(const h in l)this[h]=l[h]}}}function Hs(s,o,a){return Kn(()=>{const l=fo(o);function h(...p){if(this instanceof h)return l.apply(this,p),this;const v=new h(...p);return D.annotation=v,D;function D(E,M,F){const j=E.hasOwnProperty(ho)?E[ho]:Object.defineProperty(E,ho,{value:[]})[ho];for(;j.length<=F;)j.push(null);return(j[F]=j[F]||[]).push(v),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function Nr(s,o,a,l){return Kn(()=>{const h=fo(o);function p(...v){if(this instanceof p)return h.apply(this,v),this;const D=new p(...v);return function E(M,F){const j=M.constructor,Q=j.hasOwnProperty(pa)?j[pa]:Object.defineProperty(j,pa,{value:{}})[pa];Q[F]=Q.hasOwnProperty(F)&&Q[F]||[],Q[F].unshift(D),l&&l(M,F,...v)}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=s,p.annotationCls=p,p})}const Fo=Hs("Attribute",s=>({attributeName:s,__NG_ELEMENT_ID__:()=>zc(s)}));class Cn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=on({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qc=new Cn("AnalyzeForEntryComponents");class Pn{}const Hd=Nr("ContentChildren",(s,o={})=>({selector:s,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...o}),Pn),df=Nr("ContentChild",(s,o={})=>({selector:s,first:!0,isViewQuery:!1,descendants:!0,...o}),Pn),$u=Nr("ViewChildren",(s,o={})=>({selector:s,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0,...o}),Pn),vg=Nr("ViewChild",(s,o)=>({selector:s,first:!0,isViewQuery:!0,descendants:!0,...o}),Pn);var mr=(()=>((mr=mr||{})[mr.Directive=0]="Directive",mr[mr.Component=1]="Component",mr[mr.Injectable=2]="Injectable",mr[mr.Pipe=3]="Pipe",mr[mr.NgModule=4]="NgModule",mr))();function sr(s){const o=Dn.ng;if(o&&o.\u0275compilerFacade)return o.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Kc=Function;function Ei(s){return"function"==typeof s}function ii(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),ii(l,o)):o!==s&&o.push(l)}return o}function si(s,o){s.forEach(a=>Array.isArray(a)?si(a,o):o(a))}function Hu(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Lo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Es(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}function Ti(s,o,a){let l=Ws(s,o);return l>=0?s[1|l]=a:(l=~l,function Wu(s,o,a,l){let h=s.length;if(h==o)s.push(a,l);else if(1===h)s.push(l,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function ga(s,o){const a=Ws(s,o);if(a>=0)return s[1|a]}function Ws(s,o){return function Vo(s,o,a){let l=0,h=s.length>>a;for(;h!==l;){const p=l+(h-l>>1),v=s[p<<a];if(o===v)return p<<a;v>o?h=p:l=p+1}return~(h<<a)}(s,o,1)}const Kl=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Zl=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ts=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ff=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Wd{constructor(o){this._reflect=o||Dn.Reflect}factory(o){return(...a)=>new o(...a)}_zipTypesAndAnnotations(o,a){let l;l=Es(typeof o>"u"?a.length:o.length);for(let h=0;h<l.length;h++)l[h]=typeof o>"u"?[]:o[h]&&o[h]!=Object?[o[h]]:[],a&&null!=a[h]&&(l[h]=l[h].concat(a[h]));return l}_ownParameters(o,a){if(function zu(s){return Kl.test(s)||ff.test(s)||Zl.test(s)&&!Ts.test(s)}(o.toString()))return null;if(o.parameters&&o.parameters!==a.parameters)return o.parameters;const h=o.ctorParameters;if(h&&h!==a.ctorParameters){const D="function"==typeof h?h():h,E=D.map(F=>F&&F.type),M=D.map(F=>F&&sc(F.decorators));return this._zipTypesAndAnnotations(E,M)}const p=o.hasOwnProperty(ho)&&o[ho],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",o);return v||p?this._zipTypesAndAnnotations(v,p):Es(o.length)}parameters(o){if(!Ei(o))return[];const a=po(o);let l=this._ownParameters(o,a);return!l&&a!==Object&&(l=this.parameters(a)),l||[]}_ownAnnotations(o,a){if(o.annotations&&o.annotations!==a.annotations){let l=o.annotations;return"function"==typeof l&&l.annotations&&(l=l.annotations),l}return o.decorators&&o.decorators!==a.decorators?sc(o.decorators):o.hasOwnProperty(Ci)?o[Ci]:null}annotations(o){if(!Ei(o))return[];const a=po(o),l=this._ownAnnotations(o,a)||[];return(a!==Object?this.annotations(a):[]).concat(l)}_ownPropMetadata(o,a){if(o.propMetadata&&o.propMetadata!==a.propMetadata){let l=o.propMetadata;return"function"==typeof l&&l.propMetadata&&(l=l.propMetadata),l}if(o.propDecorators&&o.propDecorators!==a.propDecorators){const l=o.propDecorators,h={};return Object.keys(l).forEach(p=>{h[p]=sc(l[p])}),h}return o.hasOwnProperty(pa)?o[pa]:null}propMetadata(o){if(!Ei(o))return{};const a=po(o),l={};if(a!==Object){const p=this.propMetadata(a);Object.keys(p).forEach(v=>{l[v]=p[v]})}const h=this._ownPropMetadata(o,a);return h&&Object.keys(h).forEach(p=>{const v=[];l.hasOwnProperty(p)&&v.push(...l[p]),v.push(...h[p]),l[p]=v}),l}ownPropMetadata(o){return Ei(o)&&this._ownPropMetadata(o,po(o))||{}}hasLifecycleHook(o,a){return o instanceof Kc&&a in o.prototype}}function sc(s){return s?s.map(o=>new(0,o.type.annotationCls)(...o.args?o.args:[])):[]}function po(s){const o=s.prototype?Object.getPrototypeOf(s.prototype):null;return(o?o.constructor:null)||Object}const Si={},Ql="__NG_DI_FLAG__",go="ngTempTokenPath",qu=/\n/gm,pf="__source";let oc;function zs(s){const o=oc;return oc=s,o}function zd(s,o=at.Default){if(void 0===oc)throw new ce(-203,!1);return null===oc?Yr(s,void 0,o):oc.get(s,o&at.Optional?null:void 0,o)}function Qn(s,o=at.Default){return(function hs(){return br}()||zd)(X(s),o)}function qd(s){throw new ce(202,!1)}function S(s,o=at.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Qn(s,o)}function N(s){const o=[];for(let a=0;a<s.length;a++){const l=X(s[a]);if(Array.isArray(l)){if(0===l.length)throw new ce(900,!1);let h,p=at.Default;for(let v=0;v<l.length;v++){const D=l[v],E=U(D);"number"==typeof E?-1===E?h=D.token:p|=E:h=D}o.push(Qn(h,p))}else o.push(Qn(l))}return o}function R(s,o){return s[Ql]=o,s.prototype[Ql]=o,s}function U(s){return s[Ql]}const Y=R(Hs("Inject",s=>({token:s})),-1),$e=R(Hs("Optional"),8),vt=R(Hs("Self"),2),Nt=R(Hs("SkipSelf"),4),Be=R(Hs("Host"),1);let Ue=null;function er(){return Ue=Ue||new Wd}function ze(s){return be(er().parameters(s))}function be(s){return s.map(o=>function Le(s){const o={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(s)&&s.length>0)for(let a=0;a<s.length;a++){const l=s[a];if(void 0===l)continue;const h=Object.getPrototypeOf(l);if(l instanceof $e||"Optional"===h.ngMetadataName)o.optional=!0;else if(l instanceof Nt||"SkipSelf"===h.ngMetadataName)o.skipSelf=!0;else if(l instanceof vt||"Self"===h.ngMetadataName)o.self=!0;else if(l instanceof Be||"Host"===h.ngMetadataName)o.host=!0;else if(l instanceof Y)o.token=l.token;else if(l instanceof Fo){if(void 0===l.attributeName)throw new ce(204,!1);o.attribute=l.attributeName}else o.token=l}else o.token=void 0===s||Array.isArray(s)&&0===s.length?null:s;return o}(o))}function Vn(s){const o=[],a=new Map;function l(h){let p=a.get(h);if(!p){const v=s(h);a.set(h,p=v.then(Rb))}return p}return ma.forEach((h,p)=>{const v=[];h.templateUrl&&v.push(l(h.templateUrl).then(j=>{h.template=j}));const D=h.styleUrls,E=h.styles||(h.styles=[]),M=h.styles.length;D&&D.forEach((j,Q)=>{E.push(""),v.push(l(j).then(oe=>{E[M+Q]=oe,D.splice(D.indexOf(j),1),0==D.length&&(h.styleUrls=void 0)}))});const F=Promise.all(v).then(()=>function Dg(s){Bo.delete(s)}(p));o.push(F)}),Ku(),Promise.all(o).then(()=>{})}let ma=new Map;const Bo=new Set;function ya(s){return!!(s.templateUrl&&!s.hasOwnProperty("template")||s.styleUrls&&s.styleUrls.length)}function Ku(){const s=ma;return ma=new Map,s}function Rb(s){return"string"==typeof s?s:s.text()}const Zu=new Map;let hn,et,Yu,Ut=!0;function Kd(s,o){(function Yl(s,o,a){if(o&&o!==a&&Ut)throw new Error(`Duplicate module registered for ${s} - ${ye(o)} vs ${ye(o.name)}`)})(o,Zu.get(o)||null,s),Zu.set(o,s)}function kt(s){return Zu.get(s)}function Qu(s){Ut=!s}function Y_(s){hn=s}function ar(){return void 0!==hn?hn:typeof document<"u"?document:void 0}function Jl(){if(void 0===et&&(et=null,Dn.trustedTypes))try{et=Dn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return et}function cc(s){return Jl()?.createHTML(s)||s}function tl(){if(void 0===Yu&&(Yu=null,Dn.trustedTypes))try{Yu=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Yu}function _f(s){return tl()?.createHTML(s)||s}function yf(s){return tl()?.createScript(s)||s}function Xi(s){return tl()?.createScriptURL(s)||s}class _o{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wg extends _o{getTypeName(){return"HTML"}}class Zd extends _o{getTypeName(){return"Style"}}class lc extends _o{getTypeName(){return"Script"}}class Qd extends _o{getTypeName(){return"URL"}}class _e extends _o{getTypeName(){return"ResourceURL"}}function es(s){return s instanceof _o?s.changingThisBreaksApplicationSecurity:s}function Ni(s,o){const a=vf(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function vf(s){return s instanceof _o&&s.getTypeName()||null}function Xl(s){return new wg(s)}function uc(s){return new Zd(s)}function X_(s){return new lc(s)}function nl(s){return new Qd(s)}function Ig(s){return new _e(s)}function Yd(s){const o=new ey(s);return function Ns(){try{return!!(new window.DOMParser).parseFromString(cc(""),"text/html")}catch{return!1}}()?new Cg(o):o}class Cg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(cc(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class ey{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=cc(o),a;const l=this.inertDocument.createElement("body");return l.innerHTML=cc(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const v=a.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const dc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function jo(s){return(s=String(s)).match(dc)?s:"unsafe:"+s}function Uo(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Bn(...s){const o={};for(const a of s)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const Ju=Uo("area,br,col,hr,img,wbr"),Ar=Uo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kn=Uo("rp,rt"),bf=Bn(Ju,Bn(Ar,Uo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bn(kn,Uo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bn(kn,Ar)),cr=Uo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lr=Bn(cr,Uo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Uo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sl=Uo("script,style,template");class Df{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!bf.hasOwnProperty(a))return this.sanitizedSomething=!0,!sl.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=o.attributes;for(let h=0;h<l.length;h++){const p=l.item(h),v=p.name,D=v.toLowerCase();if(!lr.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let E=p.value;cr[D]&&(E=jo(E)),this.buf.push(" ",v,'="',Eg(E),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();bf.hasOwnProperty(a)&&!Ju.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Eg(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const wf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ol=/([^\#-~ |!])/g;function Eg(s){return s.replace(/&/g,"&amp;").replace(wf,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ol,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yo;function hc(s,o){let a=null;try{yo=yo||Yd(s);let l=o?String(o):"";a=yo.getInertBodyElement(l);let h=5,p=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=p,p=a.innerHTML,a=yo.getInertBodyElement(l)}while(l!==p);return cc((new Df).sanitizeChildren(va(a)||a))}finally{if(a){const l=va(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function va(s){return"content"in s&&function Tg(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var jn=(()=>((jn=jn||{})[jn.NONE=0]="NONE",jn[jn.HTML=1]="HTML",jn[jn.STYLE=2]="STYLE",jn[jn.SCRIPT=3]="SCRIPT",jn[jn.URL=4]="URL",jn[jn.RESOURCE_URL=5]="RESOURCE_URL",jn))();function fc(s){const o=ll();return o?_f(o.sanitize(jn.HTML,s)||""):Ni(s,"HTML")?_f(es(s)):hc(ar(),ge(s))}function pc(s){const o=ll();return o?o.sanitize(jn.STYLE,s)||"":Ni(s,"Style")?es(s):ge(s)}function Ks(s){const o=ll();return o?o.sanitize(jn.URL,s)||"":Ni(s,"URL")?es(s):jo(ge(s))}function al(s){const o=ll();if(o)return Xi(o.sanitize(jn.RESOURCE_URL,s)||"");if(Ni(s,"ResourceURL"))return Xi(es(s));throw new ce(904,!1)}function $o(s){const o=ll();if(o)return yf(o.sanitize(jn.SCRIPT,s)||"");if(Ni(s,"Script"))return yf(es(s));throw new ce(905,!1)}function If(s){return cc(s[0])}function cl(s){return function J_(s){return Jl()?.createScriptURL(s)||s}(s[0])}function gc(s,o,a){return function Cf(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?al:Ks}(o,a)(s)}function ll(){const s=Ae();return s&&s[12]}const Xd=new Cn("ENVIRONMENT_INITIALIZER"),tu=new Cn("INJECTOR",-1),nu=new Cn("INJECTOR_DEF_TYPES");class Ef{get(o,a=Si){if(a===Si){const l=new Error(`NullInjectorError: No provider for ${ye(o)}!`);throw l.name="NullInjectorError",l}return a}}function Tf(...s){return{\u0275providers:eh(0,s)}}function eh(s,...o){const a=[],l=new Set;let h;return si(o,p=>{const v=p;ed(v,a,[],l)&&(h||(h=[]),h.push(v))}),void 0!==h&&Xu(h,a),a}function Xu(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];si(h,p=>{o.push(p)})}}function ed(s,o,a,l){if(!(s=X(s)))return!1;let h=null,p=Fs(s);const v=!p&&re(s);if(p||v){if(v&&!v.standalone)return!1;h=s}else{const E=s.ngModule;if(p=Fs(E),!p)return!1;h=E}const D=l.has(h);if(v){if(D)return!1;if(l.add(h),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of E)ed(M,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let M;l.add(h);try{si(p.imports,F=>{ed(F,o,a,l)&&(M||(M=[]),M.push(F))})}finally{}void 0!==M&&Xu(M,o)}if(!D){const M=Fr(h)||(()=>new h);o.push({provide:h,useFactory:M,deps:Vt},{provide:nu,useValue:h,multi:!0},{provide:Xd,useValue:()=>Qn(h),multi:!0})}const E=p.providers;null==E||D||si(E,F=>{o.push(F)})}}return h!==s&&void 0!==s.providers}const th=pe({provide:String,useValue:pe});function Un(s){return null!==s&&"object"==typeof s&&th in s}function ns(s){return"function"==typeof s}const ba=new Cn("Set Injector scope."),Da={},nh={};let td;function nd(){return void 0===td&&(td=new Ef),td}class An{}class Sf extends An{constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dl(o,v=>this.processProvider(v)),this.records.set(tu,jr(void 0,this)),h.has("environment")&&this.records.set(An,jr(void 0,this));const p=this.records.get(ba);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(nu.multi,Vt,at.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=zs(this),l=hr(void 0);try{return o()}finally{zs(a),hr(l)}}get(o,a=Si,l=at.Default){this.assertNotDestroyed();const h=zs(this),p=hr(void 0);try{if(!(l&at.SkipSelf)){let D=this.records.get(o);if(void 0===D){const E=function mc(s){return"function"==typeof s||"object"==typeof s&&s instanceof Cn}(o)&&In(o);D=E&&this.injectableDefInScope(E)?jr(Nf(o),Da):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(l&at.Self?nd():this.parent).get(o,a=l&at.Optional&&a===Si?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[go]=v[go]||[]).unshift(ye(o)),h)throw v;return function ne(s,o,a,l){const h=s[go];throw o[pf]&&h.unshift(o[pf]),s.message=function me(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ye(o);if(Array.isArray(o))h=o.map(ye).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let D=o[v];p.push(v+":"+("string"==typeof D?JSON.stringify(D):ye(D)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${s.replace(qu,"\n  ")}`}("\n"+s.message,h,a,l),s.ngTokenPath=h,s[go]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{hr(p),zs(h)}}resolveInjectorInitializers(){const o=zs(this),a=hr(void 0);try{const l=this.get(Xd.multi,Vt,at.Self);for(const h of l)h()}finally{zs(o),hr(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(ye(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(o){let a=ns(o=X(o))?o:X(o&&o.provide);const l=function Sg(s){return Un(s)?jr(void 0,s.useValue):jr(Af(s),Da)}(o);if(ns(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=jr(void 0,Da,!0),h.factory=()=>N(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===Da&&(a.value=nh,a.value=a.factory()),"object"==typeof a.value&&a.value&&function xf(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=X(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Nf(s){const o=In(s),a=null!==o?o.factory:Fr(s);if(null!==a)return a;if(s instanceof Cn)throw new ce(204,!1);if(s instanceof Function)return function ry(s){const o=s.length;if(o>0)throw Es(o,"?"),new ce(204,!1);const a=function $r(s){const o=s&&(s[ui]||s[Qr]);if(o){const a=function Zr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new ce(204,!1)}function Af(s,o,a){let l;if(ns(s)){const h=X(s);return Fr(h)||Nf(h)}if(Un(s))l=()=>X(s.useValue);else if(function ul(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...N(s.deps||[]));else if(function ts(s){return!(!s||!s.useExisting)}(s))l=()=>Qn(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function Mf(s){return!!s.deps}(s))return Fr(h)||Nf(h);l=()=>new h(...N(s.deps))}return l}function jr(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function rs(s){return!!s.\u0275providers}function dl(s,o){for(const a of s)Array.isArray(a)?dl(a,o):rs(a)?dl(a.\u0275providers,o):o(a)}class rh{}class ru{}class Ng{resolveComponentFactory(o){throw function wa(s){const o=Error(`No component factory found for ${ye(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let hl=(()=>{class s{}return s.NULL=new Ng,s})();function Of(){return _(qn(),Ae())}function _(s,o){return new f(Er(s,o))}let f=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Of,s})();function g(s){return s instanceof f?s.nativeElement:s}class x{}let L=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function J(){const s=Ae(),a=en(qn().index,s);return(rt(a)?a:s)[11]}(),s})(),Ce=(()=>{class s{}return s.\u0275prov=on({token:s,providedIn:"root",factory:()=>null}),s})();class Qe{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const pt=new Qe("14.2.8"),At={},Tt={name:"custom-elements"},_r={name:"no-errors-schema"};let is=!1;function fl(s){is=s}function Ag(){return is}let sd=!1;function Rf(s){sd=s}function pl(){return sd}const iy="ngOriginalError";function oh(s){return s[iy]}class su{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&oh(o);for(;a&&oh(a);)a=oh(a);return a||null}}const Fb=/^>|^->|<!--|-->|--!>|<!-$/g,jC=/(<|>)/;const xg=new Map;let jb=0;function Ub(s){return xg.get(s)||null}class wn{constructor(o,a,l){this.lViewId=o,this.nodeIndex=a,this.native=l}get lView(){return Ub(this.lViewId)}}function Ui(s){let o=lh(s);if(o){if(rt(o)){const a=o;let l,h,p;if(function $b(s){return s&&s.constructor&&s.constructor.\u0275cmp}(s)){if(l=Hb(a,s),-1==l)throw new Error("The provided component was not found in the application");h=s}else if(function vc(s){return s&&s.constructor&&s.constructor.\u0275dir}(s)){if(l=function UC(s,o){let a=s[1].firstChild;for(;a;){const h=a.directiveEnd;for(let p=a.directiveStart;p<h;p++)if(s[p]===o)return a.index;a=kf(a)}return-1}(a,s),-1==l)throw new Error("The provided directive was not found in the application");p=tn(l,a,!1)}else if(l=ay(a,s),-1==l)return null;const v=Nn(a[l]),D=lh(v),E=D&&!Array.isArray(D)?D:Og(a,l,v);if(h&&void 0===E.component&&(E.component=h,Gn(E.component,E)),p&&void 0===E.directives){E.directives=p;for(let M=0;M<p.length;M++)Gn(p[M],E)}Gn(E.native,E),o=E}}else{const a=s;let l=a;for(;l=l.parentNode;){const h=lh(l);if(h){const p=Array.isArray(h)?h:h.lView;if(!p)return null;const v=ay(p,a);if(v>=0){const D=Nn(p[v]),E=Og(p,v,D);Gn(D,E),o=E;break}}}}return o||null}function Og(s,o,a){return new wn(s[20],o,a)}function _l(s){let a,o=lh(s);if(rt(o)){const l=o,h=Hb(l,s);a=en(h,l);const p=Og(l,h,a[0]);p.component=s,Gn(s,p),Gn(p.native,p)}else a=en(o.nodeIndex,o.lView);return a}const oy="__ngContext__";function Gn(s,o){rt(o)?(s[oy]=o[20],function sy(s){xg.set(s[20],s)}(o)):s[oy]=o}function lh(s){const o=s[oy];return"number"==typeof o?Ub(o):o||null}function uh(s){const o=lh(s);return o?rt(o)?o:o.lView:null}function ay(s,o){const a=s[1];for(let l=22;l<a.bindingStartIndex;l++)if(Nn(s[l])===o)return l;return-1}function kf(s){if(s.child)return s.child;if(s.next)return s.next;for(;s.parent&&!s.parent.next;)s=s.parent;return s.parent&&s.parent.next}function Hb(s,o){const a=s[1].components;if(a)for(let l=0;l<a.length;l++){const h=a[l];if(en(h,s)[8]===o)return h}else if(en(22,s)[8]===o)return 22;return-1}function tn(s,o,a){const l=o[1].data[s];let h=l.directiveStart;return 0==h?Vt:(!a&&2&l.flags&&h++,o.slice(h,l.directiveEnd))}function dh(s){return s.ownerDocument.defaultView}function hh(s){return s.ownerDocument}function Ff(s){return s.ownerDocument.body}function bc(s){return s instanceof Function?s():s}var Dc=(()=>((Dc=Dc||{})[Dc.Important=1]="Important",Dc[Dc.DashCase=2]="DashCase",Dc))();let cd;function Pg(s,o){return cd(s,o)}function fh(s){const o=s[3];return Dr(o)?o[3]:o}function wc(s){return function Lf(s){let o=rt(s)?s:uh(s);for(;o&&!(256&o[2]);)o=fh(o);return o}(s)[8]}function Vf(s){return ph(s[13])}function kg(s){return ph(s[4])}function ph(s){for(;null!==s&&!Dr(s);)s=s[4];return s}function ld(s,o,a,l,h){if(null!=l){let p,v=!1;Dr(l)?p=l:rt(l)&&(v=!0,l=l[0]);const D=Nn(l);0===s&&null!==a?null==h?ss(o,a,D):au(o,a,D,h||null,!0):1===s&&null!==a?au(o,a,D,h||null,!0):2===s?iD(o,D,v):3===s&&o.destroyNode(D),null!=p&&function XC(s,o,a,l,h){const p=a[7];p!==Nn(a)&&ld(o,s,l,p,h);for(let D=10;D<a.length;D++){const E=a[D];jf(E[1],E,s,o,l,p)}}(o,s,p,a,h)}}function Fg(s,o){return s.createText(o)}function zb(s,o,a){s.setValue(o,a)}function KC(s,o){return s.createComment(function Lb(s){return s.replace(Fb,o=>o.replace(jC,"\u200b$1\u200b"))}(o))}function ud(s,o,a){return s.createElement(o,a)}function dy(s,o){const a=s[9],l=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Hn(h,-1)),a.splice(l,1)}function hy(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const h=l[17];null!==h&&h!==s&&dy(h,l),o>0&&(s[a-1][4]=l[4]);const p=Lo(s,10+o);!function ly(s,o){jf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=p[19];null!==v&&v.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Zb(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&jf(s,o,a,3,null,null),function uy(s){let o=s[13];if(!o)return ou(s[1],s);for(;o;){let a=null;if(rt(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)rt(o)&&ou(o[1],o),o=o[3];null===o&&(o=s),rt(o)&&ou(o[1],o),a=o&&o[4]}o=a}}(o)}}function ou(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function YC(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof Ii)){const p=a[l+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const D=h[p[v]],E=p[v+1];Hr(4,D,E);try{E.call(D)}finally{Hr(5,D,E)}}else{Hr(4,h,p);try{p.call(h)}finally{Hr(5,h,p)}}}}}(s,o),function gh(s,o){const a=s.cleanup,l=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+1],D="function"==typeof v?v(o):Nn(o[v]),E=l[h=a[p+2]],M=a[p+3];"boolean"==typeof M?D.removeEventListener(a[p],E,M):M>=0?l[h=M]():l[h=-M].unsubscribe(),p+=2}else{const v=l[h=a[p+1]];a[p].call(v)}if(null!==l){for(let p=h+1;p<l.length;p++)(0,l[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Dr(o[3])){a!==o[3]&&dy(a,o);const l=o[19];null!==l&&l.detachView(s)}!function zr(s){xg.delete(s[20])}(o)}}function Qb(s,o,a){return Yb(s,o.parent,a)}function Yb(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const h=s.data[l.directiveStart].encapsulation;if(h===It.None||h===It.Emulated)return null}return Er(l,a)}function au(s,o,a,l,h){s.insertBefore(o,a,l,h)}function ss(s,o,a){s.appendChild(o,a)}function Jb(s,o,a,l,h){null!==l?au(s,o,a,l,h):ss(s,o,a)}function Bf(s,o){return s.parentNode(o)}function fy(s,o,a){return tD(s,o,a)}function eD(s,o,a){return 40&s.type?Er(s,a):null}let py,tD=eD;function nD(s,o){tD=s,py=o}function Vg(s,o,a,l){const h=Qb(s,l,o),p=o[11],D=fy(l.parent||o[6],l,o);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)Jb(p,h,a[E],D,!1);else Jb(p,h,a,D,!1);void 0!==py&&py(p,l,o,a,h)}function Bg(s,o){if(null!==o){const a=o.type;if(3&a)return Er(o,s);if(4&a)return gy(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Bg(s,l);{const h=s[o.index];return Dr(h)?gy(-1,h):Nn(h)}}if(32&a)return Pg(o,s)()||Nn(s[o.index]);{const l=rD(s,o);return null!==l?Array.isArray(l)?l[0]:Bg(fh(s[16]),l):Bg(s,o.next)}}return null}function rD(s,o){return null!==o?s[16][6].projection[o.projection]:null}function gy(s,o){const a=10+s+1;if(a<o.length){const l=o[a],h=l[1].firstChild;if(null!==h)return Bg(l,h)}return o[7]}function iD(s,o,a){const l=Bf(s,o);l&&function Xb(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}function my(s,o,a,l,h,p,v){for(;null!=a;){const D=l[a.index],E=a.type;if(v&&0===o&&(D&&Gn(Nn(D),l),a.flags|=4),64!=(64&a.flags))if(8&E)my(s,o,a.child,l,h,p,!1),ld(o,s,h,D,p);else if(32&E){const M=Pg(a,l);let F;for(;F=M();)ld(o,s,h,F,p);ld(o,s,h,D,p)}else 16&E?sD(s,o,l,a,h,p):ld(o,s,h,D,p);a=v?a.projectionNext:a.next}}function jf(s,o,a,l,h,p){my(a,l,s.firstChild,o,h,p,!1)}function sD(s,o,a,l,h,p){const v=a[16],E=v[6].projection[l.projection];if(Array.isArray(E))for(let M=0;M<E.length;M++)ld(o,s,h,E[M],p);else my(s,o,E,v[3],h,p,!0)}function _y(s,o,a){s.setAttribute(o,"style",a)}function yy(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function vy(s,o,a){let l=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===l||s.charCodeAt(h+p)<=32)return h}a=h+1}}const oD="ng-template";function by(s,o,a){let l=0;for(;l<s.length;){let h=s[l++];if(a&&"class"===h){if(h=s[l],-1!==vy(h.toLowerCase(),o,0))return!0}else if(1===h){for(;l<s.length&&"string"==typeof(h=s[l++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function ai(s){return 4===s.type&&s.value!==oD}function Dy(s,o,a){return o===(4!==s.type||a?s.value:oD)}function wy(s,o,a){let l=4;const h=s.attrs||[],p=function aD(s){for(let o=0;o<s.length;o++)if(Bi(s[o]))return o;return s.length}(h);let v=!1;for(let D=0;D<o.length;D++){const E=o[D];if("number"!=typeof E){if(!v)if(4&l){if(l=2|1&l,""!==E&&!Dy(s,E,a)||""===E&&1===o.length){if(vo(l))return!1;v=!0}}else{const M=8&l?E:o[++D];if(8&l&&null!==s.attrs){if(!by(s.attrs,M,a)){if(vo(l))return!1;v=!0}continue}const j=cu(8&l?"class":E,h,ai(s),a);if(-1===j){if(vo(l))return!1;v=!0;continue}if(""!==M){let Q;Q=j>p?"":h[j+1].toLowerCase();const oe=8&l?Q:null;if(oe&&-1!==vy(oe,M,0)||2&l&&M!==Q){if(vo(l))return!1;v=!0}}}}else{if(!v&&!vo(l)&&!vo(E))return!1;if(v&&vo(E))continue;v=!1,l=E|1&l}}return vo(l)||v}function vo(s){return 0==(1&s)}function cu(s,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let p=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function jg(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function Iy(s,o,a=!1){for(let l=0;l<o.length;l++)if(wy(s,o[l],a))return!0;return!1}function dd(s,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(s.length===l.length){for(let h=0;h<s.length;h++)if(s[h]!==l[h])continue e;return!0}}return!1}function lu(s,o){return s?":not("+o.trim()+")":o}function hd(s){let o=s[0],a=1,l=2,h="",p=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&l){const D=s[++a];h+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&l?h+="."+v:4&l&&(h+=" "+v);else""!==h&&!vo(v)&&(o+=lu(p,h),h=""),l=v,p=p||!vo(l);a++}return""!==h&&(o+=lu(p,h)),o}const qt={};function Ug(s){Cy(St(),Ae(),H()+s,!1)}function Cy(s,o,a,l){if(!l)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Ln(o,p,a)}else{const p=s.preOrderHooks;null!==p&&Li(o,p,0,a)}de(a)}const Ey={\u0275\u0275defineInjectable:on,\u0275\u0275defineInjector:$t,\u0275\u0275inject:Qn,\u0275\u0275invalidFactoryDep:qd,resolveForwardRef:X};const lD=pe({provide:String,useValue:pe});function Ty(s){return void 0!==s.useClass}function mh(s){return void 0!==s.useFactory}const uD=ji("Injectable",void 0,void 0,void 0,(s,o)=>function r1(s,o){let a=null,l=null;s.hasOwnProperty(ui)||Object.defineProperty(s,ui,{get:()=>(null===a&&(a=sr().compileInjectable(Ey,`ng:///${s.name}/\u0275prov.js`,function i1(s,o){const a=o||{providedIn:null},l={name:s.name,type:s,typeArgumentCount:0,providedIn:a.providedIn};return(Ty(a)||mh(a))&&void 0!==a.deps&&(l.deps=be(a.deps)),Ty(a)?l.useClass=a.useClass:function $g(s){return lD in s}(a)?l.useValue=a.useValue:mh(a)?l.useFactory=a.useFactory:function fd(s){return void 0!==s.useExisting}(a)&&(l.useExisting=a.useExisting),l}(s,o))),a)}),s.hasOwnProperty(pr)||Object.defineProperty(s,pr,{get:()=>{if(null===l){const h=sr();l=h.compileFactory(Ey,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,typeArgumentCount:0,deps:ze(s),target:h.FactoryTarget.Injectable})}return l},configurable:!0})}(s,o));function Sy(s,o=null,a=null,l){const h=dD(s,o,a,l);return h.resolveInjectorInitializers(),h}function dD(s,o=null,a=null,l,h=new Set){const p=[a||Vt,Tf(s)];return l=l||("object"==typeof s?void 0:ye(s)),new Sf(p,o||nd(),l||null,h)}let uu=(()=>{class s{static create(a,l){if(Array.isArray(a))return Sy({name:""},l,a,"");{const h=a.name??"";return Sy({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=Si,s.NULL=new Ef,s.\u0275prov=on({token:s,providedIn:"any",factory:()=>Qn(tu)}),s.__NG_ELEMENT_ID__=-1,s})();function vl(s){return s.length>1?" ("+function $f(s){const o=[];for(let a=0;a<s.length;++a){if(o.indexOf(s[a])>-1)return o.push(s[a]),o;o.push(s[a])}return o}(s.slice().reverse()).map(l=>ye(l.token)).join(" -> ")+")":""}function bl(s,o,a,l){const h=[o],p=a(h),v=l?function ur(s,o){const a=`${s} caused by: ${o instanceof Error?o.message:o}`,l=Error(a);return l[iy]=o,l}(p,l):Error(p);return v.addKey=hD,v.keys=h,v.injectors=[s],v.constructResolvingMessage=a,v[iy]=l,v}function hD(s,o){this.injectors.push(s),this.keys.push(o),this.message=this.constructResolvingMessage(this.keys)}function fD(s,o){const a=[];for(let l=0,h=o.length;l<h;l++){const p=o[l];a.push(p&&0!=p.length?p.map(ye).join(" "):"?")}return Error("Cannot resolve all parameters for '"+ye(s)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+ye(s)+"' is decorated with Injectable.")}function Hf(s,o){return Error(`Cannot mix multi providers and regular providers, got: ${s} ${o}`)}class Ho{constructor(o,a){if(this.token=o,this.id=a,!o)throw new ce(208,!1);this.displayName=ye(this.token)}static get(o){return Ay.get(X(o))}static get numberOfKeys(){return Ay.numberOfKeys}}class Gf{constructor(){this._allKeys=new Map}get(o){if(o instanceof Ho)return o;if(this._allKeys.has(o))return this._allKeys.get(o);const a=new Ho(o,Ho.numberOfKeys);return this._allKeys.set(o,a),a}get numberOfKeys(){return this._allKeys.size}}const Ay=new Gf;class Wf{constructor(o,a,l){this.key=o,this.optional=a,this.visibility=l}static fromKey(o){return new Wf(o,!1,null)}}const Zs=[];class My{constructor(o,a,l){this.key=o,this.resolvedFactories=a,this.multiProvider=l,this.resolvedFactory=this.resolvedFactories[0]}}class zf{constructor(o,a){this.factory=o,this.dependencies=a}}function Gg(s){let o,a;if(s.useClass){const l=X(s.useClass);o=er().factory(l),a=mD(l)}else s.useExisting?(o=l=>l,a=[Wf.fromKey(Ho.get(s.useExisting))]):s.useFactory?(o=s.useFactory,a=function pd(s,o){if(o){const a=o.map(l=>[l]);return o.map(l=>gd(s,l,a))}return mD(s)}(s.useFactory,s.deps)):(o=()=>s.useValue,a=Zs);return new zf(o,a)}function gD(s){return new My(Ho.get(s.provide),[Gg(s)],s.multi||!1)}function du(s){const l=function _h(s,o){for(let a=0;a<s.length;a++){const l=s[a],h=o.get(l.key.id);if(h){if(l.multiProvider!==h.multiProvider)throw Hf(h,l);if(l.multiProvider)for(let p=0;p<l.resolvedFactories.length;p++)h.resolvedFactories.push(l.resolvedFactories[p]);else o.set(l.key.id,l)}else{let p;p=l.multiProvider?new My(l.key,l.resolvedFactories.slice(),l.multiProvider):l,o.set(l.key.id,p)}}return o}(xy(s,[]).map(gD),new Map);return Array.from(l.values())}function xy(s,o){return s.forEach(a=>{if(a instanceof Kc)o.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)o.push(a);else{if(!Array.isArray(a))throw function Hg(s){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${s}`)}(a);xy(a,o)}}),o}function mD(s){const o=er().parameters(s);if(!o)return[];if(o.some(a=>null==a))throw fD(s,o);return o.map(a=>gd(s,a,o))}function gd(s,o,a){let l=null,h=!1;if(!Array.isArray(o))return Wg(o instanceof Y?o.token:o,h,null);let p=null;for(let v=0;v<o.length;++v){const D=o[v];D instanceof Kc?l=D:D instanceof Y?l=D.token:D instanceof $e?h=!0:D instanceof vt||D instanceof Nt?p=D:D instanceof Cn&&(l=D)}if(l=X(l),null!=l)return Wg(l,h,p);throw fD(s,a)}function Wg(s,o,a){return new Wf(Ho.get(s),o,a)}const Go={};class md{static resolve(o){return du(o)}static resolveAndCreate(o,a){const l=md.resolve(o);return md.fromResolvedProviders(l,a)}static fromResolvedProviders(o,a){return new a1(o,a)}}let a1=(()=>{class s{constructor(a,l){this._constructionCounter=0,this._providers=a,this.parent=l||null;const h=a.length;this.keyIds=[],this.objs=[];for(let p=0;p<h;p++)this.keyIds[p]=a[p].key.id,this.objs[p]=Go}get(a,l=Si){return this._getByKey(Ho.get(a),null,l)}resolveAndCreateChild(a){const l=md.resolve(a);return this.createChildFromResolved(l)}createChildFromResolved(a){const l=new s(a);return l.parent=this,l}resolveAndInstantiate(a){return this.instantiateResolved(md.resolve([a])[0])}instantiateResolved(a){return this._instantiateProvider(a)}getProviderAtIndex(a){if(a<0||a>=this._providers.length)throw function pD(s){return Error(`Index ${s} is out-of-bounds.`)}(a);return this._providers[a]}_new(a){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function o1(s,o){return bl(s,o,function(a){return`Cannot instantiate cyclic dependency!${vl(a)}`})}(this,a.key);return this._instantiateProvider(a)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(a){if(a.multiProvider){const l=[];for(let h=0;h<a.resolvedFactories.length;++h)l[h]=this._instantiate(a,a.resolvedFactories[h]);return l}return this._instantiate(a,a.resolvedFactories[0])}_instantiate(a,l){const h=l.factory;let p,v;try{p=l.dependencies.map(D=>this._getByReflectiveDependency(D))}catch(D){throw D.addKey&&D.addKey(this,a.key),D}try{v=h(...p)}catch(D){throw function Ny(s,o,a,l){return bl(s,l,function(h){const p=ye(h[0].token);return`${o.message}: Error during instantiation of ${p}!${vl(h)}.`},o)}(this,D,0,a.key)}return v}_getByReflectiveDependency(a){return this._getByKey(a.key,a.visibility,a.optional?null:Si)}_getByKey(a,l,h){return a===s.INJECTOR_KEY?this:l instanceof vt?this._getByKeySelf(a,h):this._getByKeyDefault(a,h,l)}_getObjByKeyId(a){for(let l=0;l<this.keyIds.length;l++)if(this.keyIds[l]===a)return this.objs[l]===Go&&(this.objs[l]=this._new(this._providers[l])),this.objs[l];return Go}_throwOrNull(a,l){if(l!==Si)return l;throw function s1(s,o){return bl(s,o,function(a){return`No provider for ${ye(a[0].token)}!${vl(a)}`})}(this,a)}_getByKeySelf(a,l){const h=this._getObjByKeyId(a.id);return h!==Go?h:this._throwOrNull(a,l)}_getByKeyDefault(a,l,h){let p;for(p=h instanceof Nt?this.parent:this;p instanceof s;){const v=p,D=v._getObjByKeyId(a.id);if(D!==Go)return D;p=v.parent}return null!==p?p.get(a.token,l):this._throwOrNull(a,l)}get displayName(){return`ReflectiveInjector(providers: [${function c1(s,o){const a=[];for(let l=0;l<s._providers.length;++l)a[l]=o(s.getProviderAtIndex(l));return a}(this,l=>' "'+l.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return s.INJECTOR_KEY=Ho.get(uu),s})();function yh(s,o=at.Default){const a=Ae();return null===a?Qn(s,o):lo(qn(),a,X(s),o)}function _D(){throw new Error("invalid")}function Kf(s,o){return s<<17|o<<2}function Ia(s){return s>>17&32767}function zg(s){return 2|s}function As(s){return(131068&s)>>2}function _d(s,o){return-131069&s|o<<2}function qg(s){return 1|s}function $y(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],p=a[l+1];if(-1!==p){const v=s.data[p];ca(h),v.contentQueries(2,o[p],p)}}}function fu(s,o,a,l,h,p,v,D,E,M,F){const j=o.blueprint.slice();return j[0]=h,j[2]=76|l,(null!==F||s&&1024&s[2])&&(j[2]|=1024),ta(j),j[3]=j[15]=s,j[8]=a,j[10]=v||s&&s[10],j[11]=D||s&&s[11],j[12]=E||s&&s[12]||null,j[9]=M||s&&s[9]||null,j[6]=p,j[20]=function ch(){return jb++}(),j[21]=F,j[16]=2==o.type?s[16]:j,j}function Dl(s,o,a,l,h){let p=s.data[o];if(null===p)p=Jf(s,o,a,l,h),function Pu(){return Pt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const v=Bs();p.injectorIndex=null===v?-1:v.injectorIndex}return bi(p,!0),p}function Jf(s,o,a,l,h){const p=Ka(),v=ia(),E=s.data[o]=function v1(s,o,a,l,h,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,o,l,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(v?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}function pu(s,o,a,l){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(l),s.blueprint.push(l),s.data.push(null);return h}function Xf(s,o,a){Xa(o);try{const l=s.viewQuery;null!==l&&iv(1,l,a);const h=s.template;null!==h&&CD(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&$y(s,o),s.staticViewQueries&&iv(2,s.viewQuery,a);const p=s.components;null!==p&&function Jg(s,o){for(let a=0;a<o.length;a++)OD(s,o[a])}(o,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,O()}}function ep(s,o,a,l){const h=o[2];if(128!=(128&h)){Xa(o);try{ta(o),oa(s.bindingStartIndex),null!==a&&CD(s,o,a,2,l);const v=3==(3&h);if(v){const M=s.preOrderCheckHooks;null!==M&&Ln(o,M,null)}else{const M=s.preOrderHooks;null!==M&&Li(o,M,0,null),Gr(o,0)}if(function nv(s){for(let o=Vf(s);null!==o;o=kg(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const h=a[l],p=h[3];0==(512&h[2])&&Hn(p,1),h[2]|=512}}}(o),function Dh(s){for(let o=Vf(s);null!==o;o=kg(o))for(let a=10;a<o.length;a++){const l=o[a],h=l[1];vs(l)&&ep(h,l,h.template,l[8])}}(o),null!==s.contentQueries&&$y(s,o),v){const M=s.contentCheckHooks;null!==M&&Ln(o,M)}else{const M=s.contentHooks;null!==M&&Li(o,M,1),Gr(o,1)}!function ID(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)de(~h);else{const p=h,v=a[++l],D=a[++l];ku(v,p),D(2,o[p])}}}finally{de(-1)}}(s,o);const D=s.components;null!==D&&function Hy(s,o){for(let a=0;a<o.length;a++)I1(s,o[a])}(o,D);const E=s.viewQuery;if(null!==E&&iv(2,E,l),v){const M=s.viewCheckHooks;null!==M&&Ln(o,M)}else{const M=s.viewHooks;null!==M&&Li(o,M,2),Gr(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Hn(o[3],-1))}finally{O()}}}function CD(s,o,a,l,h){const p=H(),v=2&l;try{de(-1),v&&o.length>22&&Cy(s,o,22,!1),Hr(v?2:0,h),a(l,h)}finally{de(p),Hr(v?3:1,h)}}function Gy(s,o,a){if(Mt(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const v=s.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}function Wy(s,o,a){!Fi()||(function tp(s,o,a,l){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||da(a,o),Gn(l,o);const v=a.initialInputs;for(let D=h;D<p;D++){const E=s.data[D],M=rr(E);M&&w1(o,a,E);const F=ko(o,s,D,a);Gn(F,o),null!==v&&ev(0,D-h,F,E,0,v),M&&(en(a.index,o)[8]=F)}}(s,o,a,Er(a,o)),128==(128&a.flags)&&function Qy(s,o,a){const l=a.directiveStart,h=a.directiveEnd,p=a.index,v=function Ya(){return Pt.lFrame.currentDirectiveIndex}();try{de(p);for(let D=l;D<h;D++){const E=s.data[D],M=o[D];aa(D),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Yy(E,M)}}finally{de(-1),aa(v)}}(s,o,a))}function zy(s,o,a=Er){const l=o.localNames;if(null!==l){let h=o.index+1;for(let p=0;p<l.length;p+=2){const v=l[p+1],D=-1===v?a(o,s):s[v];s[h++]=D}}}function ED(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Xg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Xg(s,o,a,l,h,p,v,D,E,M){const F=22+l,j=F+h,Q=function em(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:qt);return a}(F,j),oe="function"==typeof M?M():M;return Q[1]={type:s,blueprint:Q,template:a,queries:null,viewQuery:D,declTNode:o,data:Q.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:oe,incompleteFirstPass:!1}}function Ky(s,o,a,l){const h=FD(o);null===a?h.push(l):(h.push(a),s.firstCreatePass&&um(s).push(l,h.length-1))}function TD(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const h=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,h):a[l]=[o,h]}return a}function SD(s,o){const l=o.directiveEnd,h=s.data,p=o.attrs,v=[];let D=null,E=null;for(let M=o.directiveStart;M<l;M++){const F=h[M],j=F.inputs,Q=null===p||ai(o)?null:am(j,p);v.push(Q),D=TD(j,M,D),E=TD(F.outputs,M,E)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=16),D.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=D,o.outputs=E}function Ms(s,o,a,l,h,p,v,D){const E=Er(o,a);let F,M=o.inputs;!D&&null!=M&&(F=M[l])?(rp(s,a,F,l,h),gs(o)&&ND(a,o.index)):3&o.type&&(l=function b1(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),h=null!=v?v(h,o.value||"",l):h,p.setProperty(E,l,h))}function ND(s,o){const a=en(o,s);16&a[2]||(a[2]|=32)}function gu(s,o,a,l){let h=!1;if(Fi()){const p=function Jy(s,o,a){const l=s.directiveRegistry;let h=null;if(l)for(let p=0;p<l.length;p++){const v=l[p];Iy(a,v.selectors,!1)&&(h||(h=[]),ha(da(a,o),s,v.type),rr(v)?(sm(s,a),h.unshift(v)):h.push(v))}return h}(s,o,a),v=null===l?null:{"":-1};if(null!==p){h=!0,MD(a,s.data.length,p.length);for(let F=0;F<p.length;F++){const j=p[F];j.providersResolver&&j.providersResolver(j)}let D=!1,E=!1,M=pu(s,o,p.length,null);for(let F=0;F<p.length;F++){const j=p[F];a.mergedAttrs=Hl(a.mergedAttrs,j.hostAttrs),om(s,a,o,M,j),AD(M,j,v),null!==j.contentQueries&&(a.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(a.flags|=128);const Q=j.type.prototype;!D&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),D=!0),!E&&(Q.ngOnChanges||Q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),M++}SD(s,a)}v&&function wl(s,o,a){if(o){const l=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new ce(-301,!1);l.push(o[h],p)}}}(a,l,v)}return a.mergedAttrs=Hl(a.mergedAttrs,a.attrs),h}function rm(s,o,a,l,h,p){const v=p.hostBindings;if(v){let D=s.hostBindingOpCodes;null===D&&(D=s.hostBindingOpCodes=[]);const E=~o.index;(function im(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(D)!=E&&D.push(E),D.push(l,h,v)}}function Yy(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function sm(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function AD(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;rr(o)&&(a[""]=s)}}function MD(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function om(s,o,a,l,h){s.data[l]=h;const p=h.factory||(h.factory=Fr(h.type)),v=new Ii(p,rr(h),yh);s.blueprint[l]=v,a[l]=v,rm(s,o,0,l,pu(s,a,h.hostVars,qt),h)}function w1(s,o,a){const l=Er(o,s),h=ED(a),p=s[10],v=cm(s,fu(s,h,null,a.onPush?32:16,l,o,p,p.createRenderer(l,a),null,null,null));s[o.index]=v}function Wo(s,o,a,l,h,p){const v=Er(s,o);Xy(o[11],v,p,s.value,a,l,h)}function Xy(s,o,a,l,h,p,v){if(null==p)s.removeAttribute(o,h,a);else{const D=null==v?ge(p):v(p,l||"",h);s.setAttribute(o,h,D,a)}}function ev(s,o,a,l,h,p){const v=p[o];if(null!==v){const D=l.setInput;for(let E=0;E<v.length;){const M=v[E++],F=v[E++],j=v[E++];null!==D?l.setInput(a,j,M,F):a[F]=j}}}function am(s,o){let a=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[l+1])),l+=2}else l+=2;else l+=4}return a}function tv(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function I1(s,o){const a=en(o,s);if(vs(a)){const l=a[1];48&a[2]?ep(l,a,l.template,a[8]):a[5]>0&&rv(a)}}function rv(s){for(let l=Vf(s);null!==l;l=kg(l))for(let h=10;h<l.length;h++){const p=l[h];if(vs(p))if(512&p[2]){const v=p[1];ep(v,p,v.template,p[8])}else p[5]>0&&rv(p)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=en(a[l],s);vs(h)&&h[5]>0&&rv(h)}}function OD(s,o){const a=en(o,s),l=a[1];(function RD(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),Xf(l,a,a[8])}function cm(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function np(s){for(;s;){s[2]|=32;const o=fh(s);if(Ll(s)&&!o)return s;s=o}return null}function lm(s,o,a,l=!0){const h=o[10];h.begin&&h.begin();try{ep(s,o,s.template,a)}catch(v){throw l&&dm(o,v),v}finally{h.end&&h.end()}}function iv(s,o,a){ca(0),o(s,a)}function FD(s){return s[7]||(s[7]=[])}function um(s){return s.cleanup||(s.cleanup=[])}function sv(s,o,a){return(null===s||rr(s))&&(a=function qa(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}function dm(s,o){const a=s[9],l=a?a.get(su,null):null;l&&l.handleError(o)}function rp(s,o,a,l,h){for(let p=0;p<a.length;){const v=a[p++],D=a[p++],E=o[v],M=s.data[v];null!==M.setInput?M.setInput(E,h,l,D):E[D]=h}}function Ca(s,o,a){const l=Vr(o,s);zb(s[11],l,a)}function Il(s,o,a){let l=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const D=o[v];"number"==typeof D?p=D:1==p?h=ve(h,D):2==p&&(l=ve(l,D+": "+o[++v]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=h:s.classesWithoutHost=h}function Ea(s,o,a,l,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(Nn(p)),Dr(p))for(let D=10;D<p.length;D++){const E=p[D],M=E[1].firstChild;null!==M&&Ea(E[1],E,M,l)}const v=a.type;if(8&v)Ea(s,o,a.child,l);else if(32&v){const D=Pg(a,o);let E;for(;E=D();)l.push(E)}else if(16&v){const D=rD(o,a);if(Array.isArray(D))l.push(...D);else{const E=fh(o[16]);Ea(E[1],E,D,l,!0)}}a=h?a.projectionNext:a.next}return l}class mu{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Ea(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Dr(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(hy(o,l),Lo(a,l))}this._attachedToViewContainer=!1}Zb(this._lView[1],this._lView)}onDestroy(o){Ky(this._lView[1],this._lView,null,o)}markForCheck(){np(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){lm(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qb(s,o){jf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=o}}class wh extends mu{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;lm(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class _u extends hl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=re(o);return new Ch(a,this.ngModule)}}function ov(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class C1{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){const h=this.injector.get(o,At,l);return h!==At||a===At?h:this.parentInjector.get(o,a,l)}}class Ch extends ru{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Uf(s){return s.map(hd).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return ov(this.componentDef.inputs)}get outputs(){return ov(this.componentDef.outputs)}create(o,a,l,h){let p=(h=h||this.ngModule)instanceof An?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new C1(o,p):o,D=v.get(x,null);if(null===D)throw new ce(407,!1);const E=v.get(Ce,null),M=D.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",j=l?function qy(s,o,a){return s.selectRootElement(o,a===It.ShadowDom)}(M,l,this.componentDef.encapsulation):ud(D.createRenderer(null,this.componentDef),F,function Ih(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(F)),Q=this.componentDef.onPush?288:272,oe=Xg(0,null,null,1,0,null,null,null,null,null),Re=fu(null,oe,null,Q,null,null,D,M,E,v,null);let Ke,it;Xa(Re);try{const Dt=function E1(s,o,a,l,h,p){const v=a[1];a[22]=s;const E=Dl(v,22,2,"#host",null),M=E.mergedAttrs=o.hostAttrs;null!==M&&(Il(E,M,!0),null!==s&&(Oo(h,s,M),null!==E.classes&&yy(h,s,E.classes),null!==E.styles&&_y(h,s,E.styles)));const F=l.createRenderer(s,o),j=fu(a,ED(o),null,o.onPush?32:16,a[22],E,l,F,p||null,null,null);return v.firstCreatePass&&(ha(da(E,a),v,o.type),sm(v,E),MD(E,a.length,1)),cm(a,j),a[22]=j}(j,this.componentDef,Re,D,M);if(j)if(l)Oo(M,j,["ng-version",pt.full]);else{const{attrs:xt,classes:je}=function cD(s){const o=[],a=[];let l=1,h=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++l]):8===h&&a.push(p);else{if(!vo(h))break;h=p}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);xt&&Oo(M,j,xt),je&&je.length>0&&yy(M,j,je.join(" "))}if(it=ro(oe,22),void 0!==a){const xt=it.projection=[];for(let je=0;je<this.ngContentSelectors.length;je++){const Lt=a[je];xt.push(null!=Lt?Array.from(Lt):null)}}Ke=function T1(s,o,a,l){const h=a[1],p=function Zy(s,o,a){const l=qn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),om(s,l,o,pu(s,o,1,null),a),SD(s,l));const h=ko(o,s,l.directiveStart,l);Gn(h,o);const p=Er(l,o);return p&&Gn(p,o),h}(h,a,o);if(s[8]=a[8]=p,null!==l)for(const D of l)D(p,o);if(o.contentQueries){const D=qn();o.contentQueries(1,p,D.directiveStart)}const v=qn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(de(v.index),rm(a[1],v,0,v.directiveStart,v.directiveEnd,o),Yy(o,p)),p}(Dt,this.componentDef,Re,[fm]),Xf(oe,Re,null)}finally{O()}return new hm(this.componentType,Ke,_(it,Re),Re,it)}}class hm extends rh{constructor(o,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new wh(h),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){const p=this._rootLView;rp(p[1],p,h,o,a),ND(p,this._tNode.index)}}get injector(){return new uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function fm(){const s=qn();yn(Ae()[1],s)}function pm(s){return Object.getPrototypeOf(s.prototype).constructor}function cv(s){let o=pm(s.type),a=!0;const l=[s];for(;o;){let h;if(rr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ce(903,!1);h=o.\u0275dir}if(h){if(a){l.push(h);const v=s;v.inputs=lv(s.inputs),v.declaredInputs=lv(s.declaredInputs),v.outputs=lv(s.outputs);const D=h.hostBindings;D&&$D(s,D);const E=h.viewQuery,M=h.contentQueries;if(E&&jD(s,E),M&&UD(s,M),De(s.inputs,h.inputs),De(s.declaredInputs,h.declaredInputs),De(s.outputs,h.outputs),rr(h)&&h.data.animation){const F=s.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const D=p[v];D&&D.ngInherit&&D(s),D===cv&&(a=!1)}}o=Object.getPrototypeOf(o)}!function BD(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const h=s[l];h.hostVars=o+=h.hostVars,h.hostAttrs=Hl(h.hostAttrs,a=Hl(a,h.hostAttrs))}}(l)}function lv(s){return s===Jr?{}:s===Vt?[]:s}function jD(s,o){const a=s.viewQuery;s.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function UD(s,o){const a=s.contentQueries;s.contentQueries=a?(l,h,p)=>{o(l,h,p),a(l,h,p)}:o}function $D(s,o){const a=s.hostBindings;s.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}const HD=["providersResolver"],S1=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function GD(s){let a,o=pm(s.type);a=rr(s)?o.\u0275cmp:o.\u0275dir;const l=s;for(const h of HD)l[h]=a[h];if(rr(a))for(const h of S1)l[h]=a[h]}let gm=null;function yd(){if(!gm){const s=Dn.Symbol;if(s&&s.iterator)gm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(gm=l)}}}return gm}function vd(s){return!!ip(s)&&(Array.isArray(s)||!(s instanceof Map)&&yd()in s)}function ip(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function zD(s,o){const a=vd(s),l=vd(o);return a&&l?function uv(s,o,a){const l=s[yd()](),h=o[yd()]();for(;;){const p=l.next(),v=h.next();if(p.done&&v.done)return!0;if(p.done||v.done||!a(p.value,v.value))return!1}}(s,o,zD):!(a||!s||"object"!=typeof s&&"function"!=typeof s||l||!o||"object"!=typeof o&&"function"!=typeof o)||Object.is(s,o)}function zo(s,o,a){return s[o]=a}function Eh(s,o){return s[o]}function Mi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function yu(s,o,a,l){const h=Mi(s,o,a);return Mi(s,o+1,l)||h}function mm(s,o,a,l,h){const p=yu(s,o,a,l);return Mi(s,o+2,h)||p}function Qs(s,o,a,l,h,p){const v=yu(s,o,a,l);return yu(s,o+2,h,p)||v}function dv(s,o,a,l){const h=Ae();return Mi(h,Yi(),o)&&(St(),Wo(Ie(),h,s,o,a,l)),dv}function vu(s,o){let a=!1,l=ri();for(let p=1;p<o.length;p+=2)a=Mi(s,l++,o[p])||a;if(oa(l),!a)return qt;let h=o[0];for(let p=1;p<o.length;p+=2)h+=ge(o[p])+o[p+1];return h}function Th(s,o,a,l){return Mi(s,Yi(),a)?o+ge(a)+l:qt}function bu(s,o,a,l,h,p){const D=yu(s,ri(),a,h);return Di(2),D?o+ge(a)+l+ge(h)+p:qt}function Sh(s,o,a,l,h,p,v,D){const M=mm(s,ri(),a,h,v);return Di(3),M?o+ge(a)+l+ge(h)+p+ge(v)+D:qt}function Du(s,o,a,l,h,p,v,D,E,M){const j=Qs(s,ri(),a,h,v,E);return Di(4),j?o+ge(a)+l+ge(h)+p+ge(v)+D+ge(E)+M:qt}function wu(s,o,a,l,h,p,v,D,E,M,F,j){const Q=ri();let oe=Qs(s,Q,a,h,v,E);return oe=Mi(s,Q+4,F)||oe,Di(5),oe?o+ge(a)+l+ge(h)+p+ge(v)+D+ge(E)+M+ge(F)+j:qt}function Iu(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe){const Re=ri();let Ke=Qs(s,Re,a,h,v,E);return Ke=yu(s,Re+4,F,Q)||Ke,Di(6),Ke?o+ge(a)+l+ge(h)+p+ge(v)+D+ge(E)+M+ge(F)+j+ge(Q)+oe:qt}function Ta(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke){const it=ri();let Dt=Qs(s,it,a,h,v,E);return Dt=mm(s,it+4,F,Q,Re)||Dt,Di(7),Dt?o+ge(a)+l+ge(h)+p+ge(v)+D+ge(E)+M+ge(F)+j+ge(Q)+oe+ge(Re)+Ke:qt}function bd(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it,Dt){const xt=ri();let je=Qs(s,xt,a,h,v,E);return je=Qs(s,xt+4,F,Q,Re,it)||je,Di(8),je?o+ge(a)+l+ge(h)+p+ge(v)+D+ge(E)+M+ge(F)+j+ge(Q)+oe+ge(Re)+Ke+ge(it)+Dt:qt}function sp(s,o,a,l,h,p){const v=Ae(),D=Th(v,o,a,l);return D!==qt&&Wo(Ie(),v,s,D,h,p),sp}function hv(s,o,a,l,h,p,v,D){const E=Ae(),M=bu(E,o,a,l,h,p);return M!==qt&&Wo(Ie(),E,s,M,v,D),hv}function op(s,o,a,l,h,p,v,D,E,M){const F=Ae(),j=Sh(F,o,a,l,h,p,v,D);return j!==qt&&Wo(Ie(),F,s,j,E,M),op}function Sa(s,o,a,l,h,p,v,D,E,M,F,j){const Q=Ae(),oe=Du(Q,o,a,l,h,p,v,D,E,M);return oe!==qt&&Wo(Ie(),Q,s,oe,F,j),Sa}function ap(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe){const Re=Ae(),Ke=wu(Re,o,a,l,h,p,v,D,E,M,F,j);return Ke!==qt&&Wo(Ie(),Re,s,Ke,Q,oe),ap}function fv(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke){const it=Ae(),Dt=Iu(it,o,a,l,h,p,v,D,E,M,F,j,Q,oe);return Dt!==qt&&Wo(Ie(),it,s,Dt,Re,Ke),fv}function cp(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it,Dt){const xt=Ae(),je=Ta(xt,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke);return je!==qt&&Wo(Ie(),xt,s,je,it,Dt),cp}function pv(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it,Dt,xt,je){const Lt=Ae(),Fn=bd(Lt,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it,Dt);return Fn!==qt&&Wo(Ie(),Lt,s,Fn,xt,je),pv}function gv(s,o,a,l){const h=Ae(),p=vu(h,o);return p!==qt&&Wo(Ie(),h,s,p,a,l),gv}function _m(s){const o=_l(s);lm(o[1],o,s)}function ym(s,o,a,l,h,p,v,D){const E=Ae(),M=St(),F=s+22,j=M.firstCreatePass?function A1(s,o,a,l,h,p,v,D,E){const M=o.consts,F=Dl(o,s,4,v||null,ni(M,D));gu(o,a,F,ni(M,E)),yn(o,F);const j=F.tViews=Xg(2,F,l,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,F),j.queries=o.queries.embeddedTView(F)),F}(F,M,E,o,a,l,h,p,v):M.data[F];bi(j,!1);const Q=E[11].createComment("");Vg(M,E,Q,j),Gn(Q,E),cm(E,E[F]=tv(Q,E,Q,j)),eo(j)&&Wy(M,E,j),null!=v&&zy(E,j,D)}function qD(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}function vm(s){return vi(function Za(){return Pt.lFrame.contextLView}(),22+s)}function mv(s,o,a){const l=Ae();return Mi(l,Yi(),o)&&Ms(St(),Ie(),l,s,o,l[11],a,!1),mv}function lp(s,o,a,l,h){const v=h?"class":"style";rp(s,a,o.inputs[v],v,l)}function Nh(s,o,a,l){const h=Ae(),p=St(),v=22+s,D=h[11],E=h[v]=ud(D,o,function Yt(){return Pt.lFrame.currentNamespace}()),M=p.firstCreatePass?function KD(s,o,a,l,h,p,v){const D=o.consts,M=Dl(o,s,2,h,ni(D,p));return gu(o,a,M,ni(D,v)),null!==M.attrs&&Il(M,M.attrs,!1),null!==M.mergedAttrs&&Il(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,p,h,0,o,a,l):p.data[v];bi(M,!0);const F=M.mergedAttrs;null!==F&&Oo(D,E,F);const j=M.classes;null!==j&&yy(D,E,j);const Q=M.styles;return null!==Q&&_y(D,E,Q),64!=(64&M.flags)&&Vg(p,h,E,M),0===function oo(){return Pt.lFrame.elementDepthCount}()&&Gn(E,h),function na(){Pt.lFrame.elementDepthCount++}(),eo(M)&&(Wy(p,h,M),Gy(p,M,h)),null!==l&&zy(h,M),Nh}function up(){let s=qn();ia()?ao():(s=s.parent,bi(s,!1));const o=s;!function ra(){Pt.lFrame.elementDepthCount--}();const a=St();return a.firstCreatePass&&(yn(a,s),Mt(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function lf(s){return 0!=(16&s.flags)}(o)&&lp(a,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function $c(s){return 0!=(32&s.flags)}(o)&&lp(a,o,Ae(),o.stylesWithoutHost,!1),up}function _v(s,o,a,l){return Nh(s,o,a,l),up(),_v}function Ah(s,o,a){const l=Ae(),h=St(),p=s+22,v=h.firstCreatePass?function M1(s,o,a,l,h){const p=o.consts,v=ni(p,l),D=Dl(o,s,8,"ng-container",v);return null!==v&&Il(D,v,!0),gu(o,a,D,ni(p,h)),null!==o.queries&&o.queries.elementStart(o,D),D}(p,h,l,o,a):h.data[p];bi(v,!0);const D=l[p]=l[11].createComment("");return Vg(h,l,D,v),Gn(D,l),eo(v)&&(Wy(h,l,v),Gy(h,v,l)),null!=a&&zy(l,v),Ah}function bm(){let s=qn();const o=St();return ia()?ao():(s=s.parent,bi(s,!1)),o.firstCreatePass&&(yn(o,s),Mt(s)&&o.queries.elementEnd(s)),bm}function dp(s,o,a){return Ah(s,o,a),bm(),dp}function Dm(){return Ae()}function hp(s){return!!s&&"function"==typeof s.then}function ZD(s){return!!s&&"function"==typeof s.subscribe}const yv=ZD;function wm(s,o,a,l){const h=Ae(),p=St(),v=qn();return Im(p,h,h[11],v,s,o,0,l),wm}function vv(s,o){const a=qn(),l=Ae(),h=St();return Im(h,l,sv(js(h.data),a,l),a,s,o),vv}function Im(s,o,a,l,h,p,v,D){const E=eo(l),F=s.firstCreatePass&&um(s),j=o[8],Q=FD(o);let oe=!0;if(3&l.type||D){const it=Er(l,o),Dt=D?D(it):it,xt=Q.length,je=D?Fn=>D(Nn(Fn[l.index])):l.index;let Lt=null;if(!D&&E&&(Lt=function bv(s,o,a,l){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===a&&h[p+1]===l){const D=o[7],E=h[p+2];return D.length>E?D[E]:null}"string"==typeof v&&(p+=2)}return null}(s,o,h,l.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=p,Lt.__ngLastListenerFn__=p,oe=!1;else{p=wv(l,o,j,p,!1);const Fn=a.listen(Dt,h,p);Q.push(p,Fn),F&&F.push(h,je,xt,xt+1)}}else p=wv(l,o,j,p,!1);const Re=l.outputs;let Ke;if(oe&&null!==Re&&(Ke=Re[h])){const it=Ke.length;if(it)for(let Dt=0;Dt<it;Dt+=2){const nr=o[Ke[Dt]][Ke[Dt+1]].subscribe(p),kd=Q.length;Q.push(p,nr),F&&F.push(h,l.index,kd,-(kd+1))}}}function Dv(s,o,a,l){try{return Hr(6,o,a),!1!==a(l)}catch(h){return dm(s,h),!1}finally{Hr(7,o,a)}}function wv(s,o,a,l,h){return function p(v){if(v===Function)return l;np(2&s.flags?en(s.index,o):o);let E=Dv(o,a,l,v),M=p.__ngNextListenerFn__;for(;M;)E=Dv(o,a,M,v)&&E,M=M.__ngNextListenerFn__;return h&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function Iv(s=1){return function T(s){return(Pt.lFrame.contextLView=function k(s,o){for(;s>0;)o=o[15],s--;return o}(s,Pt.lFrame.contextLView))[8]}(s)}function Cm(s,o){let a=null;const l=function n1(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===l?Iy(s,p,!0):dd(l,p))return h}else a=h}return a}function gn(s){const o=Ae()[16][6];if(!o.projection){const l=o.projection=Es(s?s.length:1,null),h=l.slice();let p=o.child;for(;null!==p;){const v=s?Cm(p,s):0;null!==v&&(h[v]?h[v].projectionNext=p:l[v]=p,h[v]=p),p=p.next}}}function Cv(s,o=0,a){const l=Ae(),h=St(),p=Dl(h,22+s,16,null,a||null);null===p.projection&&(p.projection=o),ao(),64!=(64&p.flags)&&function JC(s,o,a){sD(o[11],0,o,a,Qb(s,a,o),fy(a.parent||o[6],a,o))}(h,l,p)}function Em(s,o,a){return fp(s,"",o,"",a),Em}function fp(s,o,a,l,h){const p=Ae(),v=Th(p,o,a,l);return v!==qt&&Ms(St(),Ie(),p,s,v,p[11],h,!1),fp}function Dd(s,o,a,l,h,p,v){const D=Ae(),E=bu(D,o,a,l,h,p);return E!==qt&&Ms(St(),Ie(),D,s,E,D[11],v,!1),Dd}function Tm(s,o,a,l,h,p,v,D,E){const M=Ae(),F=Sh(M,o,a,l,h,p,v,D);return F!==qt&&Ms(St(),Ie(),M,s,F,M[11],E,!1),Tm}function Yn(s,o,a,l,h,p,v,D,E,M,F){const j=Ae(),Q=Du(j,o,a,l,h,p,v,D,E,M);return Q!==qt&&Ms(St(),Ie(),j,s,Q,j[11],F,!1),Yn}function xi(s,o,a,l,h,p,v,D,E,M,F,j,Q){const oe=Ae(),Re=wu(oe,o,a,l,h,p,v,D,E,M,F,j);return Re!==qt&&Ms(St(),Ie(),oe,s,Re,oe[11],Q,!1),xi}function qo(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re){const Ke=Ae(),it=Iu(Ke,o,a,l,h,p,v,D,E,M,F,j,Q,oe);return it!==qt&&Ms(St(),Ie(),Ke,s,it,Ke[11],Re,!1),qo}function Sm(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it){const Dt=Ae(),xt=Ta(Dt,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke);return xt!==qt&&Ms(St(),Ie(),Dt,s,xt,Dt[11],it,!1),Sm}function Ev(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it,Dt,xt){const je=Ae(),Lt=bd(je,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it,Dt);return Lt!==qt&&Ms(St(),Ie(),je,s,Lt,je[11],xt,!1),Ev}function Mh(s,o,a){const l=Ae(),h=vu(l,o);return h!==qt&&Ms(St(),Ie(),l,s,h,l[11],a,!1),Mh}function pp(s,o,a,l,h){const p=s[a+1],v=null===o;let D=l?Ia(p):As(p),E=!1;for(;0!==D&&(!1===E||v);){const F=s[D+1];O1(s[D],o)&&(E=!0,s[D+1]=l?qg(F):zg(F)),D=l?Ia(F):As(F)}E&&(s[a+1]=l?zg(p):qg(p))}function O1(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ws(s,o)>=0}const Oi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function YD(s){return s.substring(Oi.key,Oi.keyEnd)}function R1(s){return s.substring(Oi.value,Oi.valueEnd)}function JD(s,o){const a=Oi.textEnd;return a===o?-1:(o=Oi.keyEnd=function Nv(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Oi.key=o,a),wd(s,o,a))}function Sv(s,o){const a=Oi.textEnd;let l=Oi.key=wd(s,o,a);return a===l?-1:(l=Oi.keyEnd=function Av(s,o,a){let l;for(;o<a&&(45===(l=s.charCodeAt(o))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)o++;return o}(s,l,a),l=Am(s,l,a),l=Oi.value=wd(s,l,a),l=Oi.valueEnd=function Mm(s,o,a){let l=-1,h=-1,p=-1,v=o,D=v;for(;v<a;){const E=s.charCodeAt(v++);if(59===E)return D;34===E||39===E?D=v=xm(s,E,v,a):o===v-4&&85===p&&82===h&&76===l&&40===E?D=v=xm(s,41,v,a):E>32&&(D=v),p=h,h=l,l=-33&E}return D}(s,l,a),Am(s,l,a))}function Nm(s){Oi.key=0,Oi.keyEnd=0,Oi.value=0,Oi.valueEnd=0,Oi.textEnd=s.length}function wd(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Am(s,o,a,l){return(o=wd(s,o,a))<a&&o++,o}function xm(s,o,a,l){let h=-1,p=a;for(;p<l;){const v=s.charCodeAt(p++);if(v==o&&92!==h)return p;h=92==v&&92===h?0:v}throw new Error}function xh(s,o,a){return Na(s,o,a,!1),xh}function gp(s,o){return Na(s,o,null,!0),gp}function Do(s){Aa(nw,XD,s,!1)}function XD(s,o){for(let a=function k1(s){return Nm(s),Sv(s,wd(s,0,Oi.textEnd))}(o);a>=0;a=Sv(o,a))nw(s,YD(o),R1(o))}function Id(s){Aa(Ti,Ko,s,!0)}function Ko(s,o){for(let a=function P1(s){return Nm(s),JD(s,wd(s,0,Oi.textEnd))}(o);a>=0;a=JD(o,a))Ti(s,YD(o),!0)}function Na(s,o,a,l){const h=Ae(),p=St(),v=Di(2);p.firstUpdatePass&&Mv(p,s,v,l),o!==qt&&Mi(h,v,o)&&tr(p,p.data[H()],h,h[11],s,h[v+1]=function Ur(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ye(es(s)))),s}(o,a),l,v)}function Aa(s,o,a,l){const h=St(),p=Di(2);h.firstUpdatePass&&Mv(h,null,p,l);const v=Ae();if(a!==qt&&Mi(v,p,a)){const D=h.data[H()];if(Pv(D,l)&&!ew(h,p)){let E=l?D.classesWithoutHost:D.stylesWithoutHost;null!==E&&(a=ve(E,a||"")),lp(h,D,v,a,l)}else!function j1(s,o,a,l,h,p,v,D){h===qt&&(h=Vt);let E=0,M=0,F=0<h.length?h[0]:null,j=0<p.length?p[0]:null;for(;null!==F||null!==j;){const Q=E<h.length?h[E+1]:void 0,oe=M<p.length?p[M+1]:void 0;let Ke,Re=null;F===j?(E+=2,M+=2,Q!==oe&&(Re=j,Ke=oe)):null===j||null!==F&&F<j?(E+=2,Re=F):(M+=2,Re=j,Ke=oe),null!==Re&&tr(s,o,a,l,Re,Ke,v,D),F=E<h.length?h[E]:null,j=M<p.length?p[M]:null}}(h,D,v,v[11],v[p+1],v[p+1]=function Ov(s,o,a){if(null==a||""===a)return Vt;const l=[],h=es(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(l,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(l,p,h[p]);else"string"==typeof h&&o(l,h);return l}(s,o,a),l,p)}}function ew(s,o){return o>=s.expandoStartIndex}function Mv(s,o,a,l){const h=s.data;if(null===h[a+1]){const p=h[H()],v=ew(s,a);Pv(p,l)&&null===o&&!v&&(o=!1),o=function L1(s,o,a,l){const h=js(s);let p=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=mp(a=xv(null,s,o,a,l),o.attrs,l),p=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(a=xv(h,s,o,a,l),null===p){let E=function tw(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==As(l))return s[Ia(l)]}(s,o,l);void 0!==E&&Array.isArray(E)&&(E=xv(null,s,o,E[1],l),E=mp(E,o.attrs,l),function V1(s,o,a,l){s[Ia(a?o.classBindings:o.styleBindings)]=l}(s,o,l,E))}else p=function B1(s,o,a){let l;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)l=mp(l,s[p].hostAttrs,a);return mp(l,o.attrs,a)}(s,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,l),function Tv(s,o,a,l,h,p){let v=p?o.classBindings:o.styleBindings,D=Ia(v),E=As(v);s[l]=a;let F,M=!1;if(Array.isArray(a)){const j=a;F=j[1],(null===F||Ws(j,F)>0)&&(M=!0)}else F=a;if(h)if(0!==E){const Q=Ia(s[D+1]);s[l+1]=Kf(Q,D),0!==Q&&(s[Q+1]=_d(s[Q+1],l)),s[D+1]=function l1(s,o){return 131071&s|o<<17}(s[D+1],l)}else s[l+1]=Kf(D,0),0!==D&&(s[D+1]=_d(s[D+1],l)),D=l;else s[l+1]=Kf(E,0),0===D?D=l:s[E+1]=_d(s[E+1],l),E=l;M&&(s[l+1]=zg(s[l+1])),pp(s,F,l,!0),pp(s,F,l,!1),function QD(s,o,a,l,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Ws(p,o)>=0&&(a[l+1]=qg(a[l+1]))}(o,F,s,l,p),v=Kf(D,E),p?o.classBindings=v:o.styleBindings=v}(h,p,o,a,v,l)}}function xv(s,o,a,l,h){let p=null;const v=a.directiveEnd;let D=a.directiveStylingLast;for(-1===D?D=a.directiveStart:D++;D<v&&(p=o[D],l=mp(l,p.hostAttrs,h),p!==s);)D++;return null!==s&&(a.directiveStylingLast=D),l}function mp(s,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const v=o[p];"number"==typeof v?h=v:h===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ti(s,v,!!a||o[++p]))}return void 0===s?null:s}function nw(s,o,a){Ti(s,o,es(a))}function tr(s,o,a,l,h,p,v,D){if(!(3&o.type))return;const E=s.data,M=E[D+1];Rv(function Ry(s){return 1==(1&s)}(M)?U1(E,o,a,h,As(M),v):void 0)||(Rv(p)||function Oy(s){return 2==(2&s)}(M)&&(p=U1(E,null,a,h,D,v)),function e1(s,o,a,l,h){if(o)h?s.addClass(a,l):s.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:Dc.DashCase;null==h?s.removeStyle(a,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Dc.Important),s.setStyle(a,l,h,p))}}(l,v,Vr(H(),a),h,p))}function U1(s,o,a,l,h,p){const v=null===o;let D;for(;h>0;){const E=s[h],M=Array.isArray(E),F=M?E[1]:E,j=null===F;let Q=a[h+1];Q===qt&&(Q=j?Vt:void 0);let oe=j?ga(Q,l):F===l?Q:void 0;if(M&&!Rv(oe)&&(oe=ga(E,l)),Rv(oe)&&(D=oe,v))return D;const Re=s[h+1];h=v?Ia(Re):As(Re)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(D=ga(E,l))}return D}function Rv(s){return void 0!==s}function Pv(s,o){return 0!=(s.flags&(o?16:32))}function rw(s,o=""){const a=Ae(),l=St(),h=s+22,p=l.firstCreatePass?Dl(l,h,1,o,null):l.data[h],v=a[h]=Fg(a[11],o);Vg(l,a,v,p),bi(p,!1)}function kv(s){return _p("",s,""),kv}function _p(s,o,a){const l=Ae(),h=Th(l,s,o,a);return h!==qt&&Ca(l,H(),h),_p}function Fv(s,o,a,l,h){const p=Ae(),v=bu(p,s,o,a,l,h);return v!==qt&&Ca(p,H(),v),Fv}function Lv(s,o,a,l,h,p,v){const D=Ae(),E=Sh(D,s,o,a,l,h,p,v);return E!==qt&&Ca(D,H(),E),Lv}function Vv(s,o,a,l,h,p,v,D,E){const M=Ae(),F=Du(M,s,o,a,l,h,p,v,D,E);return F!==qt&&Ca(M,H(),F),Vv}function Bv(s,o,a,l,h,p,v,D,E,M,F){const j=Ae(),Q=wu(j,s,o,a,l,h,p,v,D,E,M,F);return Q!==qt&&Ca(j,H(),Q),Bv}function iw(s,o,a,l,h,p,v,D,E,M,F,j,Q){const oe=Ae(),Re=Iu(oe,s,o,a,l,h,p,v,D,E,M,F,j,Q);return Re!==qt&&Ca(oe,H(),Re),iw}function jv(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re){const Ke=Ae(),it=Ta(Ke,s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re);return it!==qt&&Ca(Ke,H(),it),jv}function Uv(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it){const Dt=Ae(),xt=bd(Dt,s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it);return xt!==qt&&Ca(Dt,H(),xt),Uv}function Om(s){const o=Ae(),a=vu(o,s);return a!==qt&&Ca(o,H(),a),Om}function Ma(s,o,a){Aa(Ti,Ko,Th(Ae(),s,o,a),!0)}function Cc(s,o,a,l,h){Aa(Ti,Ko,bu(Ae(),s,o,a,l,h),!0)}function $1(s,o,a,l,h,p,v){Aa(Ti,Ko,Sh(Ae(),s,o,a,l,h,p,v),!0)}function Cu(s,o,a,l,h,p,v,D,E){Aa(Ti,Ko,Du(Ae(),s,o,a,l,h,p,v,D,E),!0)}function yp(s,o,a,l,h,p,v,D,E,M,F){Aa(Ti,Ko,wu(Ae(),s,o,a,l,h,p,v,D,E,M,F),!0)}function sw(s,o,a,l,h,p,v,D,E,M,F,j,Q){Aa(Ti,Ko,Iu(Ae(),s,o,a,l,h,p,v,D,E,M,F,j,Q),!0)}function ow(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re){Aa(Ti,Ko,Ta(Ae(),s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re),!0)}function $v(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it){Aa(Ti,Ko,bd(Ae(),s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it),!0)}function Hv(s){Aa(Ti,Ko,vu(Ae(),s),!0)}function vp(s,o,a){Do(Th(Ae(),s,o,a))}function aw(s,o,a,l,h){Do(bu(Ae(),s,o,a,l,h))}function Eu(s,o,a,l,h,p,v){Do(Sh(Ae(),s,o,a,l,h,p,v))}function bp(s,o,a,l,h,p,v,D,E){Do(Du(Ae(),s,o,a,l,h,p,v,D,E))}function Oh(s,o,a,l,h,p,v,D,E,M,F){Do(wu(Ae(),s,o,a,l,h,p,v,D,E,M,F))}function Gv(s,o,a,l,h,p,v,D,E,M,F,j,Q){Do(Iu(Ae(),s,o,a,l,h,p,v,D,E,M,F,j,Q))}function Rm(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re){Do(Ta(Ae(),s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re))}function cw(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it){Do(bd(Ae(),s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it))}function lw(s){Do(vu(Ae(),s))}function Wv(s,o,a,l,h){return Na(s,Th(Ae(),o,a,l),h,!1),Wv}function Dp(s,o,a,l,h,p,v){return Na(s,bu(Ae(),o,a,l,h,p),v,!1),Dp}function wp(s,o,a,l,h,p,v,D,E){return Na(s,Sh(Ae(),o,a,l,h,p,v,D),E,!1),wp}function Pm(s,o,a,l,h,p,v,D,E,M,F){return Na(s,Du(Ae(),o,a,l,h,p,v,D,E,M),F,!1),Pm}function Cl(s,o,a,l,h,p,v,D,E,M,F,j,Q){return Na(s,wu(Ae(),o,a,l,h,p,v,D,E,M,F,j),Q,!1),Cl}function km(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re){return Na(s,Iu(Ae(),o,a,l,h,p,v,D,E,M,F,j,Q,oe),Re,!1),km}function Fm(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it){return Na(s,Ta(Ae(),o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke),it,!1),Fm}function Ip(s,o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it,Dt,xt){return Na(s,bd(Ae(),o,a,l,h,p,v,D,E,M,F,j,Q,oe,Re,Ke,it,Dt),xt,!1),Ip}function Cp(s,o,a){return Na(s,vu(Ae(),o),a,!1),Cp}function zv(s,o,a){const l=Ae();return Mi(l,Yi(),o)&&Ms(St(),Ie(),l,s,o,l[11],a,!0),zv}function Rh(s,o,a){const l=Ae();if(Mi(l,Yi(),o)){const p=St(),v=Ie();Ms(p,v,l,s,o,sv(js(p.data),v,l),a,!0)}return Rh}const Ec=void 0;var Ep=["en",[["a","p"],["AM","PM"],Ec],[["AM","PM"],Ec,Ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ec,"{1} 'at' {0}",Ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uw(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Ph={};function Lm(s,o,a){"string"!=typeof o&&(a=o,o=s[Ft.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),Ph[o]=s,a&&(Ph[o][Ft.ExtraData]=a)}function Vm(s){const o=function G1(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=dw(o);if(a)return a;const l=o.split("-")[0];if(a=dw(l),a)return a;if("en"===l)return Ep;throw new ce(701,!1)}function Tp(s){return Vm(s)[Ft.CurrencyCode]||null}function El(s){return Vm(s)[Ft.PluralCase]}function dw(s){return s in Ph||(Ph[s]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[s]),Ph[s]}function H1(){Ph={}}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const hw=["zero","one","two","few","many"],Cd="en-US",Bm={marker:"element"},jm={marker:"ICU"};var yr=(()=>((yr=yr||{})[yr.SHIFT=2]="SHIFT",yr[yr.APPEND_EAGERLY=1]="APPEND_EAGERLY",yr[yr.COMMENT=2]="COMMENT",yr))();let pw=Cd;function Um(s){(function Qt(s,o){null==s&&st(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(pw=s.toLowerCase().replace(/_/g,"-"))}function qv(s,o,a){const l=o.insertBeforeIndex,h=Array.isArray(l)?l[0]:l;return null===h?eD(s,0,a):Nn(a[h])}function Kv(s,o,a,l,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let v=l,D=null;if(3&o.type||(D=v,v=h),null!==v&&0==(2&o.flags))for(let E=1;E<p.length;E++)au(s,v,a[p[E]],D,!1)}}function $m(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const l=s[a];Sp(l)||z1(l,o)&&null===Ed(l)&&Tl(l,o.index)}}function Sp(s){return!(64&s.type)}function z1(s,o){return Sp(o)||s.index>o.index}function Ed(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function Tl(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(nD(qv,Kv),s.insertBeforeIndex=o)}function Sl(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function mw(s,o,a){const l=Jf(s,a,64,null,null);return $m(o,l),l}function Hm(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Nl(s){return s>>>17}function _w(s){return(131070&s)>>>1}let Np=0,Ap=0;function Dw(s,o,a,l){const h=a[11];let v,p=null;for(let D=0;D<o.length;D++){const E=o[D];if("string"==typeof E){const M=o[++D];null===a[M]&&(a[M]=Fg(h,E))}else if("number"==typeof E)switch(1&E){case 0:const M=Nl(E);let F,j;if(null===p&&(p=M,v=Bf(h,l)),M===p?(F=l,j=v):(F=null,j=Nn(a[M])),null!==j){const Ke=_w(E);au(h,j,a[Ke],F,!1);const Dt=Sl(s,Ke);if(null!==Dt&&"object"==typeof Dt){const xt=Hm(Dt,a);null!==xt&&Dw(s,Dt.create[xt],a,a[Dt.anchorIdx])}}break;case 1:const oe=o[++D],Re=o[++D];Xy(h,Vr(E>>>1,a),null,null,oe,Re,null)}else switch(E){case jm:const M=o[++D],F=o[++D];null===a[F]&&Gn(a[F]=KC(h,M),a);break;case Bm:const j=o[++D],Q=o[++D];null===a[Q]&&Gn(a[Q]=ud(h,j,null),a)}}}function Zv(s,o,a,l,h){for(let p=0;p<a.length;p++){const v=a[p],D=a[++p];if(v&h){let E="";for(let M=p+1;M<=p+D;M++){const F=a[M];if("string"==typeof F)E+=F;else if("number"==typeof F)if(F<0)E+=ge(o[l-F]);else{const j=F>>>2;switch(3&F){case 1:const Q=a[++M],oe=a[++M],Re=s.data[j];"string"==typeof Re?Xy(o[11],o[j],null,Re,Q,E,oe):Ms(s,Re,o,Q,E,o[11],oe,!1);break;case 0:const Ke=o[j];null!==Ke&&zb(o[11],Ke,E);break;case 2:kh(s,Sl(s,j),o,E);break;case 3:ww(s,Sl(s,j),l,o)}}}}else{const E=a[p+1];if(E>0&&3==(3&E)){const F=Sl(s,E>>>2);o[F.currentCaseLViewIndex]<0&&ww(s,F,l,o)}}p+=D}}function ww(s,o,a,l){let h=l[o.currentCaseLViewIndex];if(null!==h){let p=Np;h<0&&(h=l[o.currentCaseLViewIndex]=~h,p=-1),Zv(s,l,o.update[h],a,p)}}function kh(s,o,a,l){const h=function IS(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const l=function W1(s,o){const a=El(o)(parseInt(s,10)),l=hw[a];return void 0!==l?l:"other"}(o,function gw(){return pw}());a=s.cases.indexOf(l),-1===a&&"other"!==l&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,l);if(Hm(o,a)!==h&&(Gm(s,o,a),a[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=a[o.anchorIdx];v&&Dw(s,o.create[h],a,v)}}function Gm(s,o,a){let l=Hm(o,a);if(null!==l){const h=o.remove[l];for(let p=0;p<h.length;p++){const v=h[p];if(v>0){const D=Vr(v,a);null!==D&&iD(a[11],D)}else Gm(s,Sl(s,~v),a)}}}function CS(){const s=[];let a,l,o=-1;function p(D,E){o=0;const M=Hm(D,E);l=null!==M?D.remove[M]:Vt}function v(){if(o<l.length){const D=l[o++];return D>0?a[D]:(s.push(o,l),p(a[1].data[~D],a),v())}return 0===s.length?null:(l=s.pop(),o=s.pop(),v())}return function h(D,E){for(a=E;s.length;)s.pop();return p(D.value,E),v}}const Wm=/\ufffd(\d+):?\d*\ufffd/gi,Y1=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,J1=/\ufffd(\d+)\ufffd/,Cw=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,SS=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,NS=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ew=/\uE500/g;function zm(s,o,a,l,h,p,v){const D=pu(s,l,1,null);let E=D<<yr.SHIFT,M=Bs();o===M&&(M=null),null===M&&(E|=yr.APPEND_EAGERLY),v&&(E|=yr.COMMENT,function zC(s){void 0===cd&&(cd=s())}(CS)),h.push(E,null===p?"":p);const F=Jf(s,D,v?32:1,null===p?"":p,null);$m(a,F);const j=F.index;return bi(F,!1),null!==M&&o!==M&&function q1(s,o){let a=s.insertBeforeIndex;null===a?(nD(qv,Kv),a=s.insertBeforeIndex=[null,o]):(function Ne(s,o,a){s!=o&&st(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(M,j),F}function Tw(s,o,a,l,h,p,v){const D=v.match(Wm),E=zm(s,o,a,p,l,D?null:v,!1);D&&Al(h,v,E.index,null,0,null)}function Al(s,o,a,l,h,p){const v=s.length,D=v+1;s.push(null,null);const E=v+2,M=o.split(Wm);let F=0;for(let j=0;j<M.length;j++){const Q=M[j];if(1&j){const oe=h+parseInt(Q,10);s.push(-1-oe),F|=Nw(oe)}else""!==Q&&s.push(Q)}return s.push(a<<2|(l?1:0)),l&&s.push(l,p),s[v]=F,s[D]=s.length-E,F}function Qv(s){let o=0;for(let a=0;a<s.length;a++){const l=s[a];"number"==typeof l&&l<0&&o++}return o}function Nw(s){return 1<<Math.min(s,31)}function Yv(s){let o,p,a="",l=0,h=!1;for(;null!==(o=SS.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(l=o.index,h=!1):(a+=s.substring(l,o.index+o[0].length),p=o[1],h=!0);return a+=s.slice(l),a}function Aw(s,o,a,l,h,p){let v=0;const D={type:h.type,currentCaseLViewIndex:pu(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function Ow(s,o,a){s.push(Nw(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,h,p),function Tu(s,o,a){const l=s.data[o];null===l?s.data[o]=a:l.value=a}(s,p,D);const E=h.values;for(let M=0;M<E.length;M++){const F=E[M],j=[];for(let Q=0;Q<F.length;Q++){const oe=F[Q];if("string"!=typeof oe){const Re=j.push(oe)-1;F[Q]=`\x3c!--\ufffd${Re}\ufffd--\x3e`}}v=Sd(s,D,o,a,l,h.cases[M],F.join(""),j)|v}v&&function xp(s,o,a){s.push(o,1,a<<2|3)}(a,v,p)}function Mw(s){const o=[],a=[];let l=1,h=0;const p=Km(s=s.replace(Cw,function(v,D,E){return l="select"===E?0:1,h=parseInt(D.slice(1),10),""}));for(let v=0;v<p.length;){let D=p[v++].trim();1===l&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const E=Km(p[v++]);o.length>a.length&&a.push(E)}return{type:l,mainBinding:h,cases:o,values:a}}function Km(s){if(!s)return[];let o=0;const a=[],l=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const D=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const E=s.substring(o,D);Cw.test(E)?l.push(Mw(E)):l.push(E),o=D+1}}else{if(0==a.length){const E=s.substring(o,D);l.push(E),o=D+1}a.push("{")}}const v=s.substring(o);return l.push(v),l}function Sd(s,o,a,l,h,p,v,D){const E=[],M=[],F=[];o.cases.push(p),o.create.push(E),o.remove.push(M),o.update.push(F);const Q=Yd(ar()).getInertBodyElement(v),oe=va(Q)||Q;return oe?wo(s,o,a,l,E,M,F,oe,h,D,0):0}function wo(s,o,a,l,h,p,v,D,E,M,F){let j=0,Q=D.firstChild;for(;Q;){const oe=pu(s,a,1,null);switch(Q.nodeType){case Node.ELEMENT_NODE:const Re=Q,Ke=Re.tagName.toLowerCase();if(bf.hasOwnProperty(Ke)){Nd(h,Bm,Ke,E,oe),s.data[oe]=Ke;const je=Re.attributes;for(let Lt=0;Lt<je.length;Lt++){const Fn=je.item(Lt),nr=Fn.name.toLowerCase();Fn.value.match(Wm)?lr.hasOwnProperty(nr)&&Al(v,Fn.value,oe,Fn.name,0,cr[nr]?jo:null):xs(h,oe,Fn)}j=wo(s,o,a,l,h,p,v,Q,oe,M,F+1)|j,os(p,oe,F)}break;case Node.TEXT_NODE:const it=Q.textContent||"",Dt=it.match(Wm);Nd(h,null,Dt?"":it,E,oe),os(p,oe,F),Dt&&(j=Al(v,it,oe,null,0,null)|j);break;case Node.COMMENT_NODE:const xt=J1.exec(Q.textContent||"");if(xt){const Lt=M[parseInt(xt[1],10)];Nd(h,jm,"",E,oe),Aw(s,a,l,E,Lt,oe),xw(p,oe,F)}}Q=Q.nextSibling}return j}function os(s,o,a){0===a&&s.push(o)}function xw(s,o,a){0===a&&(s.push(~o),s.push(o))}function Nd(s,o,a,l,h){null!==o&&s.push(o),s.push(a,h,function K1(s,o,a){return s|o<<17|a<<1}(0,l,h))}function xs(s,o,a){s.push(o<<1|1,a.name,a.value)}const Jv=/\[(\ufffd.+?\ufffd?)\]/,Fh=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Ad=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Xv=/{([A-Z0-9_]+)}/g,Md=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,nE=/\/\*/,rE=/\d+\:(\d+)/;function dr(s,o,a=-1){const l=St(),h=Ae(),p=22+s,v=ni(l.consts,o),D=Bs();l.firstCreatePass&&function eE(s,o,a,l,h,p){const v=Bs(),D=[],E=[],M=[[]];h=function qm(s,o){if(function tE(s){return-1===s}(o))return Yv(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,l=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Yv(s.substring(a,l))}}(h,p);const F=function X1(s){return s.replace(Ew," ")}(h).split(NS);for(let j=0;j<F.length;j++){let Q=F[j];if(0==(1&j)){const oe=Km(Q);for(let Re=0;Re<oe.length;Re++){let Ke=oe[Re];if(0==(1&Re)){const it=Ke;""!==it&&Tw(s,v,M[0],D,E,a,it)}else{const it=Ke;if("object"!=typeof it)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Aw(s,a,E,o,it,zm(s,v,M[0],a,D,"",!0).index)}}}else{const oe=47===Q.charCodeAt(0),Ke=(Q.charCodeAt(oe?1:0),22+Number.parseInt(Q.substring(oe?2:1)));if(oe)M.shift(),bi(Bs(),!1);else{const it=mw(s,M[0],Ke);M.unshift([]),bi(it,!0)}}}s.data[l]={create:D,update:E}}(l,null===D?0:D.index,h,p,v,a);const E=l.data[p],F=Yb(l,D===h[6]?null:D,h);(function Z1(s,o,a,l){const h=s[11];for(let p=0;p<o.length;p++){const v=o[p++],D=o[p],E=(v&yr.COMMENT)===yr.COMMENT,M=(v&yr.APPEND_EAGERLY)===yr.APPEND_EAGERLY,F=v>>>yr.SHIFT;let j=s[F];null===j&&(j=s[F]=E?h.createComment(D):Fg(h,D)),M&&null!==a&&au(h,a,j,l,!1)}})(h,E.create,F,D&&8&D.type?h[D.index]:null),bs(!0)}function e0(){bs(!1)}function Op(s,o,a){dr(s,o,a),e0()}function xa(s,o){const a=St();!function Sw(s,o,a){const h=qn().index,p=[];if(s.firstCreatePass&&null===s.data[o]){for(let v=0;v<a.length;v+=2){const D=a[v],E=a[v+1];if(""!==E){if(Y1.test(E))throw new Error(`ICU expressions are not supported in attributes. Message: "${E}".`);Al(p,E,h,D,Qv(p),null)}}s.data[o]=p}}(a,s+22,ni(a.consts,o))}function Mr(s){return function vw(s){s&&(Np|=1<<Math.min(Ap,31)),Ap++}(Mi(Ae(),Yi(),s)),Mr}function Pw(s){!function bw(s,o,a){if(Ap>0){const l=s.data[a];Zv(s,o,Array.isArray(l)?l:l.update,ri()-Ap-1,Np)}Np=0,Ap=0}(St(),Ae(),s+22)}function kw(s,o={}){return function iE(s,o={}){let a=s;if(Jv.test(s)){const l={},h=[0];a=a.replace(Fh,(p,v,D)=>{const E=v||D,M=l[E]||[];if(M.length||(E.split("|").forEach(Ke=>{const it=Ke.match(rE),Dt=it?parseInt(it[1],10):0,xt=nE.test(Ke);M.push([Dt,xt,Ke])}),l[E]=M),!M.length)throw new Error(`i18n postprocess: unmatched placeholder - ${E}`);const F=h[h.length-1];let j=0;for(let Ke=0;Ke<M.length;Ke++)if(M[Ke][0]===F){j=Ke;break}const[Q,oe,Re]=M[j];return oe?h.pop():F!==Q&&h.push(Q),M.splice(j,1),Re})}return Object.keys(o).length&&(a=a.replace(Ad,(l,h,p,v,D,E)=>o.hasOwnProperty(p)?`${h}${o[p]}${E}`:l),a=a.replace(Xv,(l,h)=>o.hasOwnProperty(h)?o[h]:l),a=a.replace(Md,(l,h)=>{if(o.hasOwnProperty(h)){const p=o[h];if(!p.length)throw new Error(`i18n postprocess: unmatched ICU - ${l} with key: ${h}`);return p.shift()}return l})),a}(s,o)}function Zm(s,o,a,l,h){if(s=X(s),Array.isArray(s))for(let p=0;p<s.length;p++)Zm(s[p],o,a,l,h);else{const p=St(),v=Ae();let D=ns(s)?s:X(s.provide),E=Af(s);const M=qn(),F=1048575&M.providerIndexes,j=M.directiveStart,Q=M.providerIndexes>>20;if(ns(s)||!s.multi){const oe=new Ii(E,h,yh),Re=Oa(D,o,h?F:F+Q,j);-1===Re?(ha(da(M,v),p,D),t0(p,s,o.length),o.push(D),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(oe),v.push(oe)):(a[Re]=oe,v[Re]=oe)}else{const oe=Oa(D,o,F+Q,j),Re=Oa(D,o,F,F+Q),Ke=oe>=0&&a[oe],it=Re>=0&&a[Re];if(h&&!it||!h&&!Ke){ha(da(M,v),p,D);const Dt=function oE(s,o,a,l,h){const p=new Ii(s,a,yh);return p.multi=[],p.index=o,p.componentProviders=0,Rp(p,h,l&&!a),p}(h?Qm:$i,a.length,h,l,E);!h&&it&&(a[Re].providerFactory=Dt),t0(p,s,o.length,0),o.push(D),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(Dt),v.push(Dt)}else t0(p,s,oe>-1?oe:Re,Rp(a[h?Re:oe],E,!h&&l));!h&&l&&it&&a[Re].componentProviders++}}}function t0(s,o,a,l){const h=ns(o),p=function ny(s){return!!s.useClass}(o);if(h||p){const E=(p?X(o.useClass):o).prototype.ngOnDestroy;if(E){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const F=M.indexOf(a);-1===F?M.push(a,[l,E]):M[F+1].push(l,E)}else M.push(a,E)}}}function Rp(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Oa(s,o,a,l){for(let h=a;h<l;h++)if(o[h]===s)return h;return-1}function $i(s,o,a,l){return Ym(this.multi,[])}function Qm(s,o,a,l){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=ko(a,a[1],this.providerFactory.index,l);p=D.slice(0,v),Ym(h,p);for(let E=v;E<D.length;E++)p.push(D[E])}else p=[],Ym(h,p);return p}function Ym(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Tc(s,o=[]){return a=>{a.providersResolver=(l,h)=>function sE(s,o,a){const l=St();if(l.firstCreatePass){const h=rr(s);Zm(a,l.data,l.blueprint,h,!0),Zm(o,l.data,l.blueprint,h,!1)}}(l,h?h(s):s,o)}}class Os{}class n0{}function Jm(s,o){return new Lh(s,o??null)}const Fw=Jm;class Lh extends Os{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _u(this);const l=Sn(o);this._bootstrapComponents=bc(l.bootstrap),this._r3Injector=dD(o,a,[{provide:Os,useValue:this},{provide:hl,useValue:this.componentFactoryResolver}],ye(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Xm extends n0{constructor(o){super(),this.moduleType=o}create(o){return new Lh(this.moduleType,o)}}class AS extends Os{constructor(o,a,l){super(),this.componentFactoryResolver=new _u(this),this.instance=null;const h=new Sf([...o,{provide:Os,useValue:this},{provide:hl,useValue:this.componentFactoryResolver}],a||nd(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function r0(s,o,a=null){return new AS(s,o,a).injector}let s0=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=eh(0,a.type),h=l.length>0?r0([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=on({token:s,providedIn:"environment",factory:()=>new s(Qn(An))}),s})();function aE(s){s.getStandaloneInjector=o=>o.get(s0).getOrCreateStandaloneInjector(s)}function Lw(s){const o=Ui(s);if(null===o)return null;if(void 0===o.component){const a=o.lView;if(null===a)return null;o.component=function $C(s,o){const a=o[1].data[s];return 2&a.flags?o[a.directiveStart]:null}(o.nodeIndex,a)}return o.component}function Vw(s){!function e_(s){if(typeof Element<"u"&&!(s instanceof Element))throw new Error("Expecting instance of DOM Element")}(s);const o=Ui(s),a=o?o.lView:null;return null===a?null:a[8]}function Bw(s){const o=Ui(s);let l,a=o?o.lView:null;if(null===a)return null;for(;2===a[1].type&&(l=fh(a));)a=l;return 256&a[2]?null:a[8]}function cE(s){const o=uh(s);return null!==o?[wc(o)]:[]}function lE(s){const o=Ui(s),a=o?o.lView:null;return null===a?uu.NULL:new uo(a[1].data[o.nodeIndex],a)}function uE(s){if(s instanceof Text)return[];const o=Ui(s),a=o?o.lView:null;if(null===a)return[];const h=o.nodeIndex;return a[1]?.data[h]?(void 0===o.directives&&(o.directives=tn(h,a,!1)),null===o.directives?[]:[...o.directives]):[]}function xS(s){const{constructor:o}=s;if(!o)throw new Error("Unable to find the instance constructor");const a=re(o);if(a)return{inputs:a.inputs,outputs:a.outputs,encapsulation:a.encapsulation,changeDetection:a.onPush?Wn.OnPush:Wn.Default};const l=nt(o);return l?{inputs:l.inputs,outputs:l.outputs}:null}function jw(s){return Ui(s).native}function o0(s){const o=Ui(s),a=null===o?null:o.lView;if(null===a)return[];const h=a[7],p=a[1].cleanup,v=[];if(p&&h)for(let D=0;D<p.length;){const E=p[D++],M=p[D++];if("string"==typeof E){const F=E,j=Nn(a[M]),Q=h[p[D++]],oe=p[D++],Re="boolean"==typeof oe||oe>=0?"dom":"output",Ke="boolean"==typeof oe&&oe;s==j&&v.push({element:s,name:F,callback:Q,useCapture:Ke,type:Re})}}return v.sort(dE),v}function dE(s,o){return s.name==o.name?0:s.name<o.name?-1:1}function hE(s){return void 0!==s.type&&void 0!==s.template&&void 0!==s.declaredInputs}function t_(s,o,a,l){return Kn(()=>{const h=s;null!==o&&(h.hasOwnProperty("decorators")&&void 0!==h.decorators?h.decorators.push(...o):h.decorators=o),null!==a&&(h.ctorParameters=a),null!==l&&(h.propDecorators=h.hasOwnProperty("propDecorators")&&void 0!==h.propDecorators?{...h.propDecorators,...l}:l)})}function Uw(s,o,a){const l=Zn()+s,h=Ae();return h[l]===qt?zo(h,l,a?o.call(a):o()):Eh(h,l)}function $w(s,o,a,l){return n_(Ae(),Zn(),s,o,a,l)}function Hw(s,o,a,l,h){return kp(Ae(),Zn(),s,o,a,l,h)}function a0(s,o,a,l,h,p){return r_(Ae(),Zn(),s,o,a,l,h,p)}function Gw(s,o,a,l,h,p,v){return i_(Ae(),Zn(),s,o,a,l,h,p,v)}function Ww(s,o,a,l,h,p,v,D){const E=Zn()+s,M=Ae(),F=Qs(M,E,a,l,h,p);return Mi(M,E+4,v)||F?zo(M,E+5,D?o.call(D,a,l,h,p,v):o(a,l,h,p,v)):Eh(M,E+5)}function zw(s,o,a,l,h,p,v,D,E){const M=Zn()+s,F=Ae(),j=Qs(F,M,a,l,h,p);return yu(F,M+4,v,D)||j?zo(F,M+6,E?o.call(E,a,l,h,p,v,D):o(a,l,h,p,v,D)):Eh(F,M+6)}function qw(s,o,a,l,h,p,v,D,E,M){const F=Zn()+s,j=Ae();let Q=Qs(j,F,a,l,h,p);return mm(j,F+4,v,D,E)||Q?zo(j,F+7,M?o.call(M,a,l,h,p,v,D,E):o(a,l,h,p,v,D,E)):Eh(j,F+7)}function as(s,o,a,l,h,p,v,D,E,M,F){const j=Zn()+s,Q=Ae(),oe=Qs(Q,j,a,l,h,p);return Qs(Q,j+4,v,D,E,M)||oe?zo(Q,j+8,F?o.call(F,a,l,h,p,v,D,E,M):o(a,l,h,p,v,D,E,M)):Eh(Q,j+8)}function Pp(s,o,a,l){return Kw(Ae(),Zn(),s,o,a,l)}function Vh(s,o){const a=s[o];return a===qt?void 0:a}function n_(s,o,a,l,h,p){const v=o+a;return Mi(s,v,h)?zo(s,v+1,p?l.call(p,h):l(h)):Vh(s,v+1)}function kp(s,o,a,l,h,p,v){const D=o+a;return yu(s,D,h,p)?zo(s,D+2,v?l.call(v,h,p):l(h,p)):Vh(s,D+2)}function r_(s,o,a,l,h,p,v,D){const E=o+a;return mm(s,E,h,p,v)?zo(s,E+3,D?l.call(D,h,p,v):l(h,p,v)):Vh(s,E+3)}function i_(s,o,a,l,h,p,v,D,E){const M=o+a;return Qs(s,M,h,p,v,D)?zo(s,M+4,E?l.call(E,h,p,v,D):l(h,p,v,D)):Vh(s,M+4)}function Kw(s,o,a,l,h,p){let v=o+a,D=!1;for(let E=0;E<h.length;E++)Mi(s,v++,h[E])&&(D=!0);return D?zo(s,v,l.apply(p,h)):Vh(s,v)}function Zw(s,o){const a=St();let l;const h=s+22;a.firstCreatePass?(l=function fE(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[h]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,l.onDestroy)):l=a.data[h];const p=l.factory||(l.factory=Fr(l.type)),v=hr(yh);try{const D=Ro(!1),E=p();return Ro(D),qD(a,Ae(),h,E),E}finally{hr(v)}}function Qw(s,o,a){const l=s+22,h=Ae(),p=vi(h,l);return Lp(h,l)?n_(h,Zn(),o,p.transform,a,p):p.transform(a)}function Bh(s,o,a,l){const h=s+22,p=Ae(),v=vi(p,h);return Lp(p,h)?kp(p,Zn(),o,v.transform,a,l,v):v.transform(a,l)}function c0(s,o,a,l,h){const p=s+22,v=Ae(),D=vi(v,p);return Lp(v,p)?r_(v,Zn(),o,D.transform,a,l,h,D):D.transform(a,l,h)}function Fp(s,o,a,l,h,p){const v=s+22,D=Ae(),E=vi(D,v);return Lp(D,v)?i_(D,Zn(),o,E.transform,a,l,h,p,E):E.transform(a,l,h,p)}function l0(s,o,a){const l=s+22,h=Ae(),p=vi(h,l);return Lp(h,l)?Kw(h,Zn(),o,p.transform,a,p):p.transform.apply(p,a)}function Lp(s,o){return s[1].data[o].pure}function u0(s){return o=>{setTimeout(s,void 0,o)}}const Sc=class pE extends I.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,p=a||(()=>null),v=l;if(o&&"object"==typeof o){const E=o;h=E.next?.bind(E),p=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(p=u0(p),h&&(h=u0(h)),v&&(v=u0(v)));const D=super.subscribe({next:h,error:p,complete:v});return o instanceof u.w0&&o.add(D),D}};function Yw(){return this._results[yd()]()}class jh{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=yd(),l=jh.prototype;l[a]||(l[a]=Yw)}get changes(){return this._changes||(this._changes=new Sc)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=ii(o);(this._changesDetected=!function Zc(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],p=o[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Uh=(()=>{class s{}return s.__NG_ELEMENT_ID__=Vp,s})();const d0=Uh,Jw=class extends d0{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tViews,h=fu(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(l)),Xf(l,h,o),new mu(h)}};function Vp(){return s_(qn(),Ae())}function s_(s,o){return 4&s.type?new Jw(o,s,_(s,o)):null}let $h=(()=>{class s{}return s.__NG_ELEMENT_ID__=h0,s})();function h0(){return c_(qn(),Ae())}const gE=$h,o_=class extends gE{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return _(this._hostTNode,this._hostLView)}get injector(){return new uo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Wl(this._hostTNode,this._hostLView);if(Lu(o)){const a=ws(o,this._hostLView),l=Tr(o);return new uo(a[1].data[l+8],a)}return new uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=f0(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const v=o.createEmbeddedView(a||{},p);return this.insert(v,h),v}createComponent(o,a,l,h,p){const v=o&&!Ei(o);let D;if(v)D=a;else{const j=a||{};D=j.index,l=j.injector,h=j.projectableNodes,p=j.environmentInjector||j.ngModuleRef}const E=v?o:new Ch(re(o)),M=l||this.parentInjector;if(!p&&null==E.ngModule){const Q=(v?M:this.parentInjector).get(An,null);Q&&(p=Q)}const F=E.create(M,h,void 0,p);return this.insert(F.hostView,D),F}insert(o,a){const l=o._lView,h=l[1];if(function io(s){return Dr(s[3])}(l)){const F=this.indexOf(o);if(-1!==F)this.detach(F);else{const j=l[3],Q=new o_(j,j[6],j[3]);Q.detach(Q.indexOf(o))}}const p=this._adjustIndex(a),v=this._lContainer;!function Kb(s,o,a,l){const h=10+l,p=a.length;l>0&&(a[h-1][4]=o),l<p-10?(o[4]=a[h],Hu(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function QC(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=64}(h,l,v,p);const D=gy(p,v),E=l[11],M=Bf(E,v[7]);return null!==M&&function ZC(s,o,a,l,h,p){l[0]=h,l[6]=o,jf(s,l,a,1,h,p)}(h,v[6],E,l,M,D),o.attachToViewContainerRef(),Hu(a_(v),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=f0(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=hy(this._lContainer,a);l&&(Lo(a_(this._lContainer),a),Zb(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=hy(this._lContainer,a);return l&&null!=Lo(a_(this._lContainer),a)?new mu(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function f0(s){return s[8]}function a_(s){return s[8]||(s[8]=[])}function c_(s,o){let a;const l=o[s.index];if(Dr(l))a=l;else{let h;if(8&s.type)h=Nn(l);else{const p=o[11];h=p.createComment("");const v=Er(s,o);au(p,Bf(p,v),h,function Lg(s,o){return s.nextSibling(o)}(p,v),!1)}o[s.index]=a=tv(l,o,h,s),cm(o,a)}return new o_(a,s,o)}class Hh{constructor(o){this.queryList=o,this.matches=null}clone(){return new Hh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const v=a.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new Bp(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==g0(o,a).matches&&this.queries[a].setDirty()}}class l_{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class jp{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new jp(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class u_{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new u_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(o,a,yE(a,p)),this.matchTNodeWithReadOption(o,a,Cs(a,o,p,!1,!1))}else l===Uh?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Cs(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===f||h===$h||h===Uh&&4&a.type)this.addMatch(a.index,-2);else{const p=Cs(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function yE(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function Gh(s,o,a,l){return-1===a?function Xw(s,o){return 11&s.type?_(s,o):4&s.type?s_(s,o):null}(o,s):-2===a?function eI(s,o,a){return a===f?_(o,s):a===Uh?s_(o,s):a===$h?c_(o,s):void 0}(s,o,l):ko(s,s[1],a,o)}function tI(s,o,a,l){const h=o[19].queries[l];if(null===h.matches){const p=s.data,v=a.matches,D=[];for(let E=0;E<v.length;E+=2){const M=v[E];D.push(M<0?null:Gh(o,p[M],v[E+1],a.metadata.read))}h.matches=D}return h.matches}function p0(s,o,a,l){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const v=tI(s,o,h,a);for(let D=0;D<p.length;D+=2){const E=p[D];if(E>0)l.push(v[D/2]);else{const M=p[D+1],F=o[-E];for(let j=10;j<F.length;j++){const Q=F[j];Q[17]===Q[3]&&p0(Q[1],Q,M,l)}if(null!==F[9]){const j=F[9];for(let Q=0;Q<j.length;Q++){const oe=j[Q];p0(oe[1],oe,M,l)}}}}}return l}function nI(s){const o=Ae(),a=St(),l=Bc();ca(l+1);const h=g0(a,l);if(s.dirty&&function Qi(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?p0(a,o,l,[]):tI(a,o,h,l);s.reset(p,g),s.notifyOnChanges()}return!0}return!1}function rI(s,o,a){const l=St();l.firstCreatePass&&(aI(l,new l_(s,o,a),-1),2==(2&o)&&(l.staticViewQueries=!0)),oI(l,Ae(),o)}function iI(s,o,a,l){const h=St();if(h.firstCreatePass){const p=qn();aI(h,new l_(o,a,l),p.index),function d_(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}oI(h,Ae(),a)}function sI(){return function vE(s,o){return s[19].queries[o].queryList}(Ae(),Bc())}function oI(s,o,a){const l=new jh(4==(4&a));Ky(s,o,l,l.destroy),null===o[19]&&(o[19]=new Bp),o[19].queries.push(new Hh(l))}function aI(s,o,a){null===s.queries&&(s.queries=new jp),s.queries.track(new u_(o,a))}function g0(s,o){return s.queries.getByIndex(o)}function m0(s,o){return s_(s,o)}const Gi=(()=>({\u0275\u0275attribute:dv,\u0275\u0275attributeInterpolate1:sp,\u0275\u0275attributeInterpolate2:hv,\u0275\u0275attributeInterpolate3:op,\u0275\u0275attributeInterpolate4:Sa,\u0275\u0275attributeInterpolate5:ap,\u0275\u0275attributeInterpolate6:fv,\u0275\u0275attributeInterpolate7:cp,\u0275\u0275attributeInterpolate8:pv,\u0275\u0275attributeInterpolateV:gv,\u0275\u0275defineComponent:Ve,\u0275\u0275defineDirective:te,\u0275\u0275defineInjectable:on,\u0275\u0275defineInjector:$t,\u0275\u0275defineNgModule:Kt,\u0275\u0275definePipe:Oe,\u0275\u0275directiveInject:yh,\u0275\u0275getInheritedFactory:ql,\u0275\u0275inject:Qn,\u0275\u0275injectAttribute:zc,\u0275\u0275invalidFactory:_D,\u0275\u0275invalidFactoryDep:qd,\u0275\u0275templateRefExtractor:m0,\u0275\u0275resetView:Ao,\u0275\u0275NgOnChangesFeature:yi,\u0275\u0275ProvidersFeature:Tc,\u0275\u0275CopyDefinitionFeature:GD,\u0275\u0275InheritDefinitionFeature:cv,\u0275\u0275StandaloneFeature:aE,\u0275\u0275nextContext:Iv,\u0275\u0275namespaceHTML:un,\u0275\u0275namespaceMathML:nn,\u0275\u0275namespaceSVG:lt,\u0275\u0275enableBindings:No,\u0275\u0275disableBindings:Ls,\u0275\u0275elementStart:Nh,\u0275\u0275elementEnd:up,\u0275\u0275element:_v,\u0275\u0275elementContainerStart:Ah,\u0275\u0275elementContainerEnd:bm,\u0275\u0275elementContainer:dp,\u0275\u0275pureFunction0:Uw,\u0275\u0275pureFunction1:$w,\u0275\u0275pureFunction2:Hw,\u0275\u0275pureFunction3:a0,\u0275\u0275pureFunction4:Gw,\u0275\u0275pureFunction5:Ww,\u0275\u0275pureFunction6:zw,\u0275\u0275pureFunction7:qw,\u0275\u0275pureFunction8:as,\u0275\u0275pureFunctionV:Pp,\u0275\u0275getCurrentView:Dm,\u0275\u0275restoreView:Vs,\u0275\u0275listener:wm,\u0275\u0275projection:Cv,\u0275\u0275syntheticHostProperty:Rh,\u0275\u0275syntheticHostListener:vv,\u0275\u0275pipeBind1:Qw,\u0275\u0275pipeBind2:Bh,\u0275\u0275pipeBind3:c0,\u0275\u0275pipeBind4:Fp,\u0275\u0275pipeBindV:l0,\u0275\u0275projectionDef:gn,\u0275\u0275hostProperty:zv,\u0275\u0275property:mv,\u0275\u0275propertyInterpolate:Em,\u0275\u0275propertyInterpolate1:fp,\u0275\u0275propertyInterpolate2:Dd,\u0275\u0275propertyInterpolate3:Tm,\u0275\u0275propertyInterpolate4:Yn,\u0275\u0275propertyInterpolate5:xi,\u0275\u0275propertyInterpolate6:qo,\u0275\u0275propertyInterpolate7:Sm,\u0275\u0275propertyInterpolate8:Ev,\u0275\u0275propertyInterpolateV:Mh,\u0275\u0275pipe:Zw,\u0275\u0275queryRefresh:nI,\u0275\u0275viewQuery:rI,\u0275\u0275loadQuery:sI,\u0275\u0275contentQuery:iI,\u0275\u0275reference:vm,\u0275\u0275classMap:Id,\u0275\u0275classMapInterpolate1:Ma,\u0275\u0275classMapInterpolate2:Cc,\u0275\u0275classMapInterpolate3:$1,\u0275\u0275classMapInterpolate4:Cu,\u0275\u0275classMapInterpolate5:yp,\u0275\u0275classMapInterpolate6:sw,\u0275\u0275classMapInterpolate7:ow,\u0275\u0275classMapInterpolate8:$v,\u0275\u0275classMapInterpolateV:Hv,\u0275\u0275styleMap:Do,\u0275\u0275styleMapInterpolate1:vp,\u0275\u0275styleMapInterpolate2:aw,\u0275\u0275styleMapInterpolate3:Eu,\u0275\u0275styleMapInterpolate4:bp,\u0275\u0275styleMapInterpolate5:Oh,\u0275\u0275styleMapInterpolate6:Gv,\u0275\u0275styleMapInterpolate7:Rm,\u0275\u0275styleMapInterpolate8:cw,\u0275\u0275styleMapInterpolateV:lw,\u0275\u0275styleProp:xh,\u0275\u0275stylePropInterpolate1:Wv,\u0275\u0275stylePropInterpolate2:Dp,\u0275\u0275stylePropInterpolate3:wp,\u0275\u0275stylePropInterpolate4:Pm,\u0275\u0275stylePropInterpolate5:Cl,\u0275\u0275stylePropInterpolate6:km,\u0275\u0275stylePropInterpolate7:Fm,\u0275\u0275stylePropInterpolate8:Ip,\u0275\u0275stylePropInterpolateV:Cp,\u0275\u0275classProp:gp,\u0275\u0275advance:Ug,\u0275\u0275template:ym,\u0275\u0275text:rw,\u0275\u0275textInterpolate:kv,\u0275\u0275textInterpolate1:_p,\u0275\u0275textInterpolate2:Fv,\u0275\u0275textInterpolate3:Lv,\u0275\u0275textInterpolate4:Vv,\u0275\u0275textInterpolate5:Bv,\u0275\u0275textInterpolate6:iw,\u0275\u0275textInterpolate7:jv,\u0275\u0275textInterpolate8:Uv,\u0275\u0275textInterpolateV:Om,\u0275\u0275i18n:Op,\u0275\u0275i18nAttributes:xa,\u0275\u0275i18nExp:Mr,\u0275\u0275i18nStart:dr,\u0275\u0275i18nEnd:e0,\u0275\u0275i18nApply:Pw,\u0275\u0275i18nPostprocess:kw,\u0275\u0275resolveWindow:dh,\u0275\u0275resolveDocument:hh,\u0275\u0275resolveBody:Ff,\u0275\u0275setComponentScope:mt,\u0275\u0275setNgModuleScope:K,\u0275\u0275registerNgModuleType:Kd,\u0275\u0275sanitizeHtml:fc,\u0275\u0275sanitizeStyle:pc,\u0275\u0275sanitizeResourceUrl:al,\u0275\u0275sanitizeScript:$o,\u0275\u0275sanitizeUrl:Ks,\u0275\u0275sanitizeUrlOrResourceUrl:gc,\u0275\u0275trustConstantHtml:If,\u0275\u0275trustConstantResourceUrl:cl,forwardRef:z,resolveForwardRef:X}))();let Wh=null;function cI(){Wh=null}function y0(s){return!!Sn(s)}const zh=[];let v0=!1;function IE(){if(!v0){v0=!0;try{for(let s=zh.length-1;s>=0;s--){const{moduleType:o,ngModule:a}=zh[s];a.declarations&&a.declarations.every(CE)&&(zh.splice(s,1),LS(o,a))}}finally{v0=!1}}}function CE(s){return Array.isArray(s)?s.every(CE):!!X(s)}function h_(s,o={}){EE(s,o),void 0!==o.id&&Kd(s,o.id),function kS(s,o){zh.push({moduleType:s,ngModule:o})}(s,o)}function EE(s,o,a=!1){const l=ii(o.declarations||Vt);let h=null;Object.defineProperty(s,_n,{configurable:!0,get:()=>(null===h&&(h=sr().compileNgModule(Gi,`ng:///${s.name}/\u0275mod.js`,{type:s,bootstrap:ii(o.bootstrap||Vt).map(X),declarations:l.map(X),imports:ii(o.imports||Vt).map(X).map(uI),exports:ii(o.exports||Vt).map(X).map(uI),schemas:o.schemas?ii(o.schemas):null,id:o.id||null}),h.schemas||(h.schemas=[])),h)});let p=null;Object.defineProperty(s,pr,{get:()=>{if(null===p){const D=sr();p=D.compileFactory(Gi,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,deps:ze(s),target:D.FactoryTarget.NgModule,typeArgumentCount:0})}return p},configurable:!1});let v=null;Object.defineProperty(s,Rr,{get:()=>{if(null===v){const D={name:s.name,type:s,providers:o.providers||Vt,imports:[(o.imports||Vt).map(X),(o.exports||Vt).map(X)]};v=sr().compileInjector(Gi,`ng:///${s.name}/\u0275inj.js`,D)}return v},configurable:!1})}let qh=new WeakMap,Up=new WeakMap;function FS(){qh=new WeakMap,Up=new WeakMap,zh.length=0}function LS(s,o){const a=ii(o.declarations||Vt),l=Kh(s);a.forEach(h=>{(h=X(h)).hasOwnProperty(Ri)?D0(re(h),l):!h.hasOwnProperty(cn)&&!h.hasOwnProperty(Zi)&&(h.ngSelectorScope=s)})}function D0(s,o){s.directiveDefs=()=>Array.from(o.compilation.directives).map(a=>a.hasOwnProperty(Ri)?re(a):nt(a)).filter(a=>!!a),s.pipeDefs=()=>Array.from(o.compilation.pipes).map(a=>Ct(a)),s.schemas=o.schemas,s.tView=null}function Kh(s){if(y0(s))return function SE(s){const o=Sn(s,!0);if(null!==o.transitiveCompileScopes)return o.transitiveCompileScopes;const a={schemas:o.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return bc(o.imports).forEach(l=>{const h=Kh(l);h.exported.directives.forEach(p=>a.compilation.directives.add(p)),h.exported.pipes.forEach(p=>a.compilation.pipes.add(p))}),bc(o.declarations).forEach(l=>{Ct(l)?a.compilation.pipes.add(l):a.compilation.directives.add(l)}),bc(o.exports).forEach(l=>{const h=l;if(y0(h)){const p=Kh(h);p.exported.directives.forEach(v=>{a.compilation.directives.add(v),a.exported.directives.add(v)}),p.exported.pipes.forEach(v=>{a.compilation.pipes.add(v),a.exported.pipes.add(v)})}else Ct(h)?a.exported.pipes.add(h):a.exported.directives.add(h)}),o.transitiveCompileScopes=a,a}(s);if(fn(s)){if(null!==(re(s)||nt(s)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([s]),pipes:new Set}};if(null!==Ct(s))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([s])}}}throw new Error(`${s.name} does not have a module def (\u0275mod property)`)}function uI(s){return function _0(s){return void 0!==s.ngModule}(s)?s.ngModule:s}let dI=0;function NE(s,o){let a=null;(function _a(s,o){ya(o)&&(ma.set(s,o),Bo.add(s))})(s,o),w0(s,o),Object.defineProperty(s,Ri,{get:()=>{if(null===a){const l=sr();if(ya(o)){const M=[`Component '${s.name}' is not resolved:`];throw o.templateUrl&&M.push(` - templateUrl: ${o.templateUrl}`),o.styleUrls&&o.styleUrls.length&&M.push(` - styleUrls: ${JSON.stringify(o.styleUrls)}`),M.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(M.join("\n"))}const h=function DE(){return Wh}();let p=o.preserveWhitespaces;void 0===p&&(p=null!==h&&void 0!==h.preserveWhitespaces&&h.preserveWhitespaces);let v=o.encapsulation;void 0===v&&(v=null!==h&&void 0!==h.defaultEncapsulation?h.defaultEncapsulation:It.Emulated);const D=o.templateUrl||`ng:///${s.name}/template.html`,E={...I0(s,o),typeSourceSpan:l.createParseSourceSpan("Component",s.name,D),template:o.template||"",preserveWhitespaces:p,styles:o.styles||Vt,animations:o.animations,declarations:[],changeDetection:o.changeDetection,encapsulation:v,interpolation:o.interpolation,viewProviders:o.viewProviders||null,isStandalone:!!o.standalone};dI++;try{if(E.usesInheritance&&C0(s),a=l.compileComponent(Gi,D,E),o.standalone){const M=ii(o.imports||Vt),{directiveDefs:F,pipeDefs:j}=function VS(s,o){let a=null,l=null;return{directiveDefs:()=>{if(null===a){a=[re(s)];const v=new Set;for(const D of o){const E=X(D);if(!v.has(E))if(v.add(E),Sn(E)){const M=Kh(E);for(const F of M.exported.directives){const j=re(F)||nt(F);j&&!v.has(F)&&(v.add(F),a.push(j))}}else{const M=re(E)||nt(E);M&&a.push(M)}}}return a},pipeDefs:()=>{if(null===l){l=[];const v=new Set;for(const D of o){const E=X(D);if(!v.has(E))if(v.add(E),Sn(E)){const M=Kh(E);for(const F of M.exported.pipes){const j=Ct(F);j&&!v.has(F)&&(v.add(F),l.push(j))}}else{const M=Ct(E);M&&l.push(M)}}}return l}}}(s,M);a.directiveDefs=F,a.pipeDefs=j,a.dependencies=()=>M.map(X)}}finally{dI--}if(0===dI&&IE(),function BS(s){return void 0!==s.ngSelectorScope}(s)){const M=Kh(s.ngSelectorScope);D0(a,M)}if(o.schemas){if(!o.standalone)throw new Error(`The 'schemas' was specified for the ${he(s)} but is only valid on a component that is standalone.`);a.schemas=o.schemas}else o.standalone&&(a.schemas=[])}return a},configurable:!1})}function hI(s,o){let a=null;w0(s,o||{}),Object.defineProperty(s,cn,{get:()=>{if(null===a){const l=ME(s,o||{});a=sr().compileDirective(Gi,l.sourceMapUrl,l.metadata)}return a},configurable:!1})}function ME(s,o){const a=s&&s.name,l=`ng:///${a}/\u0275dir.js`,h=sr(),p=I0(s,o);return p.typeSourceSpan=h.createParseSourceSpan("Directive",a,l),p.usesInheritance&&C0(s),{metadata:p,sourceMapUrl:l}}function w0(s,o){let a=null;Object.defineProperty(s,pr,{get:()=>{if(null===a){const l=ME(s,o),h=sr();a=h.compileFactory(Gi,`ng:///${s.name}/\u0275fac.js`,{name:l.metadata.name,type:l.metadata.type,typeArgumentCount:0,deps:ze(s),target:h.FactoryTarget.Directive})}return a},configurable:!1})}function xE(s){return Object.getPrototypeOf(s.prototype)===Object.prototype}function I0(s,o){const a=er(),l=a.ownPropMetadata(s);return{name:s.name,type:s,selector:void 0!==o.selector?o.selector:null,host:o.host||Jr,propMetadata:l,inputs:o.inputs||Vt,outputs:o.outputs||Vt,queries:E0(s,l,T0),lifecycle:{usesOnChanges:a.hasLifecycleHook(s,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!xE(s),exportAs:gI(o.exportAs),providers:o.providers||null,viewQueries:E0(s,l,Zh),isStandalone:!!o.standalone}}function C0(s){const o=Object.prototype;let a=Object.getPrototypeOf(s.prototype).constructor;for(;a&&a!==o;)!nt(a)&&!re(a)&&OE(a)&&hI(a,null),a=Object.getPrototypeOf(a)}function fI(s){return"string"==typeof s?_I(s):X(s)}function pI(s,o){return{propertyName:s,predicate:fI(o.selector),descendants:o.descendants,first:o.first,read:o.read?o.read:null,static:!!o.static,emitDistinctChangesOnly:!!o.emitDistinctChangesOnly}}function E0(s,o,a){const l=[];for(const h in o)if(o.hasOwnProperty(h)){const p=o[h];p.forEach(v=>{if(a(v)){if(!v.selector)throw new Error(`Can't construct a query for the property "${h}" of "${he(s)}" since the query selector wasn't defined.`);if(p.some(mI))throw new Error("Cannot combine @Input decorators with query decorators");l.push(pI(h,v))}})}return l}function gI(s){return void 0===s?null:_I(s)}function T0(s){const o=s.ngMetadataName;return"ContentChild"===o||"ContentChildren"===o}function Zh(s){const o=s.ngMetadataName;return"ViewChild"===o||"ViewChildren"===o}function mI(s){return"Input"===s.ngMetadataName}function _I(s){return s.split(",").map(o=>o.trim())}const yI=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function OE(s){const o=er();if(yI.some(l=>o.hasLifecycleHook(s,l)))return!0;const a=o.propMetadata(s);for(const l in a){const h=a[l];for(let p=0;p<h.length;p++){const v=h[p],D=v.ngMetadataName;if(mI(v)||T0(v)||Zh(v)||"Output"===D||"HostBinding"===D||"HostListener"===D)return!0}}return!1}function g_(s,o){let a=null,l=null;Object.defineProperty(s,pr,{get:()=>{if(null===l){const h=$p(s,o),p=sr();l=p.compileFactory(Gi,`ng:///${h.name}/\u0275fac.js`,{name:h.name,type:h.type,typeArgumentCount:0,deps:ze(s),target:p.FactoryTarget.Pipe})}return l},configurable:!1}),Object.defineProperty(s,Zi,{get:()=>{if(null===a){const h=$p(s,o);a=sr().compilePipe(Gi,`ng:///${h.name}/\u0275pipe.js`,h)}return a},configurable:!1})}function $p(s,o){return{type:s,name:s.name,pipeName:o.name,pure:void 0===o.pure||o.pure,isStandalone:!!o.standalone}}const S0=ji("Directive",(s={})=>s,void 0,void 0,(s,o)=>hI(s,o)),RE=ji("Component",(s={})=>({changeDetection:Wn.Default,...s}),S0,void 0,(s,o)=>NE(s,o)),N0=ji("Pipe",s=>({pure:!0,...s}),void 0,void 0,(s,o)=>g_(s,o)),PE=Nr("Input",s=>({bindingPropertyName:s})),vI=Nr("Output",s=>({bindingPropertyName:s})),bI=Nr("HostBinding",s=>({hostPropertyName:s})),DI=Nr("HostListener",(s,o)=>({eventName:s,args:o})),kE=ji("NgModule",s=>s,void 0,void 0,(s,o)=>h_(s,o));function Hp(...s){}const wI=new Cn("Application Initializer");let m_=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Hp,this.reject=Hp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(hp(p))a.push(p);else if(yv(p)){const v=new Promise((D,E)=>{p.subscribe({complete:D,error:E})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Qn(wI,8))},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const A0=new Cn("AppId",{providedIn:"root",factory:__});function __(){return`${Pa()}${Pa()}${Pa()}`}const LE={provide:A0,useFactory:__,deps:[]};function Pa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const II=new Cn("Platform Initializer"),VE=new Cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),CI=new Cn("appBootstrapListener"),BE=new Cn("Application Packages Root URL"),EI=new Cn("AnimationModuleType");let jE=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const y_=new Cn("LocaleId",{providedIn:"root",factory:()=>S(y_,at.Optional|at.SkipSelf)||function UE(){return typeof $localize<"u"&&$localize.locale||Cd}()}),M0=new Cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),TI=new Cn("Translations"),$E=new Cn("TranslationsFormat");var ka=(()=>((ka=ka||{})[ka.Error=0]="Error",ka[ka.Warning=1]="Warning",ka[ka.Ignore=2]="Ignore",ka))();class Su{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Nc=(()=>{class s{compileModuleSync(a){return new Xm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=bc(Sn(a).declarations).reduce((v,D)=>{const E=re(D);return E&&v.push(new Ch(E)),v},[]);return new Su(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const SI=new Cn("compilerOptions");class x0{}function HE(s){np(_l(s)),cE(s).forEach(o=>_m(o))}let AI=!1;function xd(){AI||(AI=!0,Zo("\u0275setProfiler",ti),Zo("getDirectiveMetadata",xS),Zo("getComponent",Lw),Zo("getContext",Vw),Zo("getListeners",o0),Zo("getOwningComponent",Bw),Zo("getHostElement",jw),Zo("getInjector",lE),Zo("getRootComponents",cE),Zo("getDirectives",uE),Zo("applyChanges",HE))}function Zo(s,o){if(typeof COMPILED>"u"||!COMPILED){const a=Dn;if(a){let l=a.ng;l||(l=a.ng={}),l[s]=o}}}const Nu=(()=>Promise.resolve(0))();function v_(s){typeof Zone>"u"?Nu.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ci{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sc(!1),this.onMicrotaskEmpty=new Sc(!1),this.onStable=new Sc(!1),this.onError=new Sc(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function cs(){let s=Dn.requestAnimationFrame,o=Dn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function OI(s){const o=()=>{!function xI(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Dn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,b_(s),s.isCheckStableRunning=!0,MI(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),b_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,v,D)=>{try{return O0(s),a.invokeTask(h,p,v,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),R0(s)}},onInvoke:(a,l,h,p,v,D,E)=>{try{return O0(s),a.invoke(h,p,v,D,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),R0(s)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,b_(s),MI(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ci.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(ci.isInAngularZone())throw new ce(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,o,GE,Hp,Hp);try{return p.runTask(v,a,l)}finally{p.cancelTask(v)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const GE={};function MI(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function b_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function O0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function R0(s){s._nesting--,MI(s)}class P0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sc,this.onMicrotaskEmpty=new Sc,this.onStable=new Sc,this.onError=new Sc}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}const k0=new Cn(""),F0=new Cn("");let w_,D_=(()=>{class s{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,w_||(V0(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ci.assertNotInAngularZone(),v_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())v_(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Qn(ci),Qn(L0),Qn(F0))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})(),L0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return w_?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function V0(s){w_=s}let Ml=null;const B0=new Cn("AllowMultipleToken"),I_=new Cn("PlatformDestroyListeners");function C_(s,o,a){const l=new Xm(a);return Promise.resolve(l)}function E_(s){return s.isBoundToModule}class RI{constructor(o,a){this.name=o,this.token=a}}function j0(s){if(Ml&&!Ml.get(B0,!1))throw new ce(400,!1);Ml=s;const o=s.get(N_);return T_(s),o}function T_(s){const o=s.get(II,null);o&&o.forEach(a=>a())}function S_(s){const{rootComponent:o,appProviders:a,platformProviders:l}=s,h=function PI(s=[]){if(Ml)return Ml;const o=H0(s);return Ml=o,T_(o),o}(l),p=qE("zone.js",zE());return p.run(()=>{const D=r0([{provide:ci,useValue:p},...a||[]],h,"Environment Injector"),E=D.get(su,null);let M;p.runOutsideAngular(()=>{M=p.onError.subscribe({next:Q=>{E.handleError(Q)}})});const F=()=>D.destroy(),j=h.get(I_);return j.add(F),D.onDestroy(()=>{M.unsubscribe(),j.delete(F)}),Od(E,p,()=>{const Q=D.get(m_);return Q.runInitializers(),Q.donePromise.then(()=>{Um(D.get(y_,Cd)||Cd);const Re=D.get(Yh);return void 0!==o&&Re.bootstrap(o),Re})})})}function U0(s,o,a=[]){const l=`Platform: ${o}`,h=new Cn(l);return(p=[])=>{let v=Fa();if(!v||v.injector.get(B0,!1)){const D=[...a,...p,{provide:h,useValue:!0}];s?s(D):j0(H0(D,l))}return $0()}}function $0(s){const o=Fa();if(!o)throw new ce(401,!1);return o}function H0(s=[],o){return uu.create({name:o,providers:[{provide:ba,useValue:"platform"},{provide:I_,useValue:new Set([()=>Ml=null])},...s]})}function Rs(){Fa()?.destroy()}function Fa(){return Ml?.get(N_)??null}let N_=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=qE(l?.ngZone,zE(l)),p=[{provide:ci,useValue:h}];return h.run(()=>{const v=uu.create({providers:p,parent:this.injector,name:a.moduleType.name}),D=a.create(v),E=D.injector.get(su,null);if(!E)throw new ce(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:F=>{E.handleError(F)}});D.onDestroy(()=>{Rd(this._modules,D),M.unsubscribe()})}),Od(E,h,()=>{const M=D.injector.get(m_);return M.runInitializers(),M.donePromise.then(()=>(Um(D.injector.get(y_,Cd)||Cd),this._moduleDoBootstrap(D),D))})})}bootstrapModule(a,l=[]){const h=Qh({},l);return C_(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(Yh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new ce(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(I_,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Qn(uu))},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function zE(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}function qE(s,o){let a;return a="noop"===s?new P0:("zone.js"===s?void 0:s)||new ci(o),a}function Od(s,o,a){try{const l=a();return hp(l)?l.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}function Qh(s,o){return Array.isArray(o)?o.reduce(Qh,s):{...s,...o}}let Yh=(()=>{class s{constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new B.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new B.y(D=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{ci.assertNotInAngularZone(),v_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{ci.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{E.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ae.T)(p,v.pipe((0,se.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const h=a instanceof ru;if(!this._injector.get(m_).done)throw!h&&fn(a),new ce(405,false);let v;v=h?a:this._injector.get(hl).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const D=E_(v)?void 0:this._injector.get(Os),M=v.create(uu.NULL,[],l||v.selector,D),F=M.location.nativeElement,j=M.injector.get(k0,null);return j?.registerApplication(F),M.onDestroy(()=>{this.detachView(M.hostView),Rd(this.components,M),j?.unregisterApplication(F)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Rd(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(CI,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Rd(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ce(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Qn(ci),Qn(An),Qn(su))},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Rd(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let FI=!0,KE=!1;function jS(){return KE=!0,FI}function US(){if(KE)throw new Error("Cannot enable prod mode after platform setup.");FI=!1}function $S(s){const o=kt(s);if(!o)throw ZE(s);return new Xm(o)}function HS(s){const o=kt(s);if(!o)throw ZE(s);return o}function ZE(s){return new Error(`No module with ID ${s} loaded`)}let QE=(()=>{class s{}return s.__NG_ELEMENT_ID__=LI,s})();function LI(s){return function VI(s,o,a){if(gs(s)&&!a){const l=en(s.index,o);return new mu(l,l)}return 47&s.type?new mu(o[16],o):null}(qn(),Ae(),16==(16&s))}class BI extends QE{}class YE extends BI{}class W0{constructor(o,a){this.name=o,this.callback=a}}function Gp(s){return s.map(o=>o.nativeElement)}class Jh{constructor(o){this.nativeNode=o}get parent(){const o=this.nativeNode.parentNode;return o?new Mc(o):null}get injector(){return lE(this.nativeNode)}get componentInstance(){const o=this.nativeNode;return o&&(Lw(o)||Bw(o))}get context(){return Lw(this.nativeNode)||Vw(this.nativeNode)}get listeners(){return o0(this.nativeNode).filter(o=>"dom"===o.type)}get references(){return function OS(s){const o=Ui(s);if(null===o)return{};if(void 0===o.localRefs){const a=o.lView;if(null===a)return{};o.localRefs=function Rg(s,o){const a=s[1].data[o];if(a&&a.localNames){const l={};let h=a.index+1;for(let p=0;p<a.localNames.length;p+=2)l[a.localNames[p]]=s[h],h++;return l}return null}(a,o.nodeIndex)}return o.localRefs||{}}(this.nativeNode)}get providerTokens(){return function MS(s){const o=Ui(s),a=o?o.lView:null;if(null===a)return[];const l=a[1],h=l.data[o.nodeIndex],p=[],D=h.directiveEnd;for(let E=1048575&h.providerIndexes;E<D;E++){let M=l.data[E];hE(M)&&(M=M.type),p.push(M)}return p}(this.nativeNode)}}class Mc extends Jh{constructor(o){super(o)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const o=Ui(this.nativeNode),a=o?o.lView:null;return null!==a?a[1].data[o.nodeIndex].value:this.nativeNode.nodeName}get properties(){const o=Ui(this.nativeNode),a=o?o.lView:null;if(null===a)return{};const l=a[1].data,h=l[o.nodeIndex],p={};return function Wp(s,o){if(s){let a=Object.getPrototypeOf(s);const l=Node.prototype;for(;null!==a&&a!==l;){const h=Object.getOwnPropertyDescriptors(a);for(let p in h)if(!p.startsWith("__")&&!p.startsWith("on")){const v=s[p];z0(v)&&(o[p]=v)}a=Object.getPrototypeOf(a)}}}(this.nativeElement,p),function jI(s,o,a,l){let h=o.propertyBindings;if(null!==h)for(let p=0;p<h.length;p++){const v=h[p],E=l[v].split("\ufffd"),M=E[0];if(E.length>1){let F=E[1];for(let j=1;j<E.length-1;j++)F+=ge(a[v+j-1])+E[j+1];s[M]=F}else s[M]=a[v]}}(p,h,a,l),p}get attributes(){const o={},a=this.nativeElement;if(!a)return o;const l=Ui(a),h=l?l.lView:null;if(null===h)return{};const p=h[1].data[l.nodeIndex].attrs,v=[];if(p){let E=0;for(;E<p.length;){const M=p[E];if("string"!=typeof M)break;o[M]=p[E+1],v.push(M.toLowerCase()),E+=2}}const D=a.attributes;for(let E=0;E<D.length;E++){const M=D[E],F=M.name.toLowerCase();-1===v.indexOf(F)&&(o[F]=M.value)}return o}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const o={},l=this.nativeElement.className;return("string"!=typeof l?l.baseVal.split(" "):l.split(" ")).forEach(p=>o[p]=!0),o}get childNodes(){const o=this.nativeNode.childNodes,a=[];for(let l=0;l<o.length;l++)a.push(qp(o[l]));return a}get children(){const o=this.nativeElement;if(!o)return[];const a=o.children,l=[];for(let h=0;h<a.length;h++)l.push(qp(a[h]));return l}query(o){return this.queryAll(o)[0]||null}queryAll(o){const a=[];return q0(this,o,a,!0),a}queryAllNodes(o){const a=[];return q0(this,o,a,!1),a}triggerEventHandler(o,a){const l=this.nativeNode,h=[];this.listeners.forEach(p=>{if(p.name===o){const v=p.callback;v.call(l,a),h.push(v)}}),"function"==typeof l.eventListeners&&l.eventListeners(o).forEach(p=>{if(-1!==p.toString().indexOf("__ngUnwrap__")){const v=p("__ngUnwrap__");return-1===h.indexOf(v)&&v.call(l,a)}})}}function z0(s){return"string"==typeof s||"boolean"==typeof s||"number"==typeof s||null===s}function q0(s,o,a,l){const h=Ui(s.nativeNode),p=h?h.lView:null;null!==p?xl(p[1].data[h.nodeIndex],p,o,a,l,s.nativeNode):A_(s.nativeNode,o,a,l)}function xl(s,o,a,l,h,p){const v=function So(s,o){const a=null===s?-1:s.index;return-1!==a?Nn(o[a]):null}(s,o);if(11&s.type){if(Xh(v,a,l,h,p),gs(s)){const E=en(s.index,o);E&&E[1].firstChild&&xl(E[1].firstChild,E,a,l,h,p)}else s.child&&xl(s.child,o,a,l,h,p),v&&A_(v,a,l,h);const D=o[s.index];Dr(D)&&K0(D,a,l,h,p)}else if(4&s.type){const D=o[s.index];Xh(D[7],a,l,h,p),K0(D,a,l,h,p)}else if(16&s.type){const D=o[16],M=D[6].projection[s.projection];if(Array.isArray(M))for(let F of M)Xh(F,a,l,h,p);else if(M){const F=D[3];xl(F[1].data[M.index],F,a,l,h,p)}}else s.child&&xl(s.child,o,a,l,h,p);if(p!==v){const D=4&s.flags?s.projectionNext:s.next;D&&xl(D,o,a,l,h,p)}}function K0(s,o,a,l,h){for(let p=10;p<s.length;p++){const v=s[p],D=v[1].firstChild;D&&xl(D,v,o,a,l,h)}}function Xh(s,o,a,l,h){if(h!==s){const p=qp(s);if(!p)return;(l&&p instanceof Mc&&o(p)&&-1===a.indexOf(p)||!l&&o(p)&&-1===a.indexOf(p))&&a.push(p)}}function A_(s,o,a,l){const h=s.childNodes,p=h.length;for(let v=0;v<p;v++){const D=h[v],E=qp(D);E&&((l&&E instanceof Mc&&o(E)&&-1===a.indexOf(E)||!l&&o(E)&&-1===a.indexOf(E))&&a.push(E),A_(D,o,a,l))}}const zp="__ng_debug__";function qp(s){return s instanceof Node?(s.hasOwnProperty(zp)||(s[zp]=s.nodeType==Node.ELEMENT_NODE?new Mc(s):new Jh(s)),s[zp]):null}function WS(s){return null}class ef{constructor(){}supports(o){return vd(o)}create(o){return new Kp(o)}}const x_=(s,o)=>o;class Kp{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||x_}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const v=!l||a&&a.currentIndex<UI(l,h,p)?a:l,D=UI(v,h,p),E=v.currentIndex;if(v===l)h--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{p||(p=[]);const M=D-h,F=E-h;if(M!=F){for(let Q=0;Q<M;Q++){const oe=Q<p.length?p[Q]:p[Q]=0,Re=oe+Q;F<=Re&&Re<M&&(p[Q]=oe+1)}p[v.previousIndex]=F-M}}D!==E&&o(v,D,E)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!vd(o))throw new ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,v,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)p=o[D],v=this._trackByFn(D,p),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,p,v,D)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,D),l=!0),a=a._next}else h=0,function N1(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[yd()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,D=>{v=this._trackByFn(h,D),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,D,v,h)),Object.is(a.item,D)||this._addIdentityChange(a,D)):(a=this._mismatch(a,D,v,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new JE(a,l),p,h),o}_verifyReinsertion(o,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Zp),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zp),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class JE{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Q0{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Zp{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new Q0,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UI(s,o,a){const l=s.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class $I{constructor(){}supports(o){return o instanceof Map||ip(o)}create(){return new HI}}class HI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||ip(o)))throw new ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const l=new XE(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class XE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Y0(){return new J0([new ef])}let J0=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Y0()),deps:[[s,new Nt,new $e]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new ce(901,!1)}}return s.\u0275prov=on({token:s,providedIn:"root",factory:Y0}),s})();function GI(){return new O_([new $I])}let O_=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||GI()),deps:[[s,new Nt,new $e]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new ce(901,!1)}}return s.\u0275prov=on({token:s,providedIn:"root",factory:GI}),s})();const qS=[new $I],eT=new J0([new ef]),WI=new O_(qS),eb=U0(null,"core",[]);let tT=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Qn(Yh))},s.\u0275mod=Kt({type:s}),s.\u0275inj=$t({}),s})();function KS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}const nT=!0;function Qp(s){return sr().compileDirectiveDeclaration(Gi,`ng:///${s.type.name}/\u0275fac.js`,s)}function Pd(s){t_(s.type,s.decorators,s.ctorParameters??null,s.propDecorators??null)}function zI(s){return sr().compileComponentDeclaration(Gi,`ng:///${s.type.name}/\u0275cmp.js`,s)}function qI(s){return sr(function KI(s){switch(s){case mr.Directive:return"directive";case mr.Component:return"component";case mr.Injectable:return"injectable";case mr.Pipe:return"pipe";case mr.NgModule:return"NgModule"}}(s.target)).compileFactoryDeclaration(Gi,`ng:///${s.type.name}/\u0275fac.js`,s)}function ZS(s){return sr().compileInjectableDeclaration(Gi,`ng:///${s.type.name}/\u0275prov.js`,s)}function rT(s){return sr().compileInjectorDeclaration(Gi,`ng:///${s.type.name}/\u0275inj.js`,s)}function ZI(s){return sr().compileNgModuleDeclaration(Gi,`ng:///${s.type.name}/\u0275mod.js`,s)}function QS(s){return sr().compilePipeDeclaration(Gi,`ng:///${s.type.name}/\u0275pipe.js`,s)}function YS(s,o){const a=re(s),l=o.elementInjector||nd();return new Ch(a).create(l,o.projectableNodes,o.hostElement,o.environmentInjector)}function JS(s){const o=re(s);if(!o)return null;const a=new Ch(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone}}}},3942:(yt,Se,V)=>{"use strict";V.d(Se,{Z:()=>ce});var I=V(2090),u=V(4859),B=V(9681),ae=V(1877);class se{constructor(ge,he){this._delegate=ge,this.firebase=he,(0,B._addComponent)(ge,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(ge,he=B._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(ge);return!ot.isInitialized()&&"EXPLICIT"===(null===(Je=ot.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:he})}_removeServiceInstance(ge,he=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(he)}_addComponent(ge){(0,B._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,B._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ve(){const Ge=function ye(Ge){const ge={},he={__esModule:!0,initializeApp:function ke(Xe,q={}){const Ne=B.initializeApp(Xe,q);if((0,I.r3)(ge,Ne.name))return ge[Ne.name];const ee=new Ge(Ne,he);return ge[Ne.name]=ee,ee},app:ot,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Pe(Xe){const q=Xe.name,Ne=q.replace("-compat","");if(B._registerComponent(Xe)&&"PUBLIC"===Xe.type){const ee=(ie=ot())=>{if("function"!=typeof ie[Ne])throw De.create("invalid-app-argument",{appName:q});return ie[Ne]()};void 0!==Xe.serviceProps&&(0,I.ZB)(ee,Xe.serviceProps),he[Ne]=ee,Ge.prototype[Ne]=function(...ie){return this._getService.bind(this,q).apply(this,Xe.multipleInstances?ie:[])}}return"PUBLIC"===Xe.type?he[Ne]:null},removeApp:function Je(Xe){delete ge[Xe]},useAsService:function Ye(Xe,q){return"serverAuth"===q?null:q},modularAPIs:B}};function ot(Xe){if(!(0,I.r3)(ge,Xe=Xe||B._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:Xe});return ge[Xe]}return he.default=he,Object.defineProperty(he,"apps",{get:function Me(){return Object.keys(ge).map(Xe=>ge[Xe])}}),ot.App=Ge,he}(se);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function ge(he){(0,I.ZB)(Ge,he)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),Ge}(),z=new ae.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ce=G;!function we(Ge){(0,B.registerVersion)("@firebase/app-compat","0.1.38",Ge)}()},9681:(yt,Se,V)=>{"use strict";V.r(Se),V.d(Se,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Fs,_DEFAULT_ENTRY_NAME:()=>Qt,_addComponent:()=>sn,_addOrOverwriteComponent:()=>on,_apps:()=>bn,_clearComponents:()=>ds,_components:()=>En,_getProvider:()=>$t,_registerComponent:()=>vr,_removeServiceInstance:()=>In,deleteApp:()=>Js,getApp:()=>Rr,getApps:()=>Qr,initializeApp:()=>ui,onLog:()=>hs,registerVersion:()=>br,setLogLevel:()=>hr});var I=V(5861),u=V(4859),B=V(1877),ae=V(2090),se=V(8766);class pe{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(mt=>{if(function De(_t){return"VERSION"===_t.getComponent()?.type}(mt)){const Rt=mt.getImmediate();return`${Rt.library}/${Rt.version}`}return null}).filter(mt=>mt).join(" ")}}const ye="@firebase/app",G=new B.Yd("@firebase/app"),Qt="[DEFAULT]",st={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bn=new Map,En=new Map;function sn(_t,Ve){try{_t.container.addComponent(Ve)}catch(mt){G.debug(`Component ${Ve.name} failed to register with FirebaseApp ${_t.name}`,mt)}}function on(_t,Ve){_t.container.addOrOverwriteComponent(Ve)}function vr(_t){const Ve=_t.name;if(En.has(Ve))return G.debug(`There were multiple attempts to register component ${Ve}.`),!1;En.set(Ve,_t);for(const mt of bn.values())sn(mt,_t);return!0}function $t(_t,Ve){const mt=_t.container.getProvider("heartbeat").getImmediate({optional:!0});return mt&&mt.triggerHeartbeat(),_t.container.getProvider(Ve)}function In(_t,Ve,mt=Qt){$t(_t,Ve).clearInstance(mt)}function ds(){En.clear()}const $r=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zr{constructor(Ve,mt,Rt){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},mt),this._name=mt.name,this._automaticDataCollectionEnabled=mt.automaticDataCollectionEnabled,this._container=Rt,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const Fs="9.13.0";function ui(_t,Ve={}){let mt=_t;"object"!=typeof Ve&&(Ve={name:Ve});const Rt=Object.assign({name:Qt,automaticDataCollectionEnabled:!1},Ve),Ot=Rt.name;if("string"!=typeof Ot||!Ot)throw $r.create("bad-app-name",{appName:String(Ot)});if(mt||(mt=(0,ae.aH)()),!mt)throw $r.create("no-options");const Kt=bn.get(Ot);if(Kt){if((0,ae.vZ)(mt,Kt.options)&&(0,ae.vZ)(Rt,Kt.config))return Kt;throw $r.create("duplicate-app",{appName:Ot})}const K=new u.H0(Ot);for(const te of En.values())K.addComponent(te);const W=new Zr(mt,Rt,K);return bn.set(Ot,W),W}function Rr(_t=Qt){const Ve=bn.get(_t);if(!Ve&&_t===Qt)return ui();if(!Ve)throw $r.create("no-app",{appName:_t});return Ve}function Qr(){return Array.from(bn.values())}function Js(_t){return at.apply(this,arguments)}function at(){return(at=(0,I.Z)(function*(_t){const Ve=_t.name;bn.has(Ve)&&(bn.delete(Ve),yield Promise.all(_t.container.getProviders().map(mt=>mt.delete())),_t.isDeleted=!0)})).apply(this,arguments)}function br(_t,Ve,mt){var Rt;let Ot=null!==(Rt=st[_t])&&void 0!==Rt?Rt:_t;mt&&(Ot+=`-${mt}`);const Kt=Ot.match(/\s|\//),K=Ve.match(/\s|\//);if(Kt||K){const W=[`Unable to register library "${Ot}" with version "${Ve}":`];return Kt&&W.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),Kt&&K&&W.push("and"),K&&W.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void G.warn(W.join(" "))}vr(new u.wA(`${Ot}-version`,()=>({library:Ot,version:Ve}),"VERSION"))}function hs(_t,Ve){if(null!==_t&&"function"!=typeof _t)throw $r.create("invalid-log-argument");(0,B.Am)(_t,Ve)}function hr(_t){(0,B.Ub)(_t)}const Kn="firebase-heartbeat-store";let Wn=null;function Gt(){return Wn||(Wn=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(_t,Ve)=>{0===Ve&&_t.createObjectStore(Kn)}}).catch(_t=>{throw $r.create("idb-open",{originalErrorMessage:_t.message})})),Wn}function It(){return(It=(0,I.Z)(function*(_t){var Ve;try{return(yield Gt()).transaction(Kn).objectStore(Kn).get(Tn(_t))}catch(mt){if(mt instanceof ae.ZR)G.warn(mt.message);else{const Rt=$r.create("idb-get",{originalErrorMessage:null===(Ve=mt)||void 0===Ve?void 0:Ve.message});G.warn(Rt.message)}}})).apply(this,arguments)}function Dn(_t,Ve){return fr.apply(this,arguments)}function fr(){return(fr=(0,I.Z)(function*(_t,Ve){var mt;try{const Ot=(yield Gt()).transaction(Kn,"readwrite");return yield Ot.objectStore(Kn).put(Ve,Tn(_t)),Ot.done}catch(Rt){if(Rt instanceof ae.ZR)G.warn(Rt.message);else{const Ot=$r.create("idb-set",{originalErrorMessage:null===(mt=Rt)||void 0===mt?void 0:mt.message});G.warn(Ot.message)}}})).apply(this,arguments)}function Tn(_t){return`${_t.name}!${_t.options.appId}`}class Ri{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const mt=this.container.getProvider("app").getImmediate();this._storage=new _n(mt),this._heartbeatsCachePromise=this._storage.read().then(Rt=>(this._heartbeatsCache=Rt,Rt))}triggerHeartbeat(){var Ve=this;return(0,I.Z)(function*(){const Rt=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=cn();if(null===Ve._heartbeatsCache&&(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise),Ve._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!Ve._heartbeatsCache.heartbeats.some(Kt=>Kt.date===Ot))return Ve._heartbeatsCache.heartbeats.push({date:Ot,agent:Rt}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(Kt=>{const K=new Date(Kt.date).valueOf();return Date.now()-K<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache)})()}getHeartbeatsHeader(){var Ve=this;return(0,I.Z)(function*(){if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null===Ve._heartbeatsCache||0===Ve._heartbeatsCache.heartbeats.length)return"";const mt=cn(),{heartbeatsToSend:Rt,unsentEntries:Ot}=function Zi(_t,Ve=1024){const mt=[];let Rt=_t.slice();for(const Ot of _t){const Kt=mt.find(K=>K.agent===Ot.agent);if(Kt){if(Kt.dates.push(Ot.date),pr(mt)>Ve){Kt.dates.pop();break}}else if(mt.push({agent:Ot.agent,dates:[Ot.date]}),pr(mt)>Ve){mt.pop();break}Rt=Rt.slice(1)}return{heartbeatsToSend:mt,unsentEntries:Rt}}(Ve._heartbeatsCache.heartbeats),Kt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Rt}));return Ve._heartbeatsCache.lastSentHeartbeatDate=mt,Ot.length>0?(Ve._heartbeatsCache.heartbeats=Ot,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),Kt})()}}function cn(){return(new Date).toISOString().substring(0,10)}class _n{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,I.Z)(function*(){return(yield Ve._canUseIndexedDBPromise)&&(yield function Et(_t){return It.apply(this,arguments)}(Ve.app))||{heartbeats:[]}})()}overwrite(Ve){var mt=this;return(0,I.Z)(function*(){var Rt;if(yield mt._canUseIndexedDBPromise){const Kt=yield mt.read();return Dn(mt.app,{lastSentHeartbeatDate:null!==(Rt=Ve.lastSentHeartbeatDate)&&void 0!==Rt?Rt:Kt.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var mt=this;return(0,I.Z)(function*(){var Rt;if(yield mt._canUseIndexedDBPromise){const Kt=yield mt.read();return Dn(mt.app,{lastSentHeartbeatDate:null!==(Rt=Ve.lastSentHeartbeatDate)&&void 0!==Rt?Rt:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...Ve.heartbeats]})}})()}}function pr(_t){return(0,ae.L)(JSON.stringify({version:2,heartbeats:_t})).length}!function Pr(_t){vr(new u.wA("platform-logger",Ve=>new pe(Ve),"PRIVATE")),vr(new u.wA("heartbeat",Ve=>new Ri(Ve),"PRIVATE")),br(ye,"0.8.3",_t),br(ye,"0.8.3","esm2017"),br("fire-js","")}("")},4859:(yt,Se,V)=>{"use strict";V.d(Se,{H0:()=>ye,wA:()=>B});var I=V(5861),u=V(2090);class B{constructor(G,z,X){this.name=G,this.instanceFactory=z,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ae="[DEFAULT]";class se{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const X=new u.BH;if(this.instancesDeferred.set(z,X),this.isInitialized(z)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:z});He&&X.resolve(He)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const X=this.normalizeInstanceIdentifier(G?.identifier),He=null!==(z=G?.optional)&&void 0!==z&&z;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(we){if(He)return null;throw we}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function De(ve){return"EAGER"===ve.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[z,X]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(z);try{const we=this.getOrInitializeService({instanceIdentifier:He});X.resolve(we)}catch{}}}}clearInstance(G=ae){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,I.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...z.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ae){return this.instances.has(G)}getOptions(G=ae){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:X,options:z});for(const[we,ce]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(we)&&ce.resolve(He);return He}onInit(G,z){var X;const He=this.normalizeInstanceIdentifier(z),we=null!==(X=this.onInitCallbacks.get(He))&&void 0!==X?X:new Set;we.add(G),this.onInitCallbacks.set(He,we);const ce=this.instances.get(He);return ce&&G(ce,He),()=>{we.delete(G)}}invokeOnInitCallbacks(G,z){const X=this.onInitCallbacks.get(z);if(X)for(const He of X)try{He(G,z)}catch{}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=G,ve===ae?void 0:ve),options:z}),this.instances.set(G,X),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch{}var ve;return X||null}normalizeInstanceIdentifier(G=ae){return this.component?this.component.multipleInstances?G:ae:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new se(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,Se,V)=>{"use strict";V.d(Se,{Am:()=>ve,Ub:()=>ye,Yd:()=>De,in:()=>u});const I=[];var u=(()=>{return(G=u||(u={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",u;var G})();const B={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},ae=u.INFO,se={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},pe=(G,z,...X)=>{if(z<G.logLevel)return;const He=(new Date).toISOString(),we=se[z];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[we](`[${He}]  ${G.name}:`,...X)};class De{constructor(z){this.name=z,this._logLevel=ae,this._logHandler=pe,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in u))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?B[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...z),this._logHandler(this,u.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...z),this._logHandler(this,u.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,u.INFO,...z),this._logHandler(this,u.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,u.WARN,...z),this._logHandler(this,u.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...z),this._logHandler(this,u.ERROR,...z)}}function ye(G){I.forEach(z=>{z.setLogLevel(G)})}function ve(G,z){for(const X of I){let He=null;z&&z.level&&(He=B[z.level]),X.userLogHandler=null===G?null:(we,ce,...Ge)=>{const ge=Ge.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(he=>he).join(" ");ce>=(He??we.logLevel)&&G({level:u[ce].toLowerCase(),message:ge,args:Ge,type:we.name})}}}},8766:(yt,Se,V)=>{"use strict";V.d(Se,{Lj:()=>ke,X3:()=>ot});var I=V(5861);let B,ae;const De=new WeakMap,ye=new WeakMap,ve=new WeakMap,G=new WeakMap,z=new WeakMap;let we={get(q,Ne,ee){if(q instanceof IDBTransaction){if("done"===Ne)return ye.get(q);if("objectStoreNames"===Ne)return q.objectStoreNames||ve.get(q);if("store"===Ne)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return he(q[Ne])},set:(q,Ne,ee)=>(q[Ne]=ee,!0),has:(q,Ne)=>q instanceof IDBTransaction&&("done"===Ne||"store"===Ne)||Ne in q};function ge(q){return"function"==typeof q?function Ge(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...Ne){return q.apply(Je(this),Ne),he(De.get(this))}:function(...Ne){return he(q.apply(Je(this),Ne))}:function(Ne,...ee){const ie=q.call(Je(this),Ne,...ee);return ve.set(ie,Ne.sort?Ne.sort():[Ne]),he(ie)}}(q):(q instanceof IDBTransaction&&function He(q){if(ye.has(q))return;const Ne=new Promise((ee,ie)=>{const fe=()=>{q.removeEventListener("complete",le),q.removeEventListener("error",Fe),q.removeEventListener("abort",Fe)},le=()=>{ee(),fe()},Fe=()=>{ie(q.error||new DOMException("AbortError","AbortError")),fe()};q.addEventListener("complete",le),q.addEventListener("error",Fe),q.addEventListener("abort",Fe)});ye.set(q,Ne)}(q),((q,Ne)=>Ne.some(ee=>q instanceof ee))(q,function se(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,we):q)}function he(q){if(q instanceof IDBRequest)return function X(q){const Ne=new Promise((ee,ie)=>{const fe=()=>{q.removeEventListener("success",le),q.removeEventListener("error",Fe)},le=()=>{ee(he(q.result)),fe()},Fe=()=>{ie(q.error),fe()};q.addEventListener("success",le),q.addEventListener("error",Fe)});return Ne.then(ee=>{ee instanceof IDBCursor&&De.set(ee,q)}).catch(()=>{}),z.set(Ne,q),Ne}(q);if(G.has(q))return G.get(q);const Ne=ge(q);return Ne!==q&&(G.set(q,Ne),z.set(Ne,q)),Ne}const Je=q=>z.get(q);function ot(q,Ne,{blocked:ee,upgrade:ie,blocking:fe,terminated:le}={}){const Fe=indexedDB.open(q,Ne),We=he(Fe);return ie&&Fe.addEventListener("upgradeneeded",bt=>{ie(he(Fe.result),bt.oldVersion,bt.newVersion,he(Fe.transaction))}),ee&&Fe.addEventListener("blocked",()=>ee()),We.then(bt=>{le&&bt.addEventListener("close",()=>le()),fe&&bt.addEventListener("versionchange",()=>fe())}).catch(()=>{}),We}function ke(q,{blocked:Ne}={}){const ee=indexedDB.deleteDatabase(q);return Ne&&ee.addEventListener("blocked",()=>Ne()),he(ee).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],Pe=["put","add","delete","clear"],Ye=new Map;function Xe(q,Ne){if(!(q instanceof IDBDatabase)||Ne in q||"string"!=typeof Ne)return;if(Ye.get(Ne))return Ye.get(Ne);const ee=Ne.replace(/FromIndex$/,""),ie=Ne!==ee,fe=Pe.includes(ee);if(!(ee in(ie?IDBIndex:IDBObjectStore).prototype)||!fe&&!Me.includes(ee))return;const le=function(){var Fe=(0,I.Z)(function*(We,...bt){const rn=this.transaction(We,fe?"readwrite":"readonly");let Qt=rn.store;return ie&&(Qt=Qt.index(bt.shift())),(yield Promise.all([Qt[ee](...bt),fe&&rn.done]))[0]});return function(bt){return Fe.apply(this,arguments)}}();return Ye.set(Ne,le),le}!function ce(q){we=q(we)}(q=>({...q,get:(Ne,ee,ie)=>Xe(Ne,ee)||q.get(Ne,ee,ie),has:(Ne,ee)=>!!Xe(Ne,ee)||q.has(Ne,ee)}))},5861:(yt,Se,V)=>{"use strict";function I(B,ae,se,pe,De,ye,ve){try{var G=B[ye](ve),z=G.value}catch(X){return void se(X)}G.done?ae(z):Promise.resolve(z).then(pe,De)}function u(B){return function(){var ae=this,se=arguments;return new Promise(function(pe,De){var ye=B.apply(ae,se);function ve(z){I(ye,pe,De,ve,G,"next",z)}function G(z){I(ye,pe,De,ve,G,"throw",z)}ve(void 0)})}}V.d(Se,{Z:()=>u})}},yt=>{yt(yt.s=9803)}]);